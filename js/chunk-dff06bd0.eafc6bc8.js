(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-dff06bd0"],{"0206":function(e,t){function n(e){return new Int8Array(e)}function r(e){return new Int16Array(e)}function a(e){return new Int32Array(e)}function i(e){return new Float32Array(e)}function o(e){return new Float64Array(e)}function s(e){if(1==e.length)return i(e[0]);var t=e[0];e=e.slice(1);for(var n=[],r=0;r<t;r++)n.push(s(e));return n}function l(e){if(1==e.length)return a(e[0]);var t=e[0];e=e.slice(1);for(var n=[],r=0;r<t;r++)n.push(l(e));return n}function c(e){if(1==e.length)return r(e[0]);var t=e[0];e=e.slice(1);for(var n=[],a=0;a<t;a++)n.push(c(e));return n}function u(e){if(1==e.length)return new Array(e[0]);var t=e[0];e=e.slice(1);for(var n=[],r=0;r<t;r++)n.push(u(e));return n}var f={fill:function(e,t,n,r){if(2==arguments.length)for(var a=0;a<e.length;a++)e[a]=arguments[1];else for(a=t;a<n;a++)e[a]=r}},p={arraycopy:function(e,t,n,r,a){var i=t+a;while(t<i)n[r++]=e[t++]}},_={};function d(e){this.ordinal=e}_.SQRT2=1.4142135623730951,_.FAST_LOG10=function(e){return Math.log10(e)},_.FAST_LOG10_X=function(e,t){return Math.log10(e)*t},d.short_block_allowed=new d(0),d.short_block_coupled=new d(1),d.short_block_dispensed=new d(2),d.short_block_forced=new d(3);var h={};function v(e){this.ordinal=e}h.MAX_VALUE=34028235e31,v.vbr_off=new v(0),v.vbr_mt=new v(1),v.vbr_rh=new v(2),v.vbr_abr=new v(3),v.vbr_mtrh=new v(4),v.vbr_default=v.vbr_mtrh;var m=function(e){};e.exports={System:p,VbrMode:v,Float:h,ShortBlock:d,Util:_,Arrays:f,new_array_n:u,new_byte:n,new_double:o,new_float:i,new_float_n:s,new_int:a,new_int_n:l,new_short:r,new_short_n:c,assert:m}},"07ac":function(e,t,n){var r=n("23e7"),a=n("6f53").values;r({target:"Object",stat:!0},{values:function(e){return a(e)}})},"09e6":function(e,t,n){var r=n("0206"),a=r.new_float,i=r.new_int;r.assert;function o(){this.global_gain=0,this.sfb_count1=0,this.step=i(39),this.noise=a(39),this.noise_log=a(39)}e.exports=o},"0d3b":function(e,t,n){var r=n("d039"),a=n("b622"),i=n("c430"),o=a("iterator");e.exports=!r((function(){var e=new URL("b?a=1&b=2&c=3","http://a"),t=e.searchParams,n="";return e.pathname="c%20d",t.forEach((function(e,r){t["delete"]("b"),n+=r+e})),i&&!e.toJSON||!t.sort||"http://a/c%20d?a=1&c=3"!==e.href||"3"!==t.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!t[o]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://тест").host||"#%D0%B1"!==new URL("http://a#б").hash||"a1c3"!==n||"x"!==new URL("http://x",void 0).host}))},"159b":function(e,t,n){var r=n("da84"),a=n("fdbc"),i=n("17c2"),o=n("9112");for(var s in a){var l=r[s],c=l&&l.prototype;if(c&&c.forEach!==i)try{o(c,"forEach",i)}catch(u){c.forEach=i}}},"17c2":function(e,t,n){"use strict";var r=n("b727").forEach,a=n("a640"),i=n("ae40"),o=a("forEach"),s=i("forEach");e.exports=o&&s?[].forEach:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}},"1d1c":function(e,t,n){var r=n("23e7"),a=n("83ab"),i=n("37e8");r({target:"Object",stat:!0,forced:!a,sham:!a},{defineProperties:i})},2466:function(e,t){function n(){this.sum=0,this.seen=0,this.want=0,this.pos=0,this.size=0,this.bag=null,this.nVbrNumFrames=0,this.nBytesWritten=0,this.TotalFrameSize=0}e.exports=n},2474:function(e,t,n){var r=n("0206"),a=(r.System,r.VbrMode),i=r.Float,o=r.ShortBlock,s=r.Util,l=r.Arrays,c=(r.new_array_n,r.new_byte,r.new_double,r.new_float),u=r.new_float_n,f=r.new_int,p=(r.new_int_n,r.assert),_=n("8100"),d=n("4b5e");function h(){var e=new _,t=2.302585092994046,n=2,r=16,h=2,v=16,m=.34,b=1/217621504/(d.BLKSIZE/2),g=.01,y=.8,w=.6,S=.3,x=3.5,M=21,E=.2302585093;function A(e){return e}function R(e,t){for(var n=0,r=0;r<d.BLKSIZE/2;++r)n+=e[r]*t.ATH.eql_w[r];return n*=b,n}function k(t,n,r,a,i,o,l,c,u,f,p){var _=t.internal_flags;if(u<2)e.fft_long(_,a[i],u,f,p),e.fft_short(_,o[l],u,f,p);else if(2==u){for(var h=d.BLKSIZE-1;h>=0;--h){var v=a[i+0][h],m=a[i+1][h];a[i+0][h]=(v+m)*s.SQRT2*.5,a[i+1][h]=(v-m)*s.SQRT2*.5}for(var b=2;b>=0;--b)for(h=d.BLKSIZE_s-1;h>=0;--h){v=o[l+0][b][h],m=o[l+1][b][h];o[l+0][b][h]=(v+m)*s.SQRT2*.5,o[l+1][b][h]=(v-m)*s.SQRT2*.5}}n[0]=A(a[i+0][0]),n[0]*=n[0];for(h=d.BLKSIZE/2-1;h>=0;--h){var g=a[i+0][d.BLKSIZE/2-h],y=a[i+0][d.BLKSIZE/2+h];n[d.BLKSIZE/2-h]=A(.5*(g*g+y*y))}for(b=2;b>=0;--b){r[b][0]=o[l+0][b][0],r[b][0]*=r[b][0];for(h=d.BLKSIZE_s/2-1;h>=0;--h){g=o[l+0][b][d.BLKSIZE_s/2-h],y=o[l+0][b][d.BLKSIZE_s/2+h];r[b][d.BLKSIZE_s/2-h]=A(.5*(g*g+y*y))}}var w=0;for(h=11;h<d.HBLKSIZE;h++)w+=n[h];if(_.tot_ener[u]=w,t.analysis){for(h=0;h<d.HBLKSIZE;h++)_.pinfo.energy[c][u][h]=_.pinfo.energy_save[u][h],_.pinfo.energy_save[u][h]=n[h];_.pinfo.pe[c][u]=_.pe[u]}2==t.athaa_loudapprox&&u<2&&(_.loudness_sq[c][u]=_.loudness_sq_save[u],_.loudness_sq_save[u]=R(n,_))}var T,P,B,O=8,I=23,j=15,D=[1,.79433,.63096,.63096,.63096,.63096,.63096,.25119,.11749];function L(){T=Math.pow(10,(O+1)/16),P=Math.pow(10,(I+1)/16),B=Math.pow(10,j/10)}var C=[3.3246*3.3246,3.23837*3.23837,9.9500500969,9.0247369744,8.1854926609,7.0440875649,2.46209*2.46209,2.284*2.284,4.4892710641,1.96552*1.96552,1.82335*1.82335,1.69146*1.69146,2.4621061921,2.1508568964,1.37074*1.37074,1.31036*1.31036,1.5691069696,1.4555939904,1.16203*1.16203,1.2715945225,1.09428*1.09428,1.0659*1.0659,1.0779838276,1.0382591025,1],V=[1.7782755904,1.35879*1.35879,1.38454*1.38454,1.39497*1.39497,1.40548*1.40548,1.3537*1.3537,1.6999465924,1.22321*1.22321,1.3169398564,1],N=[5.5396212496,2.29259*2.29259,4.9868695969,2.12675*2.12675,2.02545*2.02545,1.87894*1.87894,1.74303*1.74303,1.61695*1.61695,2.2499700001,1.39148*1.39148,1.29083*1.29083,1.19746*1.19746,1.2339655056,1.0779838276];function H(e,t,n,r,a,i){var o;if(t>e){if(!(t<e*P))return e+t;o=t/e}else{if(e>=t*P)return e+t;o=e/t}if(p(e>=0),p(t>=0),e+=t,r+3<=6){if(o>=T)return e;var l=0|s.FAST_LOG10_X(o,16);return e*V[l]}var c,u;l=0|s.FAST_LOG10_X(o,16);return t=0!=i?a.ATH.cb_s[n]*a.ATH.adjust:a.ATH.cb_l[n]*a.ATH.adjust,p(t>=0),e<B*t?e>t?(c=1,l<=13&&(c=N[l]),u=s.FAST_LOG10_X(e/t,10/15),e*((C[l]-c)*u+c)):l>13?e:e*N[l]:e*C[l]}var X=[1.7782755904,1.35879*1.35879,1.38454*1.38454,1.39497*1.39497,1.40548*1.40548,1.3537*1.3537,1.6999465924,1.22321*1.22321,1.3169398564,1];function F(e,t,n){var r;if(e<0&&(e=0),t<0&&(t=0),e<=0)return t;if(t<=0)return e;if(r=t>e?t/e:e/t,-2<=n&&n<=2){if(r>=T)return e+t;var a=0|s.FAST_LOG10_X(r,16);return(e+t)*X[a]}return r<P?e+t:(e<t&&(e=t),e)}function z(e,t){var n=e.internal_flags;if(n.channels_out>1){for(var r=0;r<d.SBMAX_l;r++){var a=n.thm[0].l[r],i=n.thm[1].l[r];n.thm[0].l[r]+=i*t,n.thm[1].l[r]+=a*t}for(r=0;r<d.SBMAX_s;r++)for(var o=0;o<3;o++){a=n.thm[0].s[r][o],i=n.thm[1].s[r][o];n.thm[0].s[r][o]+=i*t,n.thm[1].s[r][o]+=a*t}}}function q(e){for(var t=0;t<d.SBMAX_l;t++)if(!(e.thm[0].l[t]>1.58*e.thm[1].l[t]||e.thm[1].l[t]>1.58*e.thm[0].l[t])){var n=e.mld_l[t]*e.en[3].l[t],r=Math.max(e.thm[2].l[t],Math.min(e.thm[3].l[t],n));n=e.mld_l[t]*e.en[2].l[t];var a=Math.max(e.thm[3].l[t],Math.min(e.thm[2].l[t],n));e.thm[2].l[t]=r,e.thm[3].l[t]=a}for(t=0;t<d.SBMAX_s;t++)for(var i=0;i<3;i++)if(!(e.thm[0].s[t][i]>1.58*e.thm[1].s[t][i]||e.thm[1].s[t][i]>1.58*e.thm[0].s[t][i])){n=e.mld_s[t]*e.en[3].s[t][i],r=Math.max(e.thm[2].s[t][i],Math.min(e.thm[3].s[t][i],n));n=e.mld_s[t]*e.en[2].s[t][i];a=Math.max(e.thm[3].s[t][i],Math.min(e.thm[2].s[t][i],n));e.thm[2].s[t][i]=r,e.thm[3].s[t][i]=a}}function Y(e,t,n){var r=t,a=Math.pow(10,n);t*=2,r*=2;for(var i=0;i<d.SBMAX_l;i++){if(f=e.ATH.cb_l[e.bm_l[i]]*a,l=Math.min(Math.max(e.thm[0].l[i],f),Math.max(e.thm[1].l[i],f)),c=Math.max(e.thm[2].l[i],f),u=Math.max(e.thm[3].l[i],f),l*t<c+u){var o=l*r/(c+u);c*=o,u*=o,p(c+u>0)}e.thm[2].l[i]=Math.min(c,e.thm[2].l[i]),e.thm[3].l[i]=Math.min(u,e.thm[3].l[i])}a*=d.BLKSIZE_s/d.BLKSIZE;for(i=0;i<d.SBMAX_s;i++)for(var s=0;s<3;s++){var l,c,u,f;if(f=e.ATH.cb_s[e.bm_s[i]]*a,l=Math.min(Math.max(e.thm[0].s[i][s],f),Math.max(e.thm[1].s[i][s],f)),c=Math.max(e.thm[2].s[i][s],f),u=Math.max(e.thm[3].s[i][s],f),l*t<c+u){o=l*t/(c+u);c*=o,u*=o,p(c+u>0)}e.thm[2].s[i][s]=Math.min(e.thm[2].s[i][s],c),e.thm[3].s[i][s]=Math.min(e.thm[3].s[i][s],u)}}function U(e,t,n,r,a){var i,o,s=0,l=0;for(i=o=0;i<d.SBMAX_s;++o,++i){var c=e.bo_s[i],u=e.npart_s,f=c<u?c:u;while(o<f)p(t[o]>=0),p(n[o]>=0),s+=t[o],l+=n[o],o++;if(e.en[r].s[i][a]=s,e.thm[r].s[i][a]=l,o>=u){++i;break}p(t[o]>=0),p(n[o]>=0);var _=e.PSY.bo_s_weight[i],h=1-_;s=_*t[o],l=_*n[o],e.en[r].s[i][a]+=s,e.thm[r].s[i][a]+=l,s=h*t[o],l=h*n[o]}for(;i<d.SBMAX_s;++i)e.en[r].s[i][a]=0,e.thm[r].s[i][a]=0}function G(e,t,n,r){var a,i,o=0,s=0;for(a=i=0;a<d.SBMAX_l;++i,++a){var l=e.bo_l[a],c=e.npart_l,u=l<c?l:c;while(i<u)p(t[i]>=0),p(n[i]>=0),o+=t[i],s+=n[i],i++;if(e.en[r].l[a]=o,e.thm[r].l[a]=s,i>=c){++a;break}p(t[i]>=0),p(n[i]>=0);var f=e.PSY.bo_l_weight[a],_=1-f;o=f*t[i],s=f*n[i],e.en[r].l[a]+=o,e.thm[r].l[a]+=s,o=_*t[i],s=_*n[i]}for(;a<d.SBMAX_l;++a)e.en[r].l[a]=0,e.thm[r].l[a]=0}function K(e,t,n,r,a,i){var o,s,l=e.internal_flags;for(s=o=0;s<l.npart_s;++s){for(var c=0,u=0,f=l.numlines_s[s],_=0;_<f;++_,++o){var m=t[i][o];c+=m,u<m&&(u=m)}n[s]=c}for(p(s==l.npart_s),p(129==o),o=s=0;s<l.npart_s;s++){var b=l.s3ind_s[s][0],g=l.s3_ss[o++]*n[b];++b;while(b<=l.s3ind_s[s][1])g+=l.s3_ss[o]*n[b],++o,++b;var y=h*l.nb_s1[a][s];if(r[s]=Math.min(g,y),l.blocktype_old[1&a]==d.SHORT_TYPE){y=v*l.nb_s2[a][s];var w=r[s];r[s]=Math.min(y,w)}l.nb_s2[a][s]=l.nb_s1[a][s],l.nb_s1[a][s]=g,p(r[s]>=0)}for(;s<=d.CBANDS;++s)n[s]=0,r[s]=0}function W(e,t,n,r){var a=e.internal_flags;e.short_blocks!=o.short_block_coupled||0!=t[0]&&0!=t[1]||(t[0]=t[1]=0);for(var i=0;i<a.channels_out;i++)r[i]=d.NORM_TYPE,e.short_blocks==o.short_block_dispensed&&(t[i]=1),e.short_blocks==o.short_block_forced&&(t[i]=0),0!=t[i]?(p(a.blocktype_old[i]!=d.START_TYPE),a.blocktype_old[i]==d.SHORT_TYPE&&(r[i]=d.STOP_TYPE)):(r[i]=d.SHORT_TYPE,a.blocktype_old[i]==d.NORM_TYPE&&(a.blocktype_old[i]=d.START_TYPE),a.blocktype_old[i]==d.STOP_TYPE&&(a.blocktype_old[i]=d.SHORT_TYPE)),n[i]=a.blocktype_old[i],a.blocktype_old[i]=r[i]}function Z(e,t,n){return n>=1?e:n<=0?t:t>0?Math.pow(e/t,n)*t:0}var Q=[11.8,13.6,17.2,32,46.5,51.3,57.5,67.1,71.5,84.6,97.6,130];function $(e,n){for(var r=309.07,a=0;a<d.SBMAX_s-1;a++)for(var i=0;i<3;i++){var o=e.thm.s[a][i];if(p(a<Q.length),o>0){var l=o*n,c=e.en.s[a][i];c>l&&(c>1e10*l?r+=Q[a]*(10*t):(p(l>0),r+=Q[a]*s.FAST_LOG10(c/l)))}}return r}var J=[6.8,5.8,5.8,6.4,6.5,9.9,12.1,14.4,15,18.9,21.6,26.9,34.2,40.2,46.8,56.5,60.7,73.9,85.7,93.4,126.1];function ee(e,n){for(var r=281.0575,a=0;a<d.SBMAX_l-1;a++){var i=e.thm.l[a];if(p(a<J.length),i>0){var o=i*n,l=e.en.l[a];l>o&&(l>1e10*o?r+=J[a]*(10*t):(p(o>0),r+=J[a]*s.FAST_LOG10(l/o)))}}return r}function te(e,t,n,r,a){var i,o;for(i=o=0;i<e.npart_l;++i){var s,l=0,c=0;for(s=0;s<e.numlines_l[i];++s,++o){var u=t[o];p(u>=0),l+=u,c<u&&(c=u)}n[i]=l,r[i]=c,a[i]=l*e.rnumlines_l[i],p(e.rnumlines_l[i]>=0),p(l>=0),p(n[i]>=0),p(r[i]>=0),p(a[i]>=0)}}function ne(e,t,n,r){var a=D.length-1,i=0,o=n[i]+n[i+1];if(p(o>=0),o>0){var s=t[i];s<t[i+1]&&(s=t[i+1]),p(e.numlines_l[i]+e.numlines_l[i+1]-1>0),o=20*(2*s-o)/(o*(e.numlines_l[i]+e.numlines_l[i+1]-1));var l=0|o;l>a&&(l=a),r[i]=l}else r[i]=0;for(i=1;i<e.npart_l-1;i++)if(o=n[i-1]+n[i]+n[i+1],p(o>=0),o>0){s=t[i-1];s<t[i]&&(s=t[i]),s<t[i+1]&&(s=t[i+1]),p(e.numlines_l[i-1]+e.numlines_l[i]+e.numlines_l[i+1]-1>0),o=20*(3*s-o)/(o*(e.numlines_l[i-1]+e.numlines_l[i]+e.numlines_l[i+1]-1));l=0|o;l>a&&(l=a),r[i]=l}else r[i]=0;if(p(i>0),p(i==e.npart_l-1),o=n[i-1]+n[i],p(o>=0),o>0){s=t[i-1];s<t[i]&&(s=t[i]),p(e.numlines_l[i-1]+e.numlines_l[i]-1>0),o=20*(2*s-o)/(o*(e.numlines_l[i-1]+e.numlines_l[i]-1));l=0|o;l>a&&(l=a),r[i]=l}else r[i]=0;p(i==e.npart_l-1)}var re=[-1730326e-23,-.01703172,-1349528e-23,.0418072,-673278e-22,-.0876324,-30835e-21,.1863476,-1104424e-22,-.627638];function ae(t,n,r,a,i,o,l,c){var u=t.internal_flags;if(a<2)e.fft_long(u,l[c],a,n,r);else if(2==a)for(var f=d.BLKSIZE-1;f>=0;--f){var p=l[c+0][f],_=l[c+1][f];l[c+0][f]=(p+_)*s.SQRT2*.5,l[c+1][f]=(p-_)*s.SQRT2*.5}o[0]=A(l[c+0][0]),o[0]*=o[0];for(f=d.BLKSIZE/2-1;f>=0;--f){var h=l[c+0][d.BLKSIZE/2-f],v=l[c+0][d.BLKSIZE/2+f];o[d.BLKSIZE/2-f]=A(.5*(h*h+v*v))}var m=0;for(f=11;f<d.HBLKSIZE;f++)m+=o[f];if(u.tot_ener[a]=m,t.analysis){for(f=0;f<d.HBLKSIZE;f++)u.pinfo.energy[i][a][f]=u.pinfo.energy_save[a][f],u.pinfo.energy_save[a][f]=o[f];u.pinfo.pe[i][a]=u.pe[a]}}function ie(t,n,r,a,i,o,l,c){var u=t.internal_flags;if(0==i&&a<2&&e.fft_short(u,l[c],a,n,r),2==a)for(var f=d.BLKSIZE_s-1;f>=0;--f){var p=l[c+0][i][f],_=l[c+1][i][f];l[c+0][i][f]=(p+_)*s.SQRT2*.5,l[c+1][i][f]=(p-_)*s.SQRT2*.5}o[i][0]=l[c+0][i][0],o[i][0]*=o[i][0];for(f=d.BLKSIZE_s/2-1;f>=0;--f){var h=l[c+0][i][d.BLKSIZE_s/2-f],v=l[c+0][i][d.BLKSIZE_s/2+f];o[i][d.BLKSIZE_s/2-f]=A(.5*(h*h+v*v))}}function oe(e,t,n,r){var a=e.internal_flags;2==e.athaa_loudapprox&&n<2&&(a.loudness_sq[t][n]=a.loudness_sq_save[n],a.loudness_sq_save[n]=R(r,a))}this.L3psycho_anal_ns=function(e,t,i,o,s,_,h,v,m,b){var g,x,E,A,R,T,P,B,O,I,j=e.internal_flags,L=u([2,d.BLKSIZE]),C=u([2,3,d.BLKSIZE_s]),V=c(d.CBANDS+1),N=c(d.CBANDS+1),X=c(d.CBANDS+2),F=f(2),Q=f(2),J=u([2,576]),ae=f(d.CBANDS+2),ie=f(d.CBANDS+2);for(l.fill(ie,0),g=j.channels_out,e.mode==MPEGMode.JOINT_STEREO&&(g=4),O=e.VBR==a.vbr_off?0==j.ResvMax?0:j.ResvSize/j.ResvMax*.5:e.VBR==a.vbr_rh||e.VBR==a.vbr_mtrh||e.VBR==a.vbr_mt?.6:1,x=0;x<j.channels_out;x++){var oe=t[x],se=i+576-350-M+192;for(p(re.length==(M-1)/2),A=0;A<576;A++){var le,ce;for(le=oe[se+A+10],ce=0,R=0;R<(M-1)/2-1;R+=2)le+=re[R]*(oe[se+A+R]+oe[se+A+M-R]),ce+=re[R+1]*(oe[se+A+R+1]+oe[se+A+M-R-1]);J[x][A]=le+ce}s[o][x].en.assign(j.en[x]),s[o][x].thm.assign(j.thm[x]),g>2&&(_[o][x].en.assign(j.en[x+2]),_[o][x].thm.assign(j.thm[x+2]))}for(x=0;x<g;x++){var ue,fe,pe,_e=c(12),de=[0,0,0,0],he=c(12),ve=1,me=c(d.CBANDS),be=c(d.CBANDS),ge=[0,0,0,0],ye=c(d.HBLKSIZE),we=u([3,d.HBLKSIZE_s]);for(p(j.npart_s<=d.CBANDS),p(j.npart_l<=d.CBANDS),A=0;A<3;A++)_e[A]=j.nsPsy.last_en_subshort[x][A+6],p(j.nsPsy.last_en_subshort[x][A+4]>0),he[A]=_e[A]/j.nsPsy.last_en_subshort[x][A+4],de[0]+=_e[A];if(2==x)for(A=0;A<576;A++){var Se,xe;Se=J[0][A],xe=J[1][A],J[0][A]=Se+xe,J[1][A]=Se-xe}var Me=J[1&x],Ee=0;for(A=0;A<9;A++){for(var Ae=Ee+64,Re=1;Ee<Ae;Ee++)Re<Math.abs(Me[Ee])&&(Re=Math.abs(Me[Ee]));j.nsPsy.last_en_subshort[x][A]=_e[A+3]=Re,de[1+A/3]+=Re,Re>_e[A+3-2]?(p(_e[A+3-2]>0),Re/=_e[A+3-2]):_e[A+3-2]>10*Re?(p(Re>0),Re=_e[A+3-2]/(10*Re)):Re=0,he[A+3]=Re}if(e.analysis){var ke=he[0];for(A=1;A<12;A++)ke<he[A]&&(ke=he[A]);j.pinfo.ers[o][x]=j.pinfo.ers_save[x],j.pinfo.ers_save[x]=ke}for(pe=3==x?j.nsPsy.attackthre_s:j.nsPsy.attackthre,A=0;A<12;A++)0==ge[A/3]&&he[A]>pe&&(ge[A/3]=A%3+1);for(A=1;A<4;A++){var Te;de[A-1]>de[A]?(p(de[A]>0),Te=de[A-1]/de[A]):(p(de[A-1]>0),Te=de[A]/de[A-1]),Te<1.7&&(ge[A]=0,1==A&&(ge[0]=0))}for(0!=ge[0]&&0!=j.nsPsy.lastAttacks[x]&&(ge[0]=0),3!=j.nsPsy.lastAttacks[x]&&ge[0]+ge[1]+ge[2]+ge[3]==0||(ve=0,0!=ge[1]&&0!=ge[0]&&(ge[1]=0),0!=ge[2]&&0!=ge[1]&&(ge[2]=0),0!=ge[3]&&0!=ge[2]&&(ge[3]=0)),x<2?Q[x]=ve:0==ve&&(Q[0]=Q[1]=0),m[x]=j.tot_ener[x],fe=C,ue=L,k(e,ye,we,ue,1&x,fe,1&x,o,x,t,i),te(j,ye,V,me,be),ne(j,me,be,ae),B=0;B<3;B++){var Pe,Be;for(K(e,we,N,X,x,B),U(j,N,X,x,B),P=0;P<d.SBMAX_s;P++){if(Be=j.thm[x].s[P][B],Be*=y,ge[B]>=2||1==ge[B+1]){var Oe=0!=B?B-1:2;Re=Z(j.thm[x].s[P][Oe],Be,w*O);Be=Math.min(Be,Re)}if(1==ge[B]){Oe=0!=B?B-1:2,Re=Z(j.thm[x].s[P][Oe],Be,S*O);Be=Math.min(Be,Re)}else if(0!=B&&3==ge[B-1]||0==B&&3==j.nsPsy.lastAttacks[x]){Oe=2!=B?B+1:0,Re=Z(j.thm[x].s[P][Oe],Be,S*O);Be=Math.min(Be,Re)}Pe=_e[3*B+3]+_e[3*B+4]+_e[3*B+5],6*_e[3*B+5]<Pe&&(Be*=.5,6*_e[3*B+4]<Pe&&(Be*=.5)),j.thm[x].s[P][B]=Be}}for(j.nsPsy.lastAttacks[x]=ge[2],T=0,E=0;E<j.npart_l;E++){var Ie=j.s3ind[E][0],je=V[Ie]*D[ae[Ie]],De=j.s3_ll[T++]*je;while(++Ie<=j.s3ind[E][1])je=V[Ie]*D[ae[Ie]],De=H(De,j.s3_ll[T++]*je,Ie,Ie-E,j,0);De*=.158489319246111,j.blocktype_old[1&x]==d.SHORT_TYPE?X[E]=De:X[E]=Z(Math.min(De,Math.min(n*j.nb_1[x][E],r*j.nb_2[x][E])),De,O),j.nb_2[x][E]=j.nb_1[x][E],j.nb_1[x][E]=De}for(;E<=d.CBANDS;++E)V[E]=0,X[E]=0;G(j,V,X,x)}(e.mode!=MPEGMode.STEREO&&e.mode!=MPEGMode.JOINT_STEREO||e.interChRatio>0&&z(e,e.interChRatio),e.mode==MPEGMode.JOINT_STEREO)&&(q(j),I=e.msfix,Math.abs(I)>0&&Y(j,I,e.ATHlower*j.ATH.adjust));for(W(e,Q,b,F),x=0;x<g;x++){var Le,Ce,Ve,Ne=0;x>1?(Le=v,Ne=-2,Ce=d.NORM_TYPE,b[0]!=d.SHORT_TYPE&&b[1]!=d.SHORT_TYPE||(Ce=d.SHORT_TYPE),Ve=_[o][x-2]):(Le=h,Ne=0,Ce=b[x],Ve=s[o][x]),Ce==d.SHORT_TYPE?Le[Ne+x]=$(Ve,j.masking_lower):Le[Ne+x]=ee(Ve,j.masking_lower),e.analysis&&(j.pinfo.pe[o][x]=Le[Ne+x])}return 0};var se=[-1730326e-23,-.01703172,-1349528e-23,.0418072,-673278e-22,-.0876324,-30835e-21,.1863476,-1104424e-22,-.627638];function le(e,t,n,r,a,i,o,s,l,f){for(var _=u([2,576]),d=e.internal_flags,h=d.channels_out,v=e.mode==MPEGMode.JOINT_STEREO?4:h,m=0;m<h;m++){firbuf=t[m];var b=n+576-350-M+192;p(se.length==(M-1)/2);for(var g=0;g<576;g++){var y,w;y=firbuf[b+g+10],w=0;for(var S=0;S<(M-1)/2-1;S+=2)y+=se[S]*(firbuf[b+g+S]+firbuf[b+g+M-S]),w+=se[S+1]*(firbuf[b+g+S+1]+firbuf[b+g+M-S-1]);_[m][g]=y+w}a[r][m].en.assign(d.en[m]),a[r][m].thm.assign(d.thm[m]),v>2&&(i[r][m].en.assign(d.en[m+2]),i[r][m].thm.assign(d.thm[m+2]))}for(m=0;m<v;m++){var x=c(12),E=c(12),A=[0,0,0,0],R=_[1&m],k=0,T=3==m?d.nsPsy.attackthre_s:d.nsPsy.attackthre,P=1;if(2==m)for(g=0,S=576;S>0;++g,--S){var B=_[0][g],O=_[1][g];_[0][g]=B+O,_[1][g]=B-O}for(g=0;g<3;g++)E[g]=d.nsPsy.last_en_subshort[m][g+6],p(d.nsPsy.last_en_subshort[m][g+4]>0),x[g]=E[g]/d.nsPsy.last_en_subshort[m][g+4],A[0]+=E[g];for(g=0;g<9;g++){for(var I=k+64,j=1;k<I;k++)j<Math.abs(R[k])&&(j=Math.abs(R[k]));d.nsPsy.last_en_subshort[m][g]=E[g+3]=j,A[1+g/3]+=j,j>E[g+3-2]?(p(E[g+3-2]>0),j/=E[g+3-2]):E[g+3-2]>10*j?(p(j>0),j=E[g+3-2]/(10*j)):j=0,x[g+3]=j}for(g=0;g<3;++g){var D=E[3*g+3]+E[3*g+4]+E[3*g+5],L=1;6*E[3*g+5]<D&&(L*=.5,6*E[3*g+4]<D&&(L*=.5)),s[m][g]=L}if(e.analysis){var C=x[0];for(g=1;g<12;g++)C<x[g]&&(C=x[g]);d.pinfo.ers[r][m]=d.pinfo.ers_save[m],d.pinfo.ers_save[m]=C}for(g=0;g<12;g++)0==l[m][g/3]&&x[g]>T&&(l[m][g/3]=g%3+1);for(g=1;g<4;g++){var V=A[g-1],N=A[g],H=Math.max(V,N);H<4e4&&V<1.7*N&&N<1.7*V&&(1==g&&l[m][0]<=l[m][g]&&(l[m][0]=0),l[m][g]=0)}l[m][0]<=d.nsPsy.lastAttacks[m]&&(l[m][0]=0),3!=d.nsPsy.lastAttacks[m]&&l[m][0]+l[m][1]+l[m][2]+l[m][3]==0||(P=0,0!=l[m][1]&&0!=l[m][0]&&(l[m][1]=0),0!=l[m][2]&&0!=l[m][1]&&(l[m][2]=0),0!=l[m][3]&&0!=l[m][2]&&(l[m][3]=0)),m<2?f[m]=P:0==P&&(f[0]=f[1]=0),o[m]=d.tot_ener[m]}}function ce(e,t,n){if(0==n)for(var r=0;r<e.npart_s;r++)e.nb_s2[t][r]=e.nb_s1[t][r],e.nb_s1[t][r]=0}function ue(e,t){for(var n=0;n<e.npart_l;n++)e.nb_2[t][n]=e.nb_1[t][n],e.nb_1[t][n]=0}function fe(e,t,n,r){var a=D.length-1,i=0,o=n[i]+n[i+1];if(p(o>=0),o>0){var s=t[i];s<t[i+1]&&(s=t[i+1]),p(e.numlines_s[i]+e.numlines_s[i+1]-1>0),o=20*(2*s-o)/(o*(e.numlines_s[i]+e.numlines_s[i+1]-1));var l=0|o;l>a&&(l=a),r[i]=l}else r[i]=0;for(i=1;i<e.npart_s-1;i++)if(o=n[i-1]+n[i]+n[i+1],p(i+1<e.npart_s),p(o>=0),o>0){s=t[i-1];s<t[i]&&(s=t[i]),s<t[i+1]&&(s=t[i+1]),p(e.numlines_s[i-1]+e.numlines_s[i]+e.numlines_s[i+1]-1>0),o=20*(3*s-o)/(o*(e.numlines_s[i-1]+e.numlines_s[i]+e.numlines_s[i+1]-1));l=0|o;l>a&&(l=a),r[i]=l}else r[i]=0;if(p(i>0),p(i==e.npart_s-1),o=n[i-1]+n[i],p(o>=0),o>0){s=t[i-1];s<t[i]&&(s=t[i]),p(e.numlines_s[i-1]+e.numlines_s[i]-1>0),o=20*(2*s-o)/(o*(e.numlines_s[i-1]+e.numlines_s[i]-1));l=0|o;l>a&&(l=a),r[i]=l}else r[i]=0;p(i==e.npart_s-1)}function pe(e,t,n,r,a,i){var o,s,l,u=e.internal_flags,f=new float[d.CBANDS],_=c(d.CBANDS),h=new int[d.CBANDS];for(l=s=0;l<u.npart_s;++l){var v=0,m=0,b=u.numlines_s[l];for(o=0;o<b;++o,++s){var g=t[i][s];v+=g,m<g&&(m=g)}n[l]=v,p(v>=0),f[l]=m,p(b>0),_[l]=v/b,p(_[l]>=0)}for(p(l==u.npart_s),p(129==s);l<d.CBANDS;++l)f[l]=0,_[l]=0;for(fe(u,f,_,h),s=l=0;l<u.npart_s;l++){var y,w,S,x,M,E=u.s3ind_s[l][0],A=u.s3ind_s[l][1];y=h[E],w=1,x=u.s3_ss[s]*n[E]*D[h[E]],++s,++E;while(E<=A)y+=h[E],w+=1,S=u.s3_ss[s]*n[E]*D[h[E]],x=F(x,S,E-l),++s,++E;y=(1+2*y)/(2*w),M=.5*D[y],x*=M,r[l]=x,u.nb_s2[a][l]=u.nb_s1[a][l],u.nb_s1[a][l]=x,S=f[l],S*=u.minval_s[l],S*=M,r[l]>S&&(r[l]=S),u.masking_lower>1&&(r[l]*=u.masking_lower),r[l]>n[l]&&(r[l]=n[l]),u.masking_lower<1&&(r[l]*=u.masking_lower),p(r[l]>=0)}for(;l<d.CBANDS;++l)n[l]=0,r[l]=0}function _e(e,t,a,i,o){var s,l=c(d.CBANDS),u=c(d.CBANDS),_=f(d.CBANDS+2);te(e,t,a,l,u),ne(e,l,u,_);var h=0;for(s=0;s<e.npart_l;s++){var v,m,b,g,y=e.s3ind[s][0],w=e.s3ind[s][1],x=0,M=0;x=_[y],M+=1,m=e.s3_ll[h]*a[y]*D[_[y]],++h,++y;while(y<=w)x+=_[y],M+=1,v=e.s3_ll[h]*a[y]*D[_[y]],g=F(m,v,y-s),m=g,++h,++y;if(x=(1+2*x)/(2*M),b=.5*D[x],m*=b,e.blocktype_old[1&o]==d.SHORT_TYPE){var E=n*e.nb_1[o][s];i[s]=E>0?Math.min(m,E):Math.min(m,a[s]*S)}else{var A=r*e.nb_2[o][s],R=n*e.nb_1[o][s];A<=0&&(A=m),R<=0&&(R=m),E=e.blocktype_old[1&o]==d.NORM_TYPE?Math.min(R,A):R,i[s]=Math.min(m,E)}e.nb_2[o][s]=e.nb_1[o][s],e.nb_1[o][s]=m,v=l[s],v*=e.minval_l[s],v*=b,i[s]>v&&(i[s]=v),e.masking_lower>1&&(i[s]*=e.masking_lower),i[s]>a[s]&&(i[s]=a[s]),e.masking_lower<1&&(i[s]*=e.masking_lower),p(i[s]>=0)}for(;s<d.CBANDS;++s)a[s]=0,i[s]=0}function de(e,t){var n=e.internal_flags;e.short_blocks!=o.short_block_coupled||0!=t[0]&&0!=t[1]||(t[0]=t[1]=0);for(var r=0;r<n.channels_out;r++)e.short_blocks==o.short_block_dispensed&&(t[r]=1),e.short_blocks==o.short_block_forced&&(t[r]=0)}function he(e,t,n){for(var r=e.internal_flags,a=0;a<r.channels_out;a++){var i=d.NORM_TYPE;0!=t[a]?(p(r.blocktype_old[a]!=d.START_TYPE),r.blocktype_old[a]==d.SHORT_TYPE&&(i=d.STOP_TYPE)):(i=d.SHORT_TYPE,r.blocktype_old[a]==d.NORM_TYPE&&(r.blocktype_old[a]=d.START_TYPE),r.blocktype_old[a]==d.STOP_TYPE&&(r.blocktype_old[a]=d.SHORT_TYPE)),n[a]=r.blocktype_old[a],r.blocktype_old[a]=i}}function ve(e,t,n,r,a,i,o){for(var s,l,c=2*i,u=i>0?Math.pow(10,a):1,f=0;f<o;++f){var _=e[2][f],d=e[3][f],h=t[0][f],v=t[1][f],m=t[2][f],b=t[3][f];if(h<=1.58*v&&v<=1.58*h){var g=n[f]*d,y=n[f]*_;l=Math.max(m,Math.min(b,g)),s=Math.max(b,Math.min(m,y))}else l=m,s=b;if(i>0){var w,S,x=r[f]*u;if(w=Math.min(Math.max(h,x),Math.max(v,x)),m=Math.max(l,x),b=Math.max(s,x),S=m+b,S>0&&w*c<S){var M=w*c/S;m*=M,b*=M,p(S>0)}l=Math.min(m,l),s=Math.min(b,s)}l>_&&(l=_),s>d&&(s=d),t[2][f]=l,t[3][f]=s}}function me(e,t){var n,r=e;return n=r>=0?27*-r:r*t,n<=-72?0:Math.exp(n*E)}function be(e){var t=0,n=0,r=0;for(r=0;me(r,e)>1e-20;r-=1);a=r,i=0;while(Math.abs(i-a)>1e-12)r=(i+a)/2,me(r,e)>0?i=r:a=r;t=a;var a,i;r=0;for(r=0;me(r,e)>1e-20;r+=1);a=0,i=r;while(Math.abs(i-a)>1e-12)r=(i+a)/2,me(r,e)>0?a=r:i=r;n=i;var o,s=0,l=1e3;for(o=0;o<=l;++o){r=t+o*(n-t)/l;var c=me(r,e);s+=c}var u=(l+1)/(s*(n-t));return u}function ge(e){var t,n,r,a;return t=e,t*=t>=0?3:1.5,t>=.5&&t<=2.5?(a=t-.5,n=8*(a*a-2*a)):n=0,t+=.474,r=15.811389+7.5*t-17.5*Math.sqrt(1+t*t),r<=-60?0:(t=Math.exp((n+r)*E),t/=.6609193,t)}function ye(e){return e<0&&(e=0),e*=.001,13*Math.atan(.76*e)+3.5*Math.atan(e*e/56.25)}function we(e,t,n,r,a,i,o,s,l,u,_,h){var v,b=c(d.CBANDS+1),g=s/(h>15?1152:384),y=f(d.HBLKSIZE);s/=l;var w=0,S=0;for(v=0;v<d.CBANDS;v++){var x;for(O=ye(s*w),b[v]=s*w,x=w;ye(s*x)-O<m&&x<=l/2;x++);e[v]=x-w,S=v+1;while(w<x)p(w<d.HBLKSIZE),y[w++]=v;if(w>l/2){w=l/2,++v;break}}p(v<d.CBANDS),b[v]=s*w;for(var M=0;M<h;M++){var E,A,R,k,T;R=u[M],k=u[M+1],E=0|Math.floor(.5+_*(R-.5)),E<0&&(E=0),A=0|Math.floor(.5+_*(k-.5)),A>l/2&&(A=l/2),n[M]=(y[E]+y[A])/2,t[M]=y[A];var P=g*k;o[M]=(P-b[t[M]])/(b[t[M]+1]-b[t[M]]),o[M]<0?o[M]=0:o[M]>1&&(o[M]=1),T=ye(s*u[M]*_),T=Math.min(T,15.5)/15.5,i[M]=Math.pow(10,1.25*(1-Math.cos(Math.PI*T))-2.5)}w=0;for(var B=0;B<S;B++){var O,I,j=e[B];O=ye(s*w),I=ye(s*(w+j-1)),r[B]=.5*(O+I),O=ye(s*(w-.5)),I=ye(s*(w+j-.5)),a[B]=I-O,w+=j}return S}function Se(e,t,n,r,a,i){var o,s=u([d.CBANDS,d.CBANDS]),l=0;if(i)for(var f=0;f<t;f++)for(o=0;o<t;o++){var p=ge(n[f]-n[o])*r[o];s[f][o]=p*a[f]}else for(o=0;o<t;o++){var _=15+Math.min(21/n[o],12),h=be(_);for(f=0;f<t;f++){p=h*me(n[f]-n[o],_)*r[o];s[f][o]=p*a[f]}}for(f=0;f<t;f++){for(o=0;o<t;o++)if(s[f][o]>0)break;for(e[f][0]=o,o=t-1;o>0;o--)if(s[f][o]>0)break;e[f][1]=o,l+=e[f][1]-e[f][0]+1}var v=c(l),m=0;for(f=0;f<t;f++)for(o=e[f][0];o<=e[f][1];o++)v[m++]=s[f][o];return v}function xe(e){var t=ye(e);return t=Math.min(t,15.5)/15.5,Math.pow(10,1.25*(1-Math.cos(Math.PI*t))-2.5)}function Me(e,t){e<-.3&&(e=3410),e/=1e3,e=Math.max(.1,e);var n=3.64*Math.pow(e,-.8)-6.8*Math.exp(-.6*Math.pow(e-3.4,2))+6*Math.exp(-.15*Math.pow(e-8.7,2))+.001*(.6+.04*t)*Math.pow(e,4);return n}this.L3psycho_anal_vbr=function(e,t,n,r,a,i,o,s,l,p){var _,h,v=e.internal_flags,m=c(d.HBLKSIZE),b=u([3,d.HBLKSIZE_s]),g=u([2,d.BLKSIZE]),x=u([2,3,d.BLKSIZE_s]),M=u([4,d.CBANDS]),E=u([4,d.CBANDS]),A=u([4,3]),R=.6,k=[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],T=f(2),P=e.mode==MPEGMode.JOINT_STEREO?4:v.channels_out;le(e,t,n,r,a,i,l,A,k,T),de(e,T);for(var B=0;B<P;B++){var O=1&B;_=g,ae(e,t,n,B,r,m,_,O),oe(e,r,B,m),0!=T[O]?_e(v,m,M[B],E[B],B):ue(v,B)}T[0]+T[1]==2&&e.mode==MPEGMode.JOINT_STEREO&&ve(M,E,v.mld_cb_l,v.ATH.cb_l,e.ATHlower*v.ATH.adjust,e.msfix,v.npart_l);for(B=0;B<P;B++){O=1&B;0!=T[O]&&G(v,M[B],E[B],B)}for(var I=0;I<3;I++){for(B=0;B<P;++B){O=1&B;0!=T[O]?ce(v,B,I):(h=x,ie(e,t,n,B,I,b,h,O),pe(e,b,M[B],E[B],B,I))}T[0]+T[1]==0&&e.mode==MPEGMode.JOINT_STEREO&&ve(M,E,v.mld_cb_s,v.ATH.cb_s,e.ATHlower*v.ATH.adjust,e.msfix,v.npart_s);for(B=0;B<P;++B){O=1&B;0==T[O]&&U(v,M[B],E[B],B,I)}}for(B=0;B<P;B++){O=1&B;if(0==T[O])for(var j=0;j<d.SBMAX_s;j++){var D=c(3);for(I=0;I<3;I++){var L=v.thm[B].s[j][I];if(L*=y,k[B][I]>=2||1==k[B][I+1]){var C=0!=I?I-1:2,V=Z(v.thm[B].s[j][C],L,w*R);L=Math.min(L,V)}else if(1==k[B][I]){C=0!=I?I-1:2,V=Z(v.thm[B].s[j][C],L,S*R);L=Math.min(L,V)}else if(0!=I&&3==k[B][I-1]||0==I&&3==v.nsPsy.lastAttacks[B]){C=2!=I?I+1:0,V=Z(v.thm[B].s[j][C],L,S*R);L=Math.min(L,V)}L*=A[B][I],D[I]=L}for(I=0;I<3;I++)v.thm[B].s[j][I]=D[I]}}for(B=0;B<P;B++)v.nsPsy.lastAttacks[B]=k[B][2];he(e,T,p);for(B=0;B<P;B++){var N,H,X,F;B>1?(N=s,H=-2,X=d.NORM_TYPE,p[0]!=d.SHORT_TYPE&&p[1]!=d.SHORT_TYPE||(X=d.SHORT_TYPE),F=i[r][B-2]):(N=o,H=0,X=p[B],F=a[r][B]),X==d.SHORT_TYPE?N[H+B]=$(F,v.masking_lower):N[H+B]=ee(F,v.masking_lower),e.analysis&&(v.pinfo.pe[r][B]=N[H+B])}return 0},this.psymodel_init=function(n){var r,o=n.internal_flags,s=!0,l=13,u=24,f=0,_=0,h=-8.25,v=-4.5,m=c(d.CBANDS),b=c(d.CBANDS),y=c(d.CBANDS),w=n.out_samplerate;switch(n.experimentalZ){default:case 0:s=!0;break;case 1:s=n.VBR!=a.vbr_mtrh&&n.VBR!=a.vbr_mt;break;case 2:s=!1;break;case 3:l=8,f=-1.75,_=-.0125,h=-8.25,v=-2.25;break}for(o.ms_ener_ratio_old=.25,o.blocktype_old[0]=o.blocktype_old[1]=d.NORM_TYPE,r=0;r<4;++r){for(var S=0;S<d.CBANDS;++S)o.nb_1[r][S]=1e20,o.nb_2[r][S]=1e20,o.nb_s1[r][S]=o.nb_s2[r][S]=1;for(var M=0;M<d.SBMAX_l;M++)o.en[r].l[M]=1e20,o.thm[r].l[M]=1e20;for(S=0;S<3;++S){for(M=0;M<d.SBMAX_s;M++)o.en[r].s[M][S]=1e20,o.thm[r].s[M][S]=1e20;o.nsPsy.lastAttacks[r]=0}for(S=0;S<9;S++)o.nsPsy.last_en_subshort[r][S]=10}for(o.loudness_sq_save[0]=o.loudness_sq_save[1]=0,o.npart_l=we(o.numlines_l,o.bo_l,o.bm_l,m,b,o.mld_l,o.PSY.bo_l_weight,w,d.BLKSIZE,o.scalefac_band.l,d.BLKSIZE/1152,d.SBMAX_l),p(o.npart_l<d.CBANDS),r=0;r<o.npart_l;r++){var E=f;m[r]>=l&&(E=_*(m[r]-l)/(u-l)+f*(u-m[r])/(u-l)),y[r]=Math.pow(10,E/10),o.numlines_l[r]>0?o.rnumlines_l[r]=1/o.numlines_l[r]:o.rnumlines_l[r]=0}o.s3_ll=Se(o.s3ind,o.npart_l,m,b,y,s);var A;S=0;for(r=0;r<o.npart_l;r++){T=i.MAX_VALUE;for(var R=0;R<o.numlines_l[r];R++,S++){var k=w*S/(1e3*d.BLKSIZE);P=this.ATHformula(1e3*k,n)-20,P=Math.pow(10,.1*P),P*=o.numlines_l[r],T>P&&(T=P)}o.ATH.cb_l[r]=T,T=20*m[r]/10-20,T>6&&(T=100),T<-15&&(T=-15),T-=8,o.minval_l[r]=Math.pow(10,T/10)*o.numlines_l[r]}for(o.npart_s=we(o.numlines_s,o.bo_s,o.bm_s,m,b,o.mld_s,o.PSY.bo_s_weight,w,d.BLKSIZE_s,o.scalefac_band.s,d.BLKSIZE_s/384,d.SBMAX_s),p(o.npart_s<d.CBANDS),S=0,r=0;r<o.npart_s;r++){var T;E=h;m[r]>=l&&(E=v*(m[r]-l)/(u-l)+h*(u-m[r])/(u-l)),y[r]=Math.pow(10,E/10),T=i.MAX_VALUE;for(R=0;R<o.numlines_s[r];R++,S++){var P;k=w*S/(1e3*d.BLKSIZE_s);P=this.ATHformula(1e3*k,n)-20,P=Math.pow(10,.1*P),P*=o.numlines_s[r],T>P&&(T=P)}o.ATH.cb_s[r]=T,T=7*m[r]/12-7,m[r]>12&&(T*=1+3.1*Math.log(1+T)),m[r]<12&&(T*=1+2.3*Math.log(1-T)),T<-15&&(T=-15),T-=8,o.minval_s[r]=Math.pow(10,T/10)*o.numlines_s[r]}o.s3_ss=Se(o.s3ind_s,o.npart_s,m,b,y,s),L(),e.init_fft(o),o.decay=Math.exp(-1*t/(g*w/192)),A=x,0!=(2&n.exp_nspsytune)&&(A=1),Math.abs(n.msfix)>0&&(A=n.msfix),n.msfix=A;for(var B=0;B<o.npart_l;B++)o.s3ind[B][1]>o.npart_l-1&&(o.s3ind[B][1]=o.npart_l-1);var O=576*o.mode_gr/w;if(o.ATH.decay=Math.pow(10,-1.2*O),o.ATH.adjust=.01,o.ATH.adjustLimit=1,p(o.bo_l[d.SBMAX_l-1]<=o.npart_l),p(o.bo_s[d.SBMAX_s-1]<=o.npart_s),-1!=n.ATHtype){var I=n.out_samplerate/d.BLKSIZE,j=0;for(k=0,r=0;r<d.BLKSIZE/2;++r)k+=I,o.ATH.eql_w[r]=1/Math.pow(10,this.ATHformula(k,n)/10),j+=o.ATH.eql_w[r];for(j=1/j,r=d.BLKSIZE/2;--r>=0;)o.ATH.eql_w[r]*=j}for(B=S=0;B<o.npart_s;++B)for(r=0;r<o.numlines_s[B];++r)++S;p(129==S);for(B=S=0;B<o.npart_l;++B)for(r=0;r<o.numlines_l[B];++r)++S;for(p(513==S),S=0,r=0;r<o.npart_l;r++){k=w*(S+o.numlines_l[r]/2)/(1*d.BLKSIZE);o.mld_cb_l[r]=xe(k),S+=o.numlines_l[r]}for(;r<d.CBANDS;++r)o.mld_cb_l[r]=1;for(S=0,r=0;r<o.npart_s;r++){k=w*(S+o.numlines_s[r]/2)/(1*d.BLKSIZE_s);o.mld_cb_s[r]=xe(k),S+=o.numlines_s[r]}for(;r<d.CBANDS;++r)o.mld_cb_s[r]=1;return 0},this.ATHformula=function(e,t){var n;switch(t.ATHtype){case 0:n=Me(e,9);break;case 1:n=Me(e,-1);break;case 2:n=Me(e,0);break;case 3:n=Me(e,1)+6;break;case 4:n=Me(e,t.ATHcurve);break;default:n=Me(e,0);break}return n}}e.exports=h},2695:function(e,t,n){var r=n("0206"),a=(r.System,r.VbrMode,r.Float,r.ShortBlock,r.Util,r.Arrays,r.new_array_n,r.new_byte,r.new_double,r.new_float,r.new_float_n,r.new_int),i=(r.new_int_n,r.assert,n("f3b5"));function o(){this.tt=[[null,null],[null,null]],this.main_data_begin=0,this.private_bits=0,this.resvDrain_pre=0,this.resvDrain_post=0,this.scfsi=[a(4),a(4)];for(var e=0;e<2;e++)for(var t=0;t<2;t++)this.tt[e][t]=new i}e.exports=o},"2b3d":function(e,t,n){"use strict";n("3ca3");var r,a=n("23e7"),i=n("83ab"),o=n("0d3b"),s=n("da84"),l=n("37e8"),c=n("6eeb"),u=n("19aa"),f=n("5135"),p=n("60da"),_=n("4df4"),d=n("6547").codeAt,h=n("5fb2"),v=n("d44e"),m=n("9861"),b=n("69f3"),g=s.URL,y=m.URLSearchParams,w=m.getState,S=b.set,x=b.getterFor("URL"),M=Math.floor,E=Math.pow,A="Invalid authority",R="Invalid scheme",k="Invalid host",T="Invalid port",P=/[A-Za-z]/,B=/[\d+-.A-Za-z]/,O=/\d/,I=/^(0x|0X)/,j=/^[0-7]+$/,D=/^\d+$/,L=/^[\dA-Fa-f]+$/,C=/[\u0000\u0009\u000A\u000D #%/:?@[\\]]/,V=/[\u0000\u0009\u000A\u000D #/:?@[\\]]/,N=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,H=/[\u0009\u000A\u000D]/g,X=function(e,t){var n,r,a;if("["==t.charAt(0)){if("]"!=t.charAt(t.length-1))return k;if(n=z(t.slice(1,-1)),!n)return k;e.host=n}else if($(e)){if(t=h(t),C.test(t))return k;if(n=F(t),null===n)return k;e.host=n}else{if(V.test(t))return k;for(n="",r=_(t),a=0;a<r.length;a++)n+=Z(r[a],U);e.host=n}},F=function(e){var t,n,r,a,i,o,s,l=e.split(".");if(l.length&&""==l[l.length-1]&&l.pop(),t=l.length,t>4)return e;for(n=[],r=0;r<t;r++){if(a=l[r],""==a)return e;if(i=10,a.length>1&&"0"==a.charAt(0)&&(i=I.test(a)?16:8,a=a.slice(8==i?1:2)),""===a)o=0;else{if(!(10==i?D:8==i?j:L).test(a))return e;o=parseInt(a,i)}n.push(o)}for(r=0;r<t;r++)if(o=n[r],r==t-1){if(o>=E(256,5-t))return null}else if(o>255)return null;for(s=n.pop(),r=0;r<n.length;r++)s+=n[r]*E(256,3-r);return s},z=function(e){var t,n,r,a,i,o,s,l=[0,0,0,0,0,0,0,0],c=0,u=null,f=0,p=function(){return e.charAt(f)};if(":"==p()){if(":"!=e.charAt(1))return;f+=2,c++,u=c}while(p()){if(8==c)return;if(":"!=p()){t=n=0;while(n<4&&L.test(p()))t=16*t+parseInt(p(),16),f++,n++;if("."==p()){if(0==n)return;if(f-=n,c>6)return;r=0;while(p()){if(a=null,r>0){if(!("."==p()&&r<4))return;f++}if(!O.test(p()))return;while(O.test(p())){if(i=parseInt(p(),10),null===a)a=i;else{if(0==a)return;a=10*a+i}if(a>255)return;f++}l[c]=256*l[c]+a,r++,2!=r&&4!=r||c++}if(4!=r)return;break}if(":"==p()){if(f++,!p())return}else if(p())return;l[c++]=t}else{if(null!==u)return;f++,c++,u=c}}if(null!==u){o=c-u,c=7;while(0!=c&&o>0)s=l[c],l[c--]=l[u+o-1],l[u+--o]=s}else if(8!=c)return;return l},q=function(e){for(var t=null,n=1,r=null,a=0,i=0;i<8;i++)0!==e[i]?(a>n&&(t=r,n=a),r=null,a=0):(null===r&&(r=i),++a);return a>n&&(t=r,n=a),t},Y=function(e){var t,n,r,a;if("number"==typeof e){for(t=[],n=0;n<4;n++)t.unshift(e%256),e=M(e/256);return t.join(".")}if("object"==typeof e){for(t="",r=q(e),n=0;n<8;n++)a&&0===e[n]||(a&&(a=!1),r===n?(t+=n?":":"::",a=!0):(t+=e[n].toString(16),n<7&&(t+=":")));return"["+t+"]"}return e},U={},G=p({},U,{" ":1,'"':1,"<":1,">":1,"`":1}),K=p({},G,{"#":1,"?":1,"{":1,"}":1}),W=p({},K,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),Z=function(e,t){var n=d(e,0);return n>32&&n<127&&!f(t,e)?e:encodeURIComponent(e)},Q={ftp:21,file:null,http:80,https:443,ws:80,wss:443},$=function(e){return f(Q,e.scheme)},J=function(e){return""!=e.username||""!=e.password},ee=function(e){return!e.host||e.cannotBeABaseURL||"file"==e.scheme},te=function(e,t){var n;return 2==e.length&&P.test(e.charAt(0))&&(":"==(n=e.charAt(1))||!t&&"|"==n)},ne=function(e){var t;return e.length>1&&te(e.slice(0,2))&&(2==e.length||"/"===(t=e.charAt(2))||"\\"===t||"?"===t||"#"===t)},re=function(e){var t=e.path,n=t.length;!n||"file"==e.scheme&&1==n&&te(t[0],!0)||t.pop()},ae=function(e){return"."===e||"%2e"===e.toLowerCase()},ie=function(e){return e=e.toLowerCase(),".."===e||"%2e."===e||".%2e"===e||"%2e%2e"===e},oe={},se={},le={},ce={},ue={},fe={},pe={},_e={},de={},he={},ve={},me={},be={},ge={},ye={},we={},Se={},xe={},Me={},Ee={},Ae={},Re=function(e,t,n,a){var i,o,s,l,c=n||oe,u=0,p="",d=!1,h=!1,v=!1;n||(e.scheme="",e.username="",e.password="",e.host=null,e.port=null,e.path=[],e.query=null,e.fragment=null,e.cannotBeABaseURL=!1,t=t.replace(N,"")),t=t.replace(H,""),i=_(t);while(u<=i.length){switch(o=i[u],c){case oe:if(!o||!P.test(o)){if(n)return R;c=le;continue}p+=o.toLowerCase(),c=se;break;case se:if(o&&(B.test(o)||"+"==o||"-"==o||"."==o))p+=o.toLowerCase();else{if(":"!=o){if(n)return R;p="",c=le,u=0;continue}if(n&&($(e)!=f(Q,p)||"file"==p&&(J(e)||null!==e.port)||"file"==e.scheme&&!e.host))return;if(e.scheme=p,n)return void($(e)&&Q[e.scheme]==e.port&&(e.port=null));p="","file"==e.scheme?c=ge:$(e)&&a&&a.scheme==e.scheme?c=ce:$(e)?c=_e:"/"==i[u+1]?(c=ue,u++):(e.cannotBeABaseURL=!0,e.path.push(""),c=Me)}break;case le:if(!a||a.cannotBeABaseURL&&"#"!=o)return R;if(a.cannotBeABaseURL&&"#"==o){e.scheme=a.scheme,e.path=a.path.slice(),e.query=a.query,e.fragment="",e.cannotBeABaseURL=!0,c=Ae;break}c="file"==a.scheme?ge:fe;continue;case ce:if("/"!=o||"/"!=i[u+1]){c=fe;continue}c=de,u++;break;case ue:if("/"==o){c=he;break}c=xe;continue;case fe:if(e.scheme=a.scheme,o==r)e.username=a.username,e.password=a.password,e.host=a.host,e.port=a.port,e.path=a.path.slice(),e.query=a.query;else if("/"==o||"\\"==o&&$(e))c=pe;else if("?"==o)e.username=a.username,e.password=a.password,e.host=a.host,e.port=a.port,e.path=a.path.slice(),e.query="",c=Ee;else{if("#"!=o){e.username=a.username,e.password=a.password,e.host=a.host,e.port=a.port,e.path=a.path.slice(),e.path.pop(),c=xe;continue}e.username=a.username,e.password=a.password,e.host=a.host,e.port=a.port,e.path=a.path.slice(),e.query=a.query,e.fragment="",c=Ae}break;case pe:if(!$(e)||"/"!=o&&"\\"!=o){if("/"!=o){e.username=a.username,e.password=a.password,e.host=a.host,e.port=a.port,c=xe;continue}c=he}else c=de;break;case _e:if(c=de,"/"!=o||"/"!=p.charAt(u+1))continue;u++;break;case de:if("/"!=o&&"\\"!=o){c=he;continue}break;case he:if("@"==o){d&&(p="%40"+p),d=!0,s=_(p);for(var m=0;m<s.length;m++){var b=s[m];if(":"!=b||v){var g=Z(b,W);v?e.password+=g:e.username+=g}else v=!0}p=""}else if(o==r||"/"==o||"?"==o||"#"==o||"\\"==o&&$(e)){if(d&&""==p)return A;u-=_(p).length+1,p="",c=ve}else p+=o;break;case ve:case me:if(n&&"file"==e.scheme){c=we;continue}if(":"!=o||h){if(o==r||"/"==o||"?"==o||"#"==o||"\\"==o&&$(e)){if($(e)&&""==p)return k;if(n&&""==p&&(J(e)||null!==e.port))return;if(l=X(e,p),l)return l;if(p="",c=Se,n)return;continue}"["==o?h=!0:"]"==o&&(h=!1),p+=o}else{if(""==p)return k;if(l=X(e,p),l)return l;if(p="",c=be,n==me)return}break;case be:if(!O.test(o)){if(o==r||"/"==o||"?"==o||"#"==o||"\\"==o&&$(e)||n){if(""!=p){var y=parseInt(p,10);if(y>65535)return T;e.port=$(e)&&y===Q[e.scheme]?null:y,p=""}if(n)return;c=Se;continue}return T}p+=o;break;case ge:if(e.scheme="file","/"==o||"\\"==o)c=ye;else{if(!a||"file"!=a.scheme){c=xe;continue}if(o==r)e.host=a.host,e.path=a.path.slice(),e.query=a.query;else if("?"==o)e.host=a.host,e.path=a.path.slice(),e.query="",c=Ee;else{if("#"!=o){ne(i.slice(u).join(""))||(e.host=a.host,e.path=a.path.slice(),re(e)),c=xe;continue}e.host=a.host,e.path=a.path.slice(),e.query=a.query,e.fragment="",c=Ae}}break;case ye:if("/"==o||"\\"==o){c=we;break}a&&"file"==a.scheme&&!ne(i.slice(u).join(""))&&(te(a.path[0],!0)?e.path.push(a.path[0]):e.host=a.host),c=xe;continue;case we:if(o==r||"/"==o||"\\"==o||"?"==o||"#"==o){if(!n&&te(p))c=xe;else if(""==p){if(e.host="",n)return;c=Se}else{if(l=X(e,p),l)return l;if("localhost"==e.host&&(e.host=""),n)return;p="",c=Se}continue}p+=o;break;case Se:if($(e)){if(c=xe,"/"!=o&&"\\"!=o)continue}else if(n||"?"!=o)if(n||"#"!=o){if(o!=r&&(c=xe,"/"!=o))continue}else e.fragment="",c=Ae;else e.query="",c=Ee;break;case xe:if(o==r||"/"==o||"\\"==o&&$(e)||!n&&("?"==o||"#"==o)){if(ie(p)?(re(e),"/"==o||"\\"==o&&$(e)||e.path.push("")):ae(p)?"/"==o||"\\"==o&&$(e)||e.path.push(""):("file"==e.scheme&&!e.path.length&&te(p)&&(e.host&&(e.host=""),p=p.charAt(0)+":"),e.path.push(p)),p="","file"==e.scheme&&(o==r||"?"==o||"#"==o))while(e.path.length>1&&""===e.path[0])e.path.shift();"?"==o?(e.query="",c=Ee):"#"==o&&(e.fragment="",c=Ae)}else p+=Z(o,K);break;case Me:"?"==o?(e.query="",c=Ee):"#"==o?(e.fragment="",c=Ae):o!=r&&(e.path[0]+=Z(o,U));break;case Ee:n||"#"!=o?o!=r&&("'"==o&&$(e)?e.query+="%27":e.query+="#"==o?"%23":Z(o,U)):(e.fragment="",c=Ae);break;case Ae:o!=r&&(e.fragment+=Z(o,G));break}u++}},ke=function(e){var t,n,r=u(this,ke,"URL"),a=arguments.length>1?arguments[1]:void 0,o=String(e),s=S(r,{type:"URL"});if(void 0!==a)if(a instanceof ke)t=x(a);else if(n=Re(t={},String(a)),n)throw TypeError(n);if(n=Re(s,o,null,t),n)throw TypeError(n);var l=s.searchParams=new y,c=w(l);c.updateSearchParams(s.query),c.updateURL=function(){s.query=String(l)||null},i||(r.href=Pe.call(r),r.origin=Be.call(r),r.protocol=Oe.call(r),r.username=Ie.call(r),r.password=je.call(r),r.host=De.call(r),r.hostname=Le.call(r),r.port=Ce.call(r),r.pathname=Ve.call(r),r.search=Ne.call(r),r.searchParams=He.call(r),r.hash=Xe.call(r))},Te=ke.prototype,Pe=function(){var e=x(this),t=e.scheme,n=e.username,r=e.password,a=e.host,i=e.port,o=e.path,s=e.query,l=e.fragment,c=t+":";return null!==a?(c+="//",J(e)&&(c+=n+(r?":"+r:"")+"@"),c+=Y(a),null!==i&&(c+=":"+i)):"file"==t&&(c+="//"),c+=e.cannotBeABaseURL?o[0]:o.length?"/"+o.join("/"):"",null!==s&&(c+="?"+s),null!==l&&(c+="#"+l),c},Be=function(){var e=x(this),t=e.scheme,n=e.port;if("blob"==t)try{return new URL(t.path[0]).origin}catch(r){return"null"}return"file"!=t&&$(e)?t+"://"+Y(e.host)+(null!==n?":"+n:""):"null"},Oe=function(){return x(this).scheme+":"},Ie=function(){return x(this).username},je=function(){return x(this).password},De=function(){var e=x(this),t=e.host,n=e.port;return null===t?"":null===n?Y(t):Y(t)+":"+n},Le=function(){var e=x(this).host;return null===e?"":Y(e)},Ce=function(){var e=x(this).port;return null===e?"":String(e)},Ve=function(){var e=x(this),t=e.path;return e.cannotBeABaseURL?t[0]:t.length?"/"+t.join("/"):""},Ne=function(){var e=x(this).query;return e?"?"+e:""},He=function(){return x(this).searchParams},Xe=function(){var e=x(this).fragment;return e?"#"+e:""},Fe=function(e,t){return{get:e,set:t,configurable:!0,enumerable:!0}};if(i&&l(Te,{href:Fe(Pe,(function(e){var t=x(this),n=String(e),r=Re(t,n);if(r)throw TypeError(r);w(t.searchParams).updateSearchParams(t.query)})),origin:Fe(Be),protocol:Fe(Oe,(function(e){var t=x(this);Re(t,String(e)+":",oe)})),username:Fe(Ie,(function(e){var t=x(this),n=_(String(e));if(!ee(t)){t.username="";for(var r=0;r<n.length;r++)t.username+=Z(n[r],W)}})),password:Fe(je,(function(e){var t=x(this),n=_(String(e));if(!ee(t)){t.password="";for(var r=0;r<n.length;r++)t.password+=Z(n[r],W)}})),host:Fe(De,(function(e){var t=x(this);t.cannotBeABaseURL||Re(t,String(e),ve)})),hostname:Fe(Le,(function(e){var t=x(this);t.cannotBeABaseURL||Re(t,String(e),me)})),port:Fe(Ce,(function(e){var t=x(this);ee(t)||(e=String(e),""==e?t.port=null:Re(t,e,be))})),pathname:Fe(Ve,(function(e){var t=x(this);t.cannotBeABaseURL||(t.path=[],Re(t,e+"",Se))})),search:Fe(Ne,(function(e){var t=x(this);e=String(e),""==e?t.query=null:("?"==e.charAt(0)&&(e=e.slice(1)),t.query="",Re(t,e,Ee)),w(t.searchParams).updateSearchParams(t.query)})),searchParams:Fe(He),hash:Fe(Xe,(function(e){var t=x(this);e=String(e),""!=e?("#"==e.charAt(0)&&(e=e.slice(1)),t.fragment="",Re(t,e,Ae)):t.fragment=null}))}),c(Te,"toJSON",(function(){return Pe.call(this)}),{enumerable:!0}),c(Te,"toString",(function(){return Pe.call(this)}),{enumerable:!0}),g){var ze=g.createObjectURL,qe=g.revokeObjectURL;ze&&c(ke,"createObjectURL",(function(e){return ze.apply(g,arguments)})),qe&&c(ke,"revokeObjectURL",(function(e){return qe.apply(g,arguments)}))}v(ke,"URL"),a({global:!0,forced:!o,sham:!i},{URL:ke})},"2f21":function(e,t,n){var r=n("0206"),a=r.System,i=(r.VbrMode,r.Float,r.ShortBlock,r.Util,r.Arrays);r.new_array_n,r.new_byte,r.new_double,r.new_float,r.new_float_n,r.new_int,r.new_int_n,r.assert;function o(){var e=64.82,t=(o.YULE_ORDER,.95),n=(o.MAX_SAMP_FREQ,o.RMS_WINDOW_TIME_NUMERATOR),r=o.RMS_WINDOW_TIME_DENOMINATOR,s=(o.MAX_SAMPLES_PER_WINDOW,[[.038575994352,-3.84664617118067,-.02160367184185,7.81501653005538,-.00123395316851,-11.34170355132042,-9291677959e-14,13.05504219327545,-.01655260341619,-12.28759895145294,.02161526843274,9.4829380631979,-.02074045215285,-5.87257861775999,.00594298065125,2.75465861874613,.00306428023191,-.86984376593551,.00012025322027,.13919314567432,.00288463683916],[.0541865640643,-3.47845948550071,-.02911007808948,6.36317777566148,-.00848709379851,-8.54751527471874,-.00851165645469,9.4769360780128,-.00834990904936,-8.81498681370155,.02245293253339,6.85401540936998,-.02596338512915,-4.39470996079559,.01624864962975,2.19611684890774,-.00240879051584,-.75104302451432,.00674613682247,.13149317958808,-.00187763777362],[.15457299681924,-2.37898834973084,-.09331049056315,2.84868151156327,-.06247880153653,-2.64577170229825,.02163541888798,2.23697657451713,-.05588393329856,-1.67148153367602,.04781476674921,1.00595954808547,.00222312597743,-.45953458054983,.03174092540049,.16378164858596,-.01390589421898,-.05032077717131,.00651420667831,.0234789740702,-.00881362733839],[.30296907319327,-1.61273165137247,-.22613988682123,1.0797749225997,-.08587323730772,-.2565625775407,.03282930172664,-.1627671912044,-.00915702933434,-.22638893773906,-.02364141202522,.39120800788284,-.00584456039913,-.22138138954925,.06276101321749,.04500235387352,-828086748e-14,.02005851806501,.00205861885564,.00302439095741,-.02950134983287],[.33642304856132,-1.49858979367799,-.2557224142557,.87350271418188,-.11828570177555,.12205022308084,.11921148675203,-.80774944671438,-.07834489609479,.47854794562326,-.0046997791438,-.12453458140019,-.0058950022444,-.04067510197014,.05724228140351,.08333755284107,.00832043980773,-.04237348025746,-.0163538138454,.02977207319925,-.0176017656815],[.4491525660845,-.62820619233671,-.14351757464547,.29661783706366,-.22784394429749,-.372563729424,-.01419140100551,.00213767857124,.04078262797139,-.42029820170918,-.12398163381748,.22199650564824,.04097565135648,.00613424350682,.10478503600251,.06747620744683,-.01863887810927,.05784820375801,-.03193428438915,.03222754072173,.00541907748707],[.56619470757641,-1.04800335126349,-.75464456939302,.29156311971249,.1624213774223,-.26806001042947,.16744243493672,.00819999645858,-.18901604199609,.45054734505008,.3093178284183,-.33032403314006,-.27562961986224,.0673936833311,.00647310677246,-.04784254229033,.08647503780351,.01639907836189,-.0378898455484,.01807364323573,-.00588215443421],[.58100494960553,-.51035327095184,-.53174909058578,-.31863563325245,-.14289799034253,-.20256413484477,.17520704835522,.1472815413433,.02377945217615,.38952639978999,.15558449135573,-.23313271880868,-.25344790059353,-.05246019024463,.01628462406333,-.02505961724053,.06920467763959,.02442357316099,-.03721611395801,.01818801111503,-.00749618797172],[.53648789255105,-.2504987195602,-.42163034350696,-.43193942311114,-.00275953611929,-.03424681017675,.04267842219415,-.04678328784242,-.10214864179676,.26408300200955,.14590772289388,.15113130533216,-.02459864859345,-.17556493366449,-.11202315195388,-.18823009262115,-.04060034127,.05477720428674,.0478866554818,.0470440968812,-.02217936801134]]),l=[[.98621192462708,-1.97223372919527,-1.97242384925416,.97261396931306,.98621192462708],[.98500175787242,-1.96977855582618,-1.97000351574484,.9702284756635,.98500175787242],[.97938932735214,-1.95835380975398,-1.95877865470428,.95920349965459,.97938932735214],[.97531843204928,-1.95002759149878,-1.95063686409857,.95124613669835,.97531843204928],[.97316523498161,-1.94561023566527,-1.94633046996323,.94705070426118,.97316523498161],[.96454515552826,-1.92783286977036,-1.92909031105652,.93034775234268,.96454515552826],[.96009142950541,-1.91858953033784,-1.92018285901082,.92177618768381,.96009142950541],[.95856916599601,-1.9154210807478,-1.91713833199203,.91885558323625,.95856916599601],[.94597685600279,-1.88903307939452,-1.89195371200558,.89487434461664,.94597685600279]];function c(e,t,n,r,a,i){while(0!=a--)n[r]=1e-10+e[t+0]*i[0]-n[r-1]*i[1]+e[t-1]*i[2]-n[r-2]*i[3]+e[t-2]*i[4]-n[r-3]*i[5]+e[t-3]*i[6]-n[r-4]*i[7]+e[t-4]*i[8]-n[r-5]*i[9]+e[t-5]*i[10]-n[r-6]*i[11]+e[t-6]*i[12]-n[r-7]*i[13]+e[t-7]*i[14]-n[r-8]*i[15]+e[t-8]*i[16]-n[r-9]*i[17]+e[t-9]*i[18]-n[r-10]*i[19]+e[t-10]*i[20],++r,++t}function u(e,t,n,r,a,i){while(0!=a--)n[r]=e[t+0]*i[0]-n[r-1]*i[1]+e[t-1]*i[2]-n[r-2]*i[3]+e[t-2]*i[4],++r,++t}function f(e,t){for(var a=0;a<MAX_ORDER;a++)e.linprebuf[a]=e.lstepbuf[a]=e.loutbuf[a]=e.rinprebuf[a]=e.rstepbuf[a]=e.routbuf[a]=0;switch(0|t){case 48e3:e.reqindex=0;break;case 44100:e.reqindex=1;break;case 32e3:e.reqindex=2;break;case 24e3:e.reqindex=3;break;case 22050:e.reqindex=4;break;case 16e3:e.reqindex=5;break;case 12e3:e.reqindex=6;break;case 11025:e.reqindex=7;break;case 8e3:e.reqindex=8;break;default:return INIT_GAIN_ANALYSIS_ERROR}return e.sampleWindow=0|(t*n+r-1)/r,e.lsum=0,e.rsum=0,e.totsamp=0,i.ill(e.A,0),INIT_GAIN_ANALYSIS_OK}function p(e){return e*e}function _(n,r){var a,i=0;for(a=0;a<r;a++)i+=n[a];if(0==i)return GAIN_NOT_ENOUGH_SAMPLES;var s=0|Math.ceil(i*(1-t));for(a=r;a-- >0;)if((s-=n[a])<=0)break;return e-a/o.STEPS_per_dB}this.InitGainAnalysis=function(e,t){return f(e,t)!=INIT_GAIN_ANALYSIS_OK?INIT_GAIN_ANALYSIS_ERROR:(e.linpre=MAX_ORDER,e.rinpre=MAX_ORDER,e.lstep=MAX_ORDER,e.rstep=MAX_ORDER,e.lout=MAX_ORDER,e.rout=MAX_ORDER,i.fill(e.B,0),INIT_GAIN_ANALYSIS_OK)},this.AnalyzeSamples=function(e,t,n,r,i,f,_){var d,h,v,m,b,g,y;if(0==f)return GAIN_ANALYSIS_OK;switch(y=0,b=f,_){case 1:r=t,i=n;break;case 2:break;default:return GAIN_ANALYSIS_ERROR}f<MAX_ORDER?(a.arraycopy(t,n,e.linprebuf,MAX_ORDER,f),a.arraycopy(r,i,e.rinprebuf,MAX_ORDER,f)):(a.arraycopy(t,n,e.linprebuf,MAX_ORDER,MAX_ORDER),a.arraycopy(r,i,e.rinprebuf,MAX_ORDER,MAX_ORDER));while(b>0){g=b>e.sampleWindow-e.totsamp?e.sampleWindow-e.totsamp:b,y<MAX_ORDER?(d=e.linpre+y,h=e.linprebuf,v=e.rinpre+y,m=e.rinprebuf,g>MAX_ORDER-y&&(g=MAX_ORDER-y)):(d=n+y,h=t,v=i+y,m=r),c(h,d,e.lstepbuf,e.lstep+e.totsamp,g,s[e.reqindex]),c(m,v,e.rstepbuf,e.rstep+e.totsamp,g,s[e.reqindex]),u(e.lstepbuf,e.lstep+e.totsamp,e.loutbuf,e.lout+e.totsamp,g,l[e.reqindex]),u(e.rstepbuf,e.rstep+e.totsamp,e.routbuf,e.rout+e.totsamp,g,l[e.reqindex]),d=e.lout+e.totsamp,h=e.loutbuf,v=e.rout+e.totsamp,m=e.routbuf;var w=g%8;while(0!=w--)e.lsum+=p(h[d++]),e.rsum+=p(m[v++]);w=g/8;while(0!=w--)e.lsum+=p(h[d+0])+p(h[d+1])+p(h[d+2])+p(h[d+3])+p(h[d+4])+p(h[d+5])+p(h[d+6])+p(h[d+7]),d+=8,e.rsum+=p(m[v+0])+p(m[v+1])+p(m[v+2])+p(m[v+3])+p(m[v+4])+p(m[v+5])+p(m[v+6])+p(m[v+7]),v+=8;if(b-=g,y+=g,e.totsamp+=g,e.totsamp==e.sampleWindow){var S=10*o.STEPS_per_dB*Math.log10((e.lsum+e.rsum)/e.totsamp*.5+1e-37),x=S<=0?0:0|S;x>=e.A.length&&(x=e.A.length-1),e.A[x]++,e.lsum=e.rsum=0,a.arraycopy(e.loutbuf,e.totsamp,e.loutbuf,0,MAX_ORDER),a.arraycopy(e.routbuf,e.totsamp,e.routbuf,0,MAX_ORDER),a.arraycopy(e.lstepbuf,e.totsamp,e.lstepbuf,0,MAX_ORDER),a.arraycopy(e.rstepbuf,e.totsamp,e.rstepbuf,0,MAX_ORDER),e.totsamp=0}if(e.totsamp>e.sampleWindow)return GAIN_ANALYSIS_ERROR}return f<MAX_ORDER?(a.arraycopy(e.linprebuf,f,e.linprebuf,0,MAX_ORDER-f),a.arraycopy(e.rinprebuf,f,e.rinprebuf,0,MAX_ORDER-f),a.arraycopy(t,n,e.linprebuf,MAX_ORDER-f,f),a.arraycopy(r,i,e.rinprebuf,MAX_ORDER-f,f)):(a.arraycopy(t,n+f-MAX_ORDER,e.linprebuf,0,MAX_ORDER),a.arraycopy(r,i+f-MAX_ORDER,e.rinprebuf,0,MAX_ORDER)),GAIN_ANALYSIS_OK},this.GetTitleGain=function(e){for(var t=_(e.A,e.A.length),n=0;n<e.A.length;n++)e.B[n]+=e.A[n],e.A[n]=0;for(n=0;n<MAX_ORDER;n++)e.linprebuf[n]=e.lstepbuf[n]=e.loutbuf[n]=e.rinprebuf[n]=e.rstepbuf[n]=e.routbuf[n]=0;return e.totsamp=0,e.lsum=e.rsum=0,t}}o.STEPS_per_dB=100,o.MAX_dB=120,o.GAIN_NOT_ENOUGH_SAMPLES=-24601,o.GAIN_ANALYSIS_ERROR=0,o.GAIN_ANALYSIS_OK=1,o.INIT_GAIN_ANALYSIS_ERROR=0,o.INIT_GAIN_ANALYSIS_OK=1,o.YULE_ORDER=10,o.MAX_ORDER=o.YULE_ORDER,o.MAX_SAMP_FREQ=48e3,o.RMS_WINDOW_TIME_NUMERATOR=1,o.RMS_WINDOW_TIME_DENOMINATOR=20,o.MAX_SAMPLES_PER_WINDOW=o.MAX_SAMP_FREQ*o.RMS_WINDOW_TIME_NUMERATOR/o.RMS_WINDOW_TIME_DENOMINATOR+1,e.exports=o},"32cb":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"page"}},[n("div",{attrs:{id:"header"}},[n("h1",[e._v(" "+e._s(e.$t("Suisei Remix Editor"))+" "),n("sup",[e._v(e._s(e.$t("experimental")))])]),n("p",{domProps:{innerHTML:e._s(e.$t("long-editor-description"))}}),n("div",{style:{display:1===e.smallScreen?"none":"flex",opacity:2===e.smallScreen?0:1},attrs:{id:"operations"}},[n("div",{staticClass:"normalBtn",on:{click:e.playRemix}},[e._v(e._s(e.$t("Play")))]),n("div",{staticClass:"normalBtn",on:{click:e.exportRemix}},[e._v(e._s(e.$t("Export")))]),n("div",{staticClass:"normalBtn",on:{click:e.clearRemix}},[e._v(e._s(e.$t("Clear")))])])]),n("div",{style:{display:0===e.smallScreen?"none":"block"},attrs:{id:"smallScreen"}},[n("p",[e._v(" "+e._s(e.$t("Your device screen is too small to run this editor. Sorry~"))+" ")])]),n("div",{style:{display:1===e.smallScreen?"none":"block",opacity:2===e.smallScreen?0:1}},[n("div",{ref:"clips",attrs:{id:"buttons"}},[e._l(e.sounds,(function(e,t){return[n("BaseButton",{key:t,staticClass:"item normalBtn",attrs:{item:e,noclickplay:!0,"data-sound-id":t}})]}))],2),n("div",{ref:"editor",attrs:{id:"editor"}},[e._m(0)])])])},a=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"tracks"}},[n("div",{staticClass:"track",attrs:{"data-track-id":"1"}}),n("div",{staticClass:"track",attrs:{"data-track-id":"2"}}),n("div",{staticClass:"track",attrs:{"data-track-id":"3"}}),n("div",{staticClass:"track",attrs:{"data-track-id":"4"}})])}];n("99af"),n("b0c0"),n("a9e3"),n("4fad"),n("d3b7"),n("07ac"),n("acd8"),n("4795"),n("277d");function i(e){if(Array.isArray(e))return e}n("a4d3"),n("e01a"),n("d28b"),n("3ca3"),n("ddb0");function o(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done);r=!0)if(n.push(o.value),t&&n.length===t)break}catch(l){a=!0,i=l}finally{try{r||null==s["return"]||s["return"]()}finally{if(a)throw i}}return n}}var s=n("06c5");function l(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(e,t){return i(e)||o(e,t)||Object(s["a"])(e,t)||l()}n("4de4"),n("4160"),n("1d1c"),n("7a82"),n("e439"),n("dbb4"),n("b64b"),n("159b");function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var _=n("b85c"),d=(n("96cf"),n("1da1")),h=n("d4ec"),v=n("bee2"),m=n("262e"),b=n("2caf"),g=n("9ab4"),y=n("60a3"),w=n("82ea"),S=n("5014"),x=n.n(S),M=(n("2b3d"),n("574a"));function E(e){return A.apply(this,arguments)}function A(){return A=Object(d["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){try{M(t,128,null,(function(t){e(t)}))}catch(r){n(r)}})));case 1:case"end":return e.stop()}}),e)}))),A.apply(this,arguments)}function R(e){return k.apply(this,arguments)}function k(){return k=Object(d["a"])(regeneratorRuntime.mark((function e(t){var n,r,a,i,o,s,l,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=new OfflineAudioContext(2,220500,44100),r=Object(_["a"])(t),e.prev=2,i=regeneratorRuntime.mark((function e(){var t,r,i,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=a.value,console.log("Fetching ".concat(t.musicurl)),e.next=4,fetch(t.musicurl).then((function(e){return e.blob()})).then((function(e){return e.arrayBuffer()}));case 4:return r=e.sent,i=n.createBufferSource(),e.next=8,n.decodeAudioData(r)["catch"]((function(e){console.log("Error when decoding ".concat(t.musicurl,":"),e)}));case 8:if(o=e.sent,o){e.next=11;break}return e.abrupt("return","continue");case 11:console.log("Decoded ".concat(t.musicurl," delaying"),o,t.delay),i.buffer=o,i.connect(n.destination),i.start(t.delay);case 15:case"end":return e.stop()}}),e)})),r.s();case 5:if((a=r.n()).done){e.next=12;break}return e.delegateYield(i(),"t0",7);case 7:if(o=e.t0,"continue"!==o){e.next=10;break}return e.abrupt("continue",10);case 10:e.next=5;break;case 12:e.next=17;break;case 14:e.prev=14,e.t1=e["catch"](2),r.e(e.t1);case 17:return e.prev=17,r.f(),e.finish(17);case 20:return console.log("Rendering..."),e.next=23,n.startRendering();case 23:return s=e.sent,e.next=26,E(s);case 26:return l=e.sent,c=URL.createObjectURL(l),e.abrupt("return",c);case 29:case"end":return e.stop()}}),e,null,[[2,14,17,20]])}))),k.apply(this,arguments)}var T=n("1bec"),P={};function B(e){return e.offsetLeft+Number(e.getAttribute("data-x")||-1*e.offsetLeft)}function O(e,t,n){var r=(parseFloat(e.getAttribute("data-x")||"")||0)+t,a=(parseFloat(e.getAttribute("data-y")||"")||0)+n;e.style.webkitTransform=e.style.transform="translate("+r+"px, "+a+"px)",e.setAttribute("data-x",String(r)),e.setAttribute("data-y",String(a))}function I(e){var t=e.target;O(t,e.dx,e.dy);var n=Number(t.getAttribute("data-seq-id"));if(P[n]){var r=B(t);P[n].location=r}}window.editorElements=P;var j=function(e){Object(m["a"])(n,e);var t=Object(b["a"])(n);function n(){var e;return Object(h["a"])(this,n),e=t.apply(this,arguments),e.sounds=[],e.smallScreen=0,e.timelineLength=3,e}return Object(v["a"])(n,[{key:"loadVoice",value:function(){var e=Object(d["a"])(regeneratorRuntime.mark((function e(){var t,n,r,a,i,o,s,l;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,fetch("/sounds.json").then((function(e){return e.json()}))["catch"]((function(){console.error("Sound data fetch error. Exiting.")}));case 2:t=e.sent,n=Object(_["a"])(t);try{for(n.s();!(r=n.n()).done;)if(a=r.value,"string"===typeof a.file)this.sounds.push(a);else for(i=0;i<a.file.length;i++){for(s in o=p({},a.name_l10n),o)o[s]+=" (".concat(i+1,")");l=Object.assign({},a,{name:"".concat(a.name," (").concat(i+1,")"),name_l10n:o,file:a.file[i]}),this.sounds.push(l)}}catch(c){n.e(c)}finally{n.f()}case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"validateDisplay",value:function(){if(window.innerHeight>600)this.smallScreen=0;else{this.smallScreen=2;var e=this.$refs.editor.offsetHeight+this.$refs.editor.offsetTop;window.innerHeight<e?this.smallScreen=1:0!==e&&(this.smallScreen=0)}}},{key:"mounted",value:function(){var e=Object(d["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.loadVoice();case 2:Object(T["a"])(window,navigator,this),this.validateDisplay(),window.addEventListener("resize",this.validateDisplay),this.initDrag();case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"initDrag",value:function(){var e=this.$refs.clips.offsetLeft,t=this.$refs.clips.offsetTop,n=this;x()(".item").draggable({inertia:!1,modifiers:[x.a.modifiers.restrictRect({restriction:document.getElementById("page"),endOnly:!0})],listeners:{move:function(e){I(e)},end:function(r){I(r);var a=r.target;if(a.getAttribute("data-seq-id")){if(!a.getAttribute("data-in-track")){var i=a.cloneNode(!0);i.style.webkitTransform=i.style.transform="",i.removeAttribute("data-x"),i.removeAttribute("data-y"),i.removeAttribute("data-seq-id"),i.removeAttribute("data-in-track"),n.$refs.clips.appendChild(i),a.setAttribute("data-in-track","1"),O(a,a.offsetLeft-e-12,a.offsetTop-t-12),a.style.position="absolute"}}else a.getAttribute("data-in-track")?n.$refs.clips.removeChild(a):(a.style.webkitTransform=a.style.transform="",a.removeAttribute("data-x"),a.removeAttribute("data-y"))}}}),x()(".track").dropzone({accept:".item",ondragenter:function(e){var t=e.relatedTarget,n=t.getAttribute("data-seq-id");n||(n=String(Math.random()),t.setAttribute("data-seq-id",n),P[n]={id:Number(t.getAttribute("data-sound-id")),location:-1})},ondragleave:function(e){var t=e.relatedTarget,n=t.getAttribute("data-seq-id");n&&(P[n]&&delete P[n],t.removeAttribute("data-seq-id"))}})}},{key:"playRemix",value:function(){var e=document.getElementsByClassName("track");if(e){for(var t=e[0],n=Number(t.offsetWidth)/this.timelineLength,r={},a=0,i=Object.entries(P);a<i.length;a++){var o=c(i[a],2),s=o[0],l=o[1];if(!(l.id<0)){var u=l.id,f=r[s];if(!f){var p=this.sounds[u].file,_=new Audio("assets/".concat(p));_.preload="auto",r[s]=_}}}for(var d=function(){var e=c(v[h],2),t=e[0],a=e[1];if(a.id<0||a.location<0)return"continue";setTimeout((function(){r[t].play()}),a.location/n*1e3)},h=0,v=Object.entries(P);h<v.length;h++)d()}}},{key:"clearRemix",value:function(){var e,t=Object(_["a"])(document.querySelectorAll(".item[data-seq-id]"));try{for(t.s();!(e=t.n()).done;){var n=e.value;this.$refs.clips.removeChild(n)}}catch(r){t.e(r)}finally{t.f()}P={}}},{key:"exportRemix",value:function(){var e=Object(d["a"])(regeneratorRuntime.mark((function e(){var t,n,r,a,i,o,s,l,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=document.getElementsByClassName("track"),t){e.next=3;break}return e.abrupt("return");case 3:for(n=t[0],r=[],a=Number(n.offsetWidth)/this.timelineLength,i=0,o=Object.values(P);i<o.length;i++)s=o[i],r.push({musicurl:"assets/".concat(this.sounds[s.id].file),delay:s.location/a});return e.next=9,R(r);case 9:l=e.sent,c=document.createElement("a"),c.href=l,c.download="output.mp3",c.click();case 14:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}]),n}(y["d"]);j=Object(g["b"])([Object(y["a"])({components:{BaseButton:w["a"]}})],j);var D=j,L=D,C=(n("9b60"),n("2877")),V=Object(C["a"])(L,r,a,!1,null,"5f8211e8",null);t["default"]=V.exports},3967:function(e,t,n){var r=n("0206"),a=(r.System,r.VbrMode);r.Float,r.ShortBlock,r.Util,r.Arrays,r.new_array_n,r.new_byte,r.new_double,r.new_float,r.new_float_n,r.new_int,r.new_int_n,r.assert;function i(){function e(e,t,n,r,a,i,o,s,l,c,u,f,p,_,d){this.vbr_q=e,this.quant_comp=t,this.quant_comp_s=n,this.expY=r,this.st_lrm=a,this.st_s=i,this.masking_adj=o,this.masking_adj_short=s,this.ath_lower=l,this.ath_curve=c,this.ath_sensitivity=u,this.interch=f,this.safejoint=p,this.sfb21mod=_,this.msfix=d}function t(e,t,n,r,a,i,o,s,l,c,u,f,p,_){this.quant_comp=t,this.quant_comp_s=n,this.safejoint=r,this.nsmsfix=a,this.st_lrm=i,this.st_s=o,this.nsbass=s,this.scale=l,this.masking_adj=c,this.ath_lower=u,this.ath_curve=f,this.interch=p,this.sfscale=_}var n;this.setModules=function(e){n=e};var r=[new e(0,9,9,0,5.2,125,-4.2,-6.3,4.8,1,0,0,2,21,.97),new e(1,9,9,0,5.3,125,-3.6,-5.6,4.5,1.5,0,0,2,21,1.35),new e(2,9,9,0,5.6,125,-2.2,-3.5,2.8,2,0,0,2,21,1.49),new e(3,9,9,1,5.8,130,-1.8,-2.8,2.6,3,-4,0,2,20,1.64),new e(4,9,9,1,6,135,-.7,-1.1,1.1,3.5,-8,0,2,0,1.79),new e(5,9,9,1,6.4,140,.5,.4,-7.5,4,-12,2e-4,0,0,1.95),new e(6,9,9,1,6.6,145,.67,.65,-14.7,6.5,-19,4e-4,0,0,2.3),new e(7,9,9,1,6.6,145,.8,.75,-19.7,8,-22,6e-4,0,0,2.7),new e(8,9,9,1,6.6,145,1.2,1.15,-27.5,10,-23,7e-4,0,0,0),new e(9,9,9,1,6.6,145,1.6,1.6,-36,11,-25,8e-4,0,0,0),new e(10,9,9,1,6.6,145,2,2,-36,12,-25,8e-4,0,0,0)],i=[new e(0,9,9,0,4.2,25,-7,-4,7.5,1,0,0,2,26,.97),new e(1,9,9,0,4.2,25,-5.6,-3.6,4.5,1.5,0,0,2,21,1.35),new e(2,9,9,0,4.2,25,-4.4,-1.8,2,2,0,0,2,18,1.49),new e(3,9,9,1,4.2,25,-3.4,-1.25,1.1,3,-4,0,2,15,1.64),new e(4,9,9,1,4.2,25,-2.2,.1,0,3.5,-8,0,2,0,1.79),new e(5,9,9,1,4.2,25,-1,1.65,-7.7,4,-12,2e-4,0,0,1.95),new e(6,9,9,1,4.2,25,-0,2.47,-7.7,6.5,-19,4e-4,0,0,2),new e(7,9,9,1,4.2,25,.5,2,-14.5,8,-22,6e-4,0,0,2),new e(8,9,9,1,4.2,25,1,2.4,-22,10,-23,7e-4,0,0,2),new e(9,9,9,1,4.2,25,1.5,2.95,-30,11,-25,8e-4,0,0,2),new e(10,9,9,1,4.2,25,2,2.95,-36,12,-30,8e-4,0,0,2)];function o(e,t,n){var o=e.VBR==a.vbr_rh?r:i,s=e.VBR_q_frac,l=o[t],u=o[t+1],f=l;l.st_lrm=l.st_lrm+s*(u.st_lrm-l.st_lrm),l.st_s=l.st_s+s*(u.st_s-l.st_s),l.masking_adj=l.masking_adj+s*(u.masking_adj-l.masking_adj),l.masking_adj_short=l.masking_adj_short+s*(u.masking_adj_short-l.masking_adj_short),l.ath_lower=l.ath_lower+s*(u.ath_lower-l.ath_lower),l.ath_curve=l.ath_curve+s*(u.ath_curve-l.ath_curve),l.ath_sensitivity=l.ath_sensitivity+s*(u.ath_sensitivity-l.ath_sensitivity),l.interch=l.interch+s*(u.interch-l.interch),l.msfix=l.msfix+s*(u.msfix-l.msfix),c(e,f.vbr_q),0!=n?e.quant_comp=f.quant_comp:Math.abs(e.quant_comp- -1)>0||(e.quant_comp=f.quant_comp),0!=n?e.quant_comp_short=f.quant_comp_s:Math.abs(e.quant_comp_short- -1)>0||(e.quant_comp_short=f.quant_comp_s),0!=f.expY&&(e.experimentalY=0!=f.expY),0!=n?e.internal_flags.nsPsy.attackthre=f.st_lrm:Math.abs(e.internal_flags.nsPsy.attackthre- -1)>0||(e.internal_flags.nsPsy.attackthre=f.st_lrm),0!=n?e.internal_flags.nsPsy.attackthre_s=f.st_s:Math.abs(e.internal_flags.nsPsy.attackthre_s- -1)>0||(e.internal_flags.nsPsy.attackthre_s=f.st_s),0!=n?e.maskingadjust=f.masking_adj:Math.abs(e.maskingadjust-0)>0||(e.maskingadjust=f.masking_adj),0!=n?e.maskingadjust_short=f.masking_adj_short:Math.abs(e.maskingadjust_short-0)>0||(e.maskingadjust_short=f.masking_adj_short),0!=n?e.ATHlower=-f.ath_lower/10:Math.abs(10*-e.ATHlower-0)>0||(e.ATHlower=-f.ath_lower/10),0!=n?e.ATHcurve=f.ath_curve:Math.abs(e.ATHcurve- -1)>0||(e.ATHcurve=f.ath_curve),0!=n?e.athaa_sensitivity=f.ath_sensitivity:Math.abs(e.athaa_sensitivity- -1)>0||(e.athaa_sensitivity=f.ath_sensitivity),f.interch>0&&(0!=n?e.interChRatio=f.interch:Math.abs(e.interChRatio- -1)>0||(e.interChRatio=f.interch)),f.safejoint>0&&(e.exp_nspsytune=e.exp_nspsytune|f.safejoint),f.sfb21mod>0&&(e.exp_nspsytune=e.exp_nspsytune|f.sfb21mod<<20),0!=n?e.msfix=f.msfix:Math.abs(e.msfix- -1)>0||(e.msfix=f.msfix),0==n&&(e.VBR_q=t,e.VBR_q_frac=s)}var s=[new t(8,9,9,0,0,6.6,145,0,.95,0,-30,11,.0012,1),new t(16,9,9,0,0,6.6,145,0,.95,0,-25,11,.001,1),new t(24,9,9,0,0,6.6,145,0,.95,0,-20,11,.001,1),new t(32,9,9,0,0,6.6,145,0,.95,0,-15,11,.001,1),new t(40,9,9,0,0,6.6,145,0,.95,0,-10,11,9e-4,1),new t(48,9,9,0,0,6.6,145,0,.95,0,-10,11,9e-4,1),new t(56,9,9,0,0,6.6,145,0,.95,0,-6,11,8e-4,1),new t(64,9,9,0,0,6.6,145,0,.95,0,-2,11,8e-4,1),new t(80,9,9,0,0,6.6,145,0,.95,0,0,8,7e-4,1),new t(96,9,9,0,2.5,6.6,145,0,.95,0,1,5.5,6e-4,1),new t(112,9,9,0,2.25,6.6,145,0,.95,0,2,4.5,5e-4,1),new t(128,9,9,0,1.95,6.4,140,0,.95,0,3,4,2e-4,1),new t(160,9,9,1,1.79,6,135,0,.95,-2,5,3.5,0,1),new t(192,9,9,1,1.49,5.6,125,0,.97,-4,7,3,0,0),new t(224,9,9,1,1.25,5.2,125,0,.98,-6,9,2,0,0),new t(256,9,9,1,.97,5.2,125,0,1,-8,10,1,0,0),new t(320,9,9,1,.9,5.2,125,0,1,-10,12,0,0,0)];function l(e,t,r){var i=t,o=n.nearestBitrateFullIndex(t);if(e.VBR=a.vbr_abr,e.VBR_mean_bitrate_kbps=i,e.VBR_mean_bitrate_kbps=Math.min(e.VBR_mean_bitrate_kbps,320),e.VBR_mean_bitrate_kbps=Math.max(e.VBR_mean_bitrate_kbps,8),e.brate=e.VBR_mean_bitrate_kbps,e.VBR_mean_bitrate_kbps>320&&(e.disable_reservoir=!0),s[o].safejoint>0&&(e.exp_nspsytune=2|e.exp_nspsytune),s[o].sfscale>0&&(e.internal_flags.noise_shaping=2),Math.abs(s[o].nsbass)>0){var l=int(4*s[o].nsbass);l<0&&(l+=64),e.exp_nspsytune=e.exp_nspsytune|l<<2}return 0!=r?e.quant_comp=s[o].quant_comp:Math.abs(e.quant_comp- -1)>0||(e.quant_comp=s[o].quant_comp),0!=r?e.quant_comp_short=s[o].quant_comp_s:Math.abs(e.quant_comp_short- -1)>0||(e.quant_comp_short=s[o].quant_comp_s),0!=r?e.msfix=s[o].nsmsfix:Math.abs(e.msfix- -1)>0||(e.msfix=s[o].nsmsfix),0!=r?e.internal_flags.nsPsy.attackthre=s[o].st_lrm:Math.abs(e.internal_flags.nsPsy.attackthre- -1)>0||(e.internal_flags.nsPsy.attackthre=s[o].st_lrm),0!=r?e.internal_flags.nsPsy.attackthre_s=s[o].st_s:Math.abs(e.internal_flags.nsPsy.attackthre_s- -1)>0||(e.internal_flags.nsPsy.attackthre_s=s[o].st_s),0!=r?e.scale=s[o].scale:Math.abs(e.scale- -1)>0||(e.scale=s[o].scale),0!=r?e.maskingadjust=s[o].masking_adj:Math.abs(e.maskingadjust-0)>0||(e.maskingadjust=s[o].masking_adj),s[o].masking_adj>0?0!=r?e.maskingadjust_short=.9*s[o].masking_adj:Math.abs(e.maskingadjust_short-0)>0||(e.maskingadjust_short=.9*s[o].masking_adj):0!=r?e.maskingadjust_short=1.1*s[o].masking_adj:Math.abs(e.maskingadjust_short-0)>0||(e.maskingadjust_short=1.1*s[o].masking_adj),0!=r?e.ATHlower=-s[o].ath_lower/10:Math.abs(10*-e.ATHlower-0)>0||(e.ATHlower=-s[o].ath_lower/10),0!=r?e.ATHcurve=s[o].ath_curve:Math.abs(e.ATHcurve- -1)>0||(e.ATHcurve=s[o].ath_curve),0!=r?e.interChRatio=s[o].interch:Math.abs(e.interChRatio- -1)>0||(e.interChRatio=s[o].interch),t}function c(e,t){var n=0;return 0>t&&(n=-1,t=0),9<t&&(n=-1,t=9),e.VBR_q=t,e.VBR_q_frac=0,n}this.apply_preset=function(e,t,n){switch(t){case Lame.R3MIX:t=Lame.V3,e.VBR=a.vbr_mtrh;break;case Lame.MEDIUM:t=Lame.V4,e.VBR=a.vbr_rh;break;case Lame.MEDIUM_FAST:t=Lame.V4,e.VBR=a.vbr_mtrh;break;case Lame.STANDARD:t=Lame.V2,e.VBR=a.vbr_rh;break;case Lame.STANDARD_FAST:t=Lame.V2,e.VBR=a.vbr_mtrh;break;case Lame.EXTREME:t=Lame.V0,e.VBR=a.vbr_rh;break;case Lame.EXTREME_FAST:t=Lame.V0,e.VBR=a.vbr_mtrh;break;case Lame.INSANE:return t=320,e.preset=t,l(e,t,n),e.VBR=a.vbr_off,t}switch(e.preset=t,t){case Lame.V9:return o(e,9,n),t;case Lame.V8:return o(e,8,n),t;case Lame.V7:return o(e,7,n),t;case Lame.V6:return o(e,6,n),t;case Lame.V5:return o(e,5,n),t;case Lame.V4:return o(e,4,n),t;case Lame.V3:return o(e,3,n),t;case Lame.V2:return o(e,2,n),t;case Lame.V1:return o(e,1,n),t;case Lame.V0:return o(e,0,n),t;default:break}return 8<=t&&t<=320?l(e,t,n):(e.preset=0,t)}}e.exports=i},4160:function(e,t,n){"use strict";var r=n("23e7"),a=n("17c2");r({target:"Array",proto:!0,forced:[].forEach!=a},{forEach:a})},"4a65":function(e,t,n){var r=n("0206"),a=(r.System,r.VbrMode,r.Float,r.ShortBlock,r.Util,r.Arrays,r.new_array_n,r.new_byte,r.new_double,r.new_float),i=(r.new_float_n,r.new_int),o=(r.new_int_n,r.assert),s=n("f052"),l=n("4b5e"),c=n("9828"),u=n("bd8b");function f(e){var t=e;this.quantize=t,this.iteration_loop=function(e,t,n,r){var f,p=e.internal_flags,_=a(c.SFBMAX),d=a(576),h=i(2),v=0,m=p.l3_side,b=new s(v);this.quantize.rv.ResvFrameBegin(e,b),v=b.bits;for(var g=0;g<p.mode_gr;g++){f=this.quantize.qupvt.on_pe(e,t,h,v,g,g),p.mode_ext==l.MPG_MD_MS_LR&&(this.quantize.ms_convert(p.l3_side,g),this.quantize.qupvt.reduce_side(h,n[g],v,f));for(var y=0;y<p.channels_out;y++){var w,S,x=m.tt[g][y];x.block_type!=l.SHORT_TYPE?(w=0,S=p.PSY.mask_adjust-w):(w=0,S=p.PSY.mask_adjust_short-w),p.masking_lower=Math.pow(10,.1*S),this.quantize.init_outer_loop(p,x),this.quantize.init_xrpow(p,x,d)&&(this.quantize.qupvt.calc_xmin(e,r[g][y],x,_),this.quantize.outer_loop(e,x,_,d,y,h[y])),this.quantize.iteration_finish_one(p,g,y),o(x.part2_3_length<=u.MAX_BITS_PER_CHANNEL),o(x.part2_3_length<=h[y])}}this.quantize.rv.ResvFrameEnd(p,v)}}e.exports=f},"4b5e":function(e,t,n){var r=n("0206"),a=r.System,i=r.VbrMode,o=(r.Float,r.ShortBlock,r.Util,r.Arrays,r.new_array_n),s=(r.new_byte,r.new_double,r.new_float),l=r.new_float_n,c=r.new_int,u=(r.new_int_n,r.assert);function f(){var e=n("f3e2"),t=n("f26d"),r=f.FFTOFFSET,p=f.MPG_MD_MS_LR,_=null;this.psy=null;var d=null,h=null,v=null;this.setModules=function(e,t,n,r){_=e,this.psy=t,d=t,h=r,v=n};var m=new e;function b(e){var t,n;if(0!=e.ATH.useAdjust)if(n=e.loudness_sq[0][0],t=e.loudness_sq[1][0],2==e.channels_out?(n+=e.loudness_sq[0][1],t+=e.loudness_sq[1][1]):(n+=n,t+=t),2==e.mode_gr&&(n=Math.max(n,t)),n*=.5,n*=e.ATH.aaSensitivityP,n>.03125)e.ATH.adjust>=1?e.ATH.adjust=1:e.ATH.adjust<e.ATH.adjustLimit&&(e.ATH.adjust=e.ATH.adjustLimit),e.ATH.adjustLimit=1;else{var r=31.98*n+625e-6;e.ATH.adjust>=r?(e.ATH.adjust*=.075*r+.925,e.ATH.adjust<r&&(e.ATH.adjust=r)):e.ATH.adjustLimit>=r?e.ATH.adjust=r:e.ATH.adjust<e.ATH.adjustLimit&&(e.ATH.adjust=e.ATH.adjustLimit),e.ATH.adjustLimit=r}else e.ATH.adjust=1}function g(e){var t,n;for(u(0<=e.bitrate_index&&e.bitrate_index<16),u(0<=e.mode_ext&&e.mode_ext<4),e.bitrate_stereoMode_Hist[e.bitrate_index][4]++,e.bitrate_stereoMode_Hist[15][4]++,2==e.channels_out&&(e.bitrate_stereoMode_Hist[e.bitrate_index][e.mode_ext]++,e.bitrate_stereoMode_Hist[15][e.mode_ext]++),t=0;t<e.mode_gr;++t)for(n=0;n<e.channels_out;++n){var r=0|e.l3_side.tt[t][n].block_type;0!=e.l3_side.tt[t][n].mixed_block_flag&&(r=4),e.bitrate_blockType_Hist[e.bitrate_index][r]++,e.bitrate_blockType_Hist[e.bitrate_index][5]++,e.bitrate_blockType_Hist[15][r]++,e.bitrate_blockType_Hist[15][5]++}}function y(e,t){var n,r,a=e.internal_flags;if(0==a.lame_encode_frame_init){var i,o,l=s(2014),c=s(2014);for(a.lame_encode_frame_init=1,i=0,o=0;i<286+576*(1+a.mode_gr);++i)i<576*a.mode_gr?(l[i]=0,2==a.channels_out&&(c[i]=0)):(l[i]=t[0][o],2==a.channels_out&&(c[i]=t[1][o]),++o);for(r=0;r<a.mode_gr;r++)for(n=0;n<a.channels_out;n++)a.l3_side.tt[r][n].block_type=f.SHORT_TYPE;m.mdct_sub48(a,l,c),u(576>=f.FFTOFFSET),u(a.mf_size>=f.BLKSIZE+e.framesize-f.FFTOFFSET),u(a.mf_size>=512+e.framesize-32)}}this.lame_encode_mp3_frame=function(e,n,s,u,w,S){var x,M=o([2,2]);M[0][0]=new t,M[0][1]=new t,M[1][0]=new t,M[1][1]=new t;var E,A=o([2,2]);A[0][0]=new t,A[0][1]=new t,A[1][0]=new t,A[1][1]=new t;var R,k,T,P=[null,null],B=e.internal_flags,O=l([2,4]),I=[.5,.5],j=[[0,0],[0,0]],D=[[0,0],[0,0]];if(P[0]=n,P[1]=s,0==B.lame_encode_frame_init&&y(e,P),B.padding=0,(B.slot_lag-=B.frac_SpF)<0&&(B.slot_lag+=e.out_samplerate,B.padding=1),0!=B.psymodel){var L,C=[null,null],V=0,N=c(2);for(T=0;T<B.mode_gr;T++){for(k=0;k<B.channels_out;k++)C[k]=P[k],V=576+576*T-f.FFTOFFSET;if(L=e.VBR==i.vbr_mtrh||e.VBR==i.vbr_mt?d.L3psycho_anal_vbr(e,C,V,T,M,A,j[T],D[T],O[T],N):d.L3psycho_anal_ns(e,C,V,T,M,A,j[T],D[T],O[T],N),0!=L)return-4;for(e.mode==MPEGMode.JOINT_STEREO&&(I[T]=O[T][2]+O[T][3],I[T]>0&&(I[T]=O[T][3]/I[T])),k=0;k<B.channels_out;k++){var H=B.l3_side.tt[T][k];H.block_type=N[k],H.mixed_block_flag=0}}}else for(T=0;T<B.mode_gr;T++)for(k=0;k<B.channels_out;k++)B.l3_side.tt[T][k].block_type=f.NORM_TYPE,B.l3_side.tt[T][k].mixed_block_flag=0,D[T][k]=j[T][k]=700;if(b(B),m.mdct_sub48(B,P[0],P[1]),B.mode_ext=f.MPG_MD_LR_LR,e.force_ms)B.mode_ext=f.MPG_MD_MS_LR;else if(e.mode==MPEGMode.JOINT_STEREO){var X=0,F=0;for(T=0;T<B.mode_gr;T++)for(k=0;k<B.channels_out;k++)X+=D[T][k],F+=j[T][k];if(X<=1*F){var z=B.l3_side.tt[0],q=B.l3_side.tt[B.mode_gr-1];z[0].block_type==z[1].block_type&&q[0].block_type==q[1].block_type&&(B.mode_ext=f.MPG_MD_MS_LR)}}if(B.mode_ext==p?(E=A,R=D):(E=M,R=j),e.analysis&&null!=B.pinfo)for(T=0;T<B.mode_gr;T++)for(k=0;k<B.channels_out;k++)B.pinfo.ms_ratio[T]=B.ms_ratio[T],B.pinfo.ms_ener_ratio[T]=I[T],B.pinfo.blocktype[T][k]=B.l3_side.tt[T][k].block_type,B.pinfo.pe[T][k]=R[T][k],a.arraycopy(B.l3_side.tt[T][k].xr,0,B.pinfo.xr[T][k],0,576),B.mode_ext==p&&(B.pinfo.ers[T][k]=B.pinfo.ers[T][k+2],a.arraycopy(B.pinfo.energy[T][k+2],0,B.pinfo.energy[T][k],0,B.pinfo.energy[T][k].length));if(e.VBR==i.vbr_off||e.VBR==i.vbr_abr){var Y,U;for(Y=0;Y<18;Y++)B.nsPsy.pefirbuf[Y]=B.nsPsy.pefirbuf[Y+1];for(U=0,T=0;T<B.mode_gr;T++)for(k=0;k<B.channels_out;k++)U+=R[T][k];for(B.nsPsy.pefirbuf[18]=U,U=B.nsPsy.pefirbuf[9],Y=0;Y<9;Y++)U+=(B.nsPsy.pefirbuf[Y]+B.nsPsy.pefirbuf[18-Y])*f.fircoef[Y];for(U=3350*B.mode_gr*B.channels_out/U,T=0;T<B.mode_gr;T++)for(k=0;k<B.channels_out;k++)R[T][k]*=U}if(B.iteration_loop.iteration_loop(e,R,I,E),_.format_bitstream(e),x=_.copy_buffer(B,u,w,S,1),e.bWriteVbrTag&&h.addVbrFrame(e),e.analysis&&null!=B.pinfo){for(k=0;k<B.channels_out;k++){var G;for(G=0;G<r;G++)B.pinfo.pcmdata[k][G]=B.pinfo.pcmdata[k][G+e.framesize];for(G=r;G<1600;G++)B.pinfo.pcmdata[k][G]=P[k][G-r]}v.set_frame_pinfo(e,E)}return g(B),x}}f.ENCDELAY=576,f.POSTDELAY=1152,f.MDCTDELAY=48,f.FFTOFFSET=224+f.MDCTDELAY,f.DECDELAY=528,f.SBLIMIT=32,f.CBANDS=64,f.SBPSY_l=21,f.SBPSY_s=12,f.SBMAX_l=22,f.SBMAX_s=13,f.PSFB21=6,f.PSFB12=6,f.BLKSIZE=1024,f.HBLKSIZE=f.BLKSIZE/2+1,f.BLKSIZE_s=256,f.HBLKSIZE_s=f.BLKSIZE_s/2+1,f.NORM_TYPE=0,f.START_TYPE=1,f.SHORT_TYPE=2,f.STOP_TYPE=3,f.MPG_MD_LR_LR=0,f.MPG_MD_LR_I=1,f.MPG_MD_MS_LR=2,f.MPG_MD_MS_I=3,f.fircoef=[-.1039435,-.1892065,5*-.0432472,-.155915,3898045e-23,.0467745*5,.50455,.756825,.187098*5],e.exports=f},"4de4":function(e,t,n){"use strict";var r=n("23e7"),a=n("b727").filter,i=n("1dde"),o=n("ae40"),s=i("filter"),l=o("filter");r({target:"Array",proto:!0,forced:!s||!l},{filter:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}})},"4fad":function(e,t,n){var r=n("23e7"),a=n("6f53").entries;r({target:"Object",stat:!0},{entries:function(e){return a(e)}})},5014:function(e,t,n){!function(t){e.exports=t()}((function(){var e={};Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,e.default=function(e){return!(!e||!e.Window)&&e instanceof e.Window};var t={};Object.defineProperty(t,"__esModule",{value:!0}),t.init=r,t.getWindow=a,t.default=void 0;var n={realWindow:void 0,window:void 0,getWindow:a,init:r};function r(e){n.realWindow=e;var t=e.document.createTextNode("");t.ownerDocument!==e.document&&"function"==typeof e.wrap&&e.wrap(t)===t&&(e=e.wrap(e)),n.window=e}function a(t){return(0,e.default)(t)?t:(t.ownerDocument||t).defaultView||n.window}"undefined"==typeof window?(n.window=void 0,n.realWindow=void 0):r(window),n.init=r;var i=n;t.default=i;var o={};function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var l=function(e){return!!e&&"object"===s(e)},c=function(e){return"function"==typeof e},u={window:function(n){return n===t.default.window||(0,e.default)(n)},docFrag:function(e){return l(e)&&11===e.nodeType},object:l,func:c,number:function(e){return"number"==typeof e},bool:function(e){return"boolean"==typeof e},string:function(e){return"string"==typeof e},element:function(e){if(!e||"object"!==s(e))return!1;var n=t.default.getWindow(e)||t.default.window;return/object|function/.test(s(n.Element))?e instanceof n.Element:1===e.nodeType&&"string"==typeof e.nodeName},plainObject:function(e){return l(e)&&!!e.constructor&&/function Object\b/.test(e.constructor.toString())},array:function(e){return l(e)&&void 0!==e.length&&c(e.splice)}};o.default=u;var f={};function p(e){var t=e.interaction;if("drag"===t.prepared.name){var n=t.prepared.axis;"x"===n?(t.coords.cur.page.y=t.coords.start.page.y,t.coords.cur.client.y=t.coords.start.client.y,t.coords.velocity.client.y=0,t.coords.velocity.page.y=0):"y"===n&&(t.coords.cur.page.x=t.coords.start.page.x,t.coords.cur.client.x=t.coords.start.client.x,t.coords.velocity.client.x=0,t.coords.velocity.page.x=0)}}function _(e){var t=e.iEvent,n=e.interaction;if("drag"===n.prepared.name){var r=n.prepared.axis;if("x"===r||"y"===r){var a="x"===r?"y":"x";t.page[a]=n.coords.start.page[a],t.client[a]=n.coords.start.client[a],t.delta[a]=0}}}Object.defineProperty(f,"__esModule",{value:!0}),f.default=void 0;var d={id:"actions/drag",install:function(e){var t=e.actions,n=e.Interactable,r=e.defaults;n.prototype.draggable=d.draggable,t.map.drag=d,t.methodDict.drag="draggable",r.actions.drag=d.defaults},listeners:{"interactions:before-action-move":p,"interactions:action-resume":p,"interactions:action-move":_,"auto-start:check":function(e){var t=e.interaction,n=e.interactable,r=e.buttons,a=n.options.drag;if(a&&a.enabled&&(!t.pointerIsDown||!/mouse|pointer/.test(t.pointerType)||0!=(r&n.options.drag.mouseButtons)))return e.action={name:"drag",axis:"start"===a.lockAxis?a.startAxis:a.lockAxis},!1}},draggable:function(e){return o.default.object(e)?(this.options.drag.enabled=!1!==e.enabled,this.setPerAction("drag",e),this.setOnEvents("drag",e),/^(xy|x|y|start)$/.test(e.lockAxis)&&(this.options.drag.lockAxis=e.lockAxis),/^(xy|x|y)$/.test(e.startAxis)&&(this.options.drag.startAxis=e.startAxis),this):o.default.bool(e)?(this.options.drag.enabled=e,this):this.options.drag},beforeMove:p,move:_,defaults:{startAxis:"xy",lockAxis:"xy"},getCursor:function(){return"move"}},h=d;f.default=h;var v={};Object.defineProperty(v,"__esModule",{value:!0}),v.default=void 0;var m={init:function(e){var t=e;m.document=t.document,m.DocumentFragment=t.DocumentFragment||b,m.SVGElement=t.SVGElement||b,m.SVGSVGElement=t.SVGSVGElement||b,m.SVGElementInstance=t.SVGElementInstance||b,m.Element=t.Element||b,m.HTMLElement=t.HTMLElement||m.Element,m.Event=t.Event,m.Touch=t.Touch||b,m.PointerEvent=t.PointerEvent||t.MSPointerEvent},document:null,DocumentFragment:null,SVGElement:null,SVGSVGElement:null,SVGElementInstance:null,Element:null,HTMLElement:null,Event:null,Touch:null,PointerEvent:null};function b(){}var g=m;v.default=g;var y={};Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var w={init:function(e){var n=v.default.Element,r=t.default.window.navigator;w.supportsTouch="ontouchstart"in e||o.default.func(e.DocumentTouch)&&v.default.document instanceof e.DocumentTouch,w.supportsPointerEvent=!1!==r.pointerEnabled&&!!v.default.PointerEvent,w.isIOS=/iP(hone|od|ad)/.test(r.platform),w.isIOS7=/iP(hone|od|ad)/.test(r.platform)&&/OS 7[^\d]/.test(r.appVersion),w.isIe9=/MSIE 9/.test(r.userAgent),w.isOperaMobile="Opera"===r.appName&&w.supportsTouch&&/Presto/.test(r.userAgent),w.prefixedMatchesSelector="matches"in n.prototype?"matches":"webkitMatchesSelector"in n.prototype?"webkitMatchesSelector":"mozMatchesSelector"in n.prototype?"mozMatchesSelector":"oMatchesSelector"in n.prototype?"oMatchesSelector":"msMatchesSelector",w.pEventTypes=w.supportsPointerEvent?v.default.PointerEvent===e.MSPointerEvent?{up:"MSPointerUp",down:"MSPointerDown",over:"mouseover",out:"mouseout",move:"MSPointerMove",cancel:"MSPointerCancel"}:{up:"pointerup",down:"pointerdown",over:"pointerover",out:"pointerout",move:"pointermove",cancel:"pointercancel"}:null,w.wheelEvent="onmousewheel"in v.default.document?"mousewheel":"wheel"},supportsTouch:null,supportsPointerEvent:null,isIOS7:null,isIOS:null,isIe9:null,isOperaMobile:null,prefixedMatchesSelector:null,pEventTypes:null,wheelEvent:null},S=w;y.default=S;var x={};function M(e){var t=e.parentNode;if(o.default.docFrag(t)){for(;(t=t.host)&&o.default.docFrag(t););return t}return t}function E(e,n){return t.default.window!==t.default.realWindow&&(n=n.replace(/\/deep\//g," ")),e[y.default.prefixedMatchesSelector](n)}Object.defineProperty(x,"__esModule",{value:!0}),x.nodeContains=function(e,t){for(;t;){if(t===e)return!0;t=t.parentNode}return!1},x.closest=function(e,t){for(;o.default.element(e);){if(E(e,t))return e;e=M(e)}return null},x.parentNode=M,x.matchesSelector=E,x.indexOfDeepestElement=function(e){for(var n,r=[],a=0;a<e.length;a++){var i=e[a],o=e[n];if(i&&a!==n)if(o){var s=A(i),l=A(o);if(s!==i.ownerDocument)if(l!==i.ownerDocument)if(s!==l){r=r.length?r:R(o);var c=void 0;if(o instanceof v.default.HTMLElement&&i instanceof v.default.SVGElement&&!(i instanceof v.default.SVGSVGElement)){if(i===l)continue;c=i.ownerSVGElement}else c=i;for(var u=R(c,o.ownerDocument),f=0;u[f]&&u[f]===r[f];)f++;for(var p=[u[f-1],u[f],r[f]],_=p[0].lastChild;_;){if(_===p[1]){n=a,r=u;break}if(_===p[2])break;_=_.previousSibling}}else d=i,h=o,m=void 0,b=void 0,m=parseInt((0,t.getWindow)(d).getComputedStyle(d).zIndex,10)||0,b=parseInt((0,t.getWindow)(h).getComputedStyle(h).zIndex,10)||0,m>=b&&(n=a);else n=a}else n=a}var d,h,m,b;return n},x.matchesUpTo=function(e,t,n){for(;o.default.element(e);){if(E(e,t))return!0;if((e=M(e))===n)return E(e,t)}return!1},x.getActualElement=function(e){return e instanceof v.default.SVGElementInstance?e.correspondingUseElement:e},x.getScrollXY=k,x.getElementClientRect=T,x.getElementRect=function(e){var n=T(e);if(!y.default.isIOS7&&n){var r=k(t.default.getWindow(e));n.left+=r.x,n.right+=r.x,n.top+=r.y,n.bottom+=r.y}return n},x.getPath=function(e){for(var t=[];e;)t.push(e),e=M(e);return t},x.trySelector=function(e){return!!o.default.string(e)&&(v.default.document.querySelector(e),!0)};var A=function(e){return e.parentNode||e.host};function R(e,t){for(var n,r=[],a=e;(n=A(a))&&a!==t&&n!==a.ownerDocument;)r.unshift(a),a=n;return r}function k(e){return{x:(e=e||t.default.window).scrollX||e.document.documentElement.scrollLeft,y:e.scrollY||e.document.documentElement.scrollTop}}function T(e){var t=e instanceof v.default.SVGElement?e.getBoundingClientRect():e.getClientRects()[0];return t&&{left:t.left,right:t.right,top:t.top,bottom:t.bottom,width:t.width||t.right-t.left,height:t.height||t.bottom-t.top}}var P={};Object.defineProperty(P,"__esModule",{value:!0}),P.default=function(e,t){for(var n in t)e[n]=t[n];return e};var B={};function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function I(e,t,n){return"parent"===e?(0,x.parentNode)(n):"self"===e?t.getRect(n):(0,x.closest)(n,e)}Object.defineProperty(B,"__esModule",{value:!0}),B.getStringOptionResult=I,B.resolveRectLike=function(e,t,n,r){var a,i=e;return o.default.string(i)?i=I(i,t,n):o.default.func(i)&&(i=i.apply(void 0,function(e){if(Array.isArray(e))return O(e)}(a=r)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(a)||function(e,t){if(e){if("string"==typeof e)return O(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?O(e,t):void 0}}(a)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())),o.default.element(i)&&(i=(0,x.getElementRect)(i)),i},B.rectToXY=function(e){return e&&{x:"x"in e?e.x:e.left,y:"y"in e?e.y:e.top}},B.xywhToTlbr=function(e){return!e||"left"in e&&"top"in e||((e=(0,P.default)({},e)).left=e.x||0,e.top=e.y||0,e.right=e.right||e.left+e.width,e.bottom=e.bottom||e.top+e.height),e},B.tlbrToXywh=function(e){return!e||"x"in e&&"y"in e||((e=(0,P.default)({},e)).x=e.left||0,e.y=e.top||0,e.width=e.width||(e.right||0)-e.x,e.height=e.height||(e.bottom||0)-e.y),e},B.addEdges=function(e,t,n){e.left&&(t.left+=n.x),e.right&&(t.right+=n.x),e.top&&(t.top+=n.y),e.bottom&&(t.bottom+=n.y),t.width=t.right-t.left,t.height=t.bottom-t.top};var j={};Object.defineProperty(j,"__esModule",{value:!0}),j.default=function(e,t,n){var r=e.options[n],a=r&&r.origin||e.options.origin,i=(0,B.resolveRectLike)(a,e,t,[e&&t]);return(0,B.rectToXY)(i)||{x:0,y:0}};var D={};function L(e){return e.trim().split(/ +/)}Object.defineProperty(D,"__esModule",{value:!0}),D.default=function e(t,n,r){if(r=r||{},o.default.string(t)&&-1!==t.search(" ")&&(t=L(t)),o.default.array(t))return t.reduce((function(t,a){return(0,P.default)(t,e(a,n,r))}),r);if(o.default.object(t)&&(n=t,t=""),o.default.func(n))r[t]=r[t]||[],r[t].push(n);else if(o.default.array(n))for(var a=0;a<n.length;a++){var i;i=n[a],e(t,i,r)}else if(o.default.object(n))for(var s in n){var l=L(s).map((function(e){return"".concat(t).concat(e)}));e(l,n[s],r)}return r};var C={};Object.defineProperty(C,"__esModule",{value:!0}),C.default=void 0,C.default=function(e,t){return Math.sqrt(e*e+t*t)};var V={};function N(e,t){for(var n in t){var r=N.prefixedPropREs,a=!1;for(var i in r)if(0===n.indexOf(i)&&r[i].test(n)){a=!0;break}a||"function"==typeof t[n]||(e[n]=t[n])}return e}Object.defineProperty(V,"__esModule",{value:!0}),V.default=void 0,N.prefixedPropREs={webkit:/(Movement[XY]|Radius[XY]|RotationAngle|Force)$/,moz:/(Pressure)$/};var H=N;V.default=H;var X={};function F(e){return e instanceof v.default.Event||e instanceof v.default.Touch}function z(e,t,n){return e=e||"page",(n=n||{}).x=t[e+"X"],n.y=t[e+"Y"],n}function q(e,t){return t=t||{x:0,y:0},y.default.isOperaMobile&&F(e)?(z("screen",e,t),t.x+=window.scrollX,t.y+=window.scrollY):z("page",e,t),t}function Y(e,t){return t=t||{},y.default.isOperaMobile&&F(e)?z("screen",e,t):z("client",e,t),t}function U(e){var t=[];return o.default.array(e)?(t[0]=e[0],t[1]=e[1]):"touchend"===e.type?1===e.touches.length?(t[0]=e.touches[0],t[1]=e.changedTouches[0]):0===e.touches.length&&(t[0]=e.changedTouches[0],t[1]=e.changedTouches[1]):(t[0]=e.touches[0],t[1]=e.touches[1]),t}function G(e){for(var t={pageX:0,pageY:0,clientX:0,clientY:0,screenX:0,screenY:0},n=0;n<e.length;n++){var r=e[n];for(var a in t)t[a]+=r[a]}for(var i in t)t[i]/=e.length;return t}Object.defineProperty(X,"__esModule",{value:!0}),X.copyCoords=function(e,t){e.page=e.page||{},e.page.x=t.page.x,e.page.y=t.page.y,e.client=e.client||{},e.client.x=t.client.x,e.client.y=t.client.y,e.timeStamp=t.timeStamp},X.setCoordDeltas=function(e,t,n){e.page.x=n.page.x-t.page.x,e.page.y=n.page.y-t.page.y,e.client.x=n.client.x-t.client.x,e.client.y=n.client.y-t.client.y,e.timeStamp=n.timeStamp-t.timeStamp},X.setCoordVelocity=function(e,t){var n=Math.max(t.timeStamp/1e3,.001);e.page.x=t.page.x/n,e.page.y=t.page.y/n,e.client.x=t.client.x/n,e.client.y=t.client.y/n,e.timeStamp=n},X.setZeroCoords=function(e){e.page.x=0,e.page.y=0,e.client.x=0,e.client.y=0},X.isNativePointer=F,X.getXY=z,X.getPageXY=q,X.getClientXY=Y,X.getPointerId=function(e){return o.default.number(e.pointerId)?e.pointerId:e.identifier},X.setCoords=function(e,t,n){var r=t.length>1?G(t):t[0],a={};q(r,a),e.page.x=a.x,e.page.y=a.y,Y(r,a),e.client.x=a.x,e.client.y=a.y,e.timeStamp=n},X.getTouchPair=U,X.pointerAverage=G,X.touchBBox=function(e){if(!(e.length||e.touches&&e.touches.length>1))return null;var t=U(e),n=Math.min(t[0].pageX,t[1].pageX),r=Math.min(t[0].pageY,t[1].pageY),a=Math.max(t[0].pageX,t[1].pageX),i=Math.max(t[0].pageY,t[1].pageY);return{x:n,y:r,left:n,top:r,right:a,bottom:i,width:a-n,height:i-r}},X.touchDistance=function(e,t){var n=t+"X",r=t+"Y",a=U(e),i=a[0][n]-a[1][n],o=a[0][r]-a[1][r];return(0,C.default)(i,o)},X.touchAngle=function(e,t){var n=t+"X",r=t+"Y",a=U(e),i=a[1][n]-a[0][n],o=a[1][r]-a[0][r];return 180*Math.atan2(o,i)/Math.PI},X.getPointerType=function(e){return o.default.string(e.pointerType)?e.pointerType:o.default.number(e.pointerType)?[void 0,void 0,"touch","pen","mouse"][e.pointerType]:/touch/.test(e.type)||e instanceof v.default.Touch?"touch":"mouse"},X.getEventTargets=function(e){var t=o.default.func(e.composedPath)?e.composedPath():e.path;return[x.getActualElement(t?t[0]:e.target),x.getActualElement(e.currentTarget)]},X.newCoords=function(){return{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0}},X.coordsToEvent=function(e){return{coords:e,get page(){return this.coords.page},get client(){return this.coords.client},get timeStamp(){return this.coords.timeStamp},get pageX(){return this.coords.page.x},get pageY(){return this.coords.page.y},get clientX(){return this.coords.client.x},get clientY(){return this.coords.client.y},get pointerId(){return this.coords.pointerId},get target(){return this.coords.target},get type(){return this.coords.type},get pointerType(){return this.coords.pointerType},get buttons(){return this.coords.buttons},preventDefault:function(){}}},Object.defineProperty(X,"pointerExtend",{enumerable:!0,get:function(){return V.default}});var K={};function W(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(K,"__esModule",{value:!0}),K.default=K.BaseEvent=void 0;var Z=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.type=void 0,this.target=void 0,this.currentTarget=void 0,this.interactable=void 0,this._interaction=void 0,this.timeStamp=void 0,this.immediatePropagationStopped=!1,this.propagationStopped=!1,this._interaction=t}var t,n,r;return t=e,(n=[{key:"preventDefault",value:function(){}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}},{key:"stopImmediatePropagation",value:function(){this.immediatePropagationStopped=this.propagationStopped=!0}}])&&W(t.prototype,n),r&&W(t,r),e}();K.BaseEvent=Z,Object.defineProperty(Z.prototype,"interaction",{get:function(){return this._interaction._proxy},set:function(){}});var Q=Z;K.default=Q;var $={};Object.defineProperty($,"__esModule",{value:!0}),$.find=$.findIndex=$.from=$.merge=$.remove=$.contains=void 0,$.contains=function(e,t){return-1!==e.indexOf(t)},$.remove=function(e,t){return e.splice(e.indexOf(t),1)};var J=function(e,t){for(var n=0;n<t.length;n++){var r=t[n];e.push(r)}return e};$.merge=J,$.from=function(e){return J([],e)};var ee=function(e,t){for(var n=0;n<e.length;n++)if(t(e[n],n,e))return n;return-1};$.findIndex=ee,$.find=function(e,t){return e[ee(e,t)]};var te={};function ne(e){return(ne="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function re(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ae(e,t){return(ae=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ie(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=se(e);if(t){var a=se(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return oe(this,n)}}function oe(e,t){return!t||"object"!==ne(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function se(e){return(se=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}Object.defineProperty(te,"__esModule",{value:!0}),te.DropEvent=void 0;var le=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ae(e,t)}(i,e);var t,n,r,a=ie(i);function i(e,t,n){var r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(r=a.call(this,t._interaction)).target=void 0,r.dropzone=void 0,r.dragEvent=void 0,r.relatedTarget=void 0,r.draggable=void 0,r.timeStamp=void 0,r.propagationStopped=!1,r.immediatePropagationStopped=!1;var o="dragleave"===n?e.prev:e.cur,s=o.element,l=o.dropzone;return r.type=n,r.target=s,r.currentTarget=s,r.dropzone=l,r.dragEvent=t,r.relatedTarget=t.target,r.draggable=t.interactable,r.timeStamp=t.timeStamp,r}return t=i,(n=[{key:"reject",value:function(){var e=this,t=this._interaction.dropState;if("dropactivate"===this.type||this.dropzone&&t.cur.dropzone===this.dropzone&&t.cur.element===this.target)if(t.prev.dropzone=this.dropzone,t.prev.element=this.target,t.rejected=!0,t.events.enter=null,this.stopImmediatePropagation(),"dropactivate"===this.type){var n=t.activeDrops,r=$.findIndex(n,(function(t){var n=t.dropzone,r=t.element;return n===e.dropzone&&r===e.target}));t.activeDrops.splice(r,1);var a=new i(t,this.dragEvent,"dropdeactivate");a.dropzone=this.dropzone,a.target=this.target,this.dropzone.fire(a)}else this.dropzone.fire(new i(t,this.dragEvent,"dragleave"))}},{key:"preventDefault",value:function(){}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}},{key:"stopImmediatePropagation",value:function(){this.immediatePropagationStopped=this.propagationStopped=!0}}])&&re(t.prototype,n),r&&re(t,r),i}(K.BaseEvent);te.DropEvent=le;var ce={};function ue(e,t){for(var n=0;n<e.slice().length;n++){var r=e.slice()[n],a=r.dropzone,i=r.element;t.dropzone=a,t.target=i,a.fire(t),t.propagationStopped=t.immediatePropagationStopped=!1}}function fe(e,t){for(var n=function(e,t){for(var n=e.interactables,r=[],a=0;a<n.list.length;a++){var i=n.list[a];if(i.options.drop.enabled){var s=i.options.drop.accept;if(!(o.default.element(s)&&s!==t||o.default.string(s)&&!x.matchesSelector(t,s)||o.default.func(s)&&!s({dropzone:i,draggableElement:t})))for(var l=o.default.string(i.target)?i._context.querySelectorAll(i.target):o.default.array(i.target)?i.target:[i.target],c=0;c<l.length;c++){var u=l[c];u!==t&&r.push({dropzone:i,element:u})}}}return r}(e,t),r=0;r<n.length;r++){var a=n[r];a.rect=a.dropzone.getRect(a.element)}return n}function pe(e,t,n){for(var r=e.dropState,a=e.interactable,i=e.element,o=[],s=0;s<r.activeDrops.length;s++){var l=r.activeDrops[s],c=l.dropzone,u=l.element,f=l.rect;o.push(c.dropCheck(t,n,a,i,u,f)?u:null)}var p=x.indexOfDeepestElement(o);return r.activeDrops[p]||null}function _e(e,t,n){var r=e.dropState,a={enter:null,leave:null,activate:null,deactivate:null,move:null,drop:null};return"dragstart"===n.type&&(a.activate=new te.DropEvent(r,n,"dropactivate"),a.activate.target=null,a.activate.dropzone=null),"dragend"===n.type&&(a.deactivate=new te.DropEvent(r,n,"dropdeactivate"),a.deactivate.target=null,a.deactivate.dropzone=null),r.rejected||(r.cur.element!==r.prev.element&&(r.prev.dropzone&&(a.leave=new te.DropEvent(r,n,"dragleave"),n.dragLeave=a.leave.target=r.prev.element,n.prevDropzone=a.leave.dropzone=r.prev.dropzone),r.cur.dropzone&&(a.enter=new te.DropEvent(r,n,"dragenter"),n.dragEnter=r.cur.element,n.dropzone=r.cur.dropzone)),"dragend"===n.type&&r.cur.dropzone&&(a.drop=new te.DropEvent(r,n,"drop"),n.dropzone=r.cur.dropzone,n.relatedTarget=r.cur.element),"dragmove"===n.type&&r.cur.dropzone&&(a.move=new te.DropEvent(r,n,"dropmove"),a.move.dragmove=n,n.dropzone=r.cur.dropzone)),a}function de(e,t){var n=e.dropState,r=n.activeDrops,a=n.cur,i=n.prev;t.leave&&i.dropzone.fire(t.leave),t.move&&a.dropzone.fire(t.move),t.enter&&a.dropzone.fire(t.enter),t.drop&&a.dropzone.fire(t.drop),t.deactivate&&ue(r,t.deactivate),n.prev.dropzone=a.dropzone,n.prev.element=a.element}function he(e,t){var n=e.interaction,r=e.iEvent,a=e.event;if("dragmove"===r.type||"dragend"===r.type){var i=n.dropState;t.dynamicDrop&&(i.activeDrops=fe(t,n.element));var o=r,s=pe(n,o,a);i.rejected=i.rejected&&!!s&&s.dropzone===i.cur.dropzone&&s.element===i.cur.element,i.cur.dropzone=s&&s.dropzone,i.cur.element=s&&s.element,i.events=_e(n,0,o)}}Object.defineProperty(ce,"__esModule",{value:!0}),ce.default=void 0;var ve={id:"actions/drop",install:function(e){var t=e.actions,n=e.interactStatic,r=e.Interactable,a=e.defaults;e.usePlugin(f.default),r.prototype.dropzone=function(e){return function(e,t){if(o.default.object(t)){if(e.options.drop.enabled=!1!==t.enabled,t.listeners){var n=(0,D.default)(t.listeners),r=Object.keys(n).reduce((function(e,t){return e[/^(enter|leave)/.test(t)?"drag".concat(t):/^(activate|deactivate|move)/.test(t)?"drop".concat(t):t]=n[t],e}),{});e.off(e.options.drop.listeners),e.on(r),e.options.drop.listeners=r}return o.default.func(t.ondrop)&&e.on("drop",t.ondrop),o.default.func(t.ondropactivate)&&e.on("dropactivate",t.ondropactivate),o.default.func(t.ondropdeactivate)&&e.on("dropdeactivate",t.ondropdeactivate),o.default.func(t.ondragenter)&&e.on("dragenter",t.ondragenter),o.default.func(t.ondragleave)&&e.on("dragleave",t.ondragleave),o.default.func(t.ondropmove)&&e.on("dropmove",t.ondropmove),/^(pointer|center)$/.test(t.overlap)?e.options.drop.overlap=t.overlap:o.default.number(t.overlap)&&(e.options.drop.overlap=Math.max(Math.min(1,t.overlap),0)),"accept"in t&&(e.options.drop.accept=t.accept),"checker"in t&&(e.options.drop.checker=t.checker),e}return o.default.bool(t)?(e.options.drop.enabled=t,e):e.options.drop}(this,e)},r.prototype.dropCheck=function(e,t,n,r,a,i){return function(e,t,n,r,a,i,s){var l=!1;if(!(s=s||e.getRect(i)))return!!e.options.drop.checker&&e.options.drop.checker(t,n,l,e,i,r,a);var c=e.options.drop.overlap;if("pointer"===c){var u=(0,j.default)(r,a,"drag"),f=X.getPageXY(t);f.x+=u.x,f.y+=u.y;var p=f.x>s.left&&f.x<s.right,_=f.y>s.top&&f.y<s.bottom;l=p&&_}var d=r.getRect(a);if(d&&"center"===c){var h=d.left+d.width/2,v=d.top+d.height/2;l=h>=s.left&&h<=s.right&&v>=s.top&&v<=s.bottom}if(d&&o.default.number(c)){var m=Math.max(0,Math.min(s.right,d.right)-Math.max(s.left,d.left))*Math.max(0,Math.min(s.bottom,d.bottom)-Math.max(s.top,d.top))/(d.width*d.height);l=m>=c}return e.options.drop.checker&&(l=e.options.drop.checker(t,n,l,e,i,r,a)),l}(this,e,t,n,r,a,i)},n.dynamicDrop=function(t){return o.default.bool(t)?(e.dynamicDrop=t,n):e.dynamicDrop},(0,P.default)(t.phaselessTypes,{dragenter:!0,dragleave:!0,dropactivate:!0,dropdeactivate:!0,dropmove:!0,drop:!0}),t.methodDict.drop="dropzone",e.dynamicDrop=!1,a.actions.drop=ve.defaults},listeners:{"interactions:before-action-start":function(e){var t=e.interaction;"drag"===t.prepared.name&&(t.dropState={cur:{dropzone:null,element:null},prev:{dropzone:null,element:null},rejected:null,events:null,activeDrops:[]})},"interactions:after-action-start":function(e,t){var n=e.interaction,r=(e.event,e.iEvent);if("drag"===n.prepared.name){var a=n.dropState;a.activeDrops=null,a.events=null,a.activeDrops=fe(t,n.element),a.events=_e(n,0,r),a.events.activate&&(ue(a.activeDrops,a.events.activate),t.fire("actions/drop:start",{interaction:n,dragEvent:r}))}},"interactions:action-move":he,"interactions:action-end":he,"interactions:after-action-move":function(e,t){var n=e.interaction,r=e.iEvent;"drag"===n.prepared.name&&(de(n,n.dropState.events),t.fire("actions/drop:move",{interaction:n,dragEvent:r}),n.dropState.events={})},"interactions:after-action-end":function(e,t){var n=e.interaction,r=e.iEvent;"drag"===n.prepared.name&&(de(n,n.dropState.events),t.fire("actions/drop:end",{interaction:n,dragEvent:r}))},"interactions:stop":function(e){var t=e.interaction;if("drag"===t.prepared.name){var n=t.dropState;n&&(n.activeDrops=null,n.events=null,n.cur.dropzone=null,n.cur.element=null,n.prev.dropzone=null,n.prev.element=null,n.rejected=!1)}}},getActiveDrops:fe,getDrop:pe,getDropEvents:_e,fireDropEvents:de,defaults:{enabled:!1,accept:null,overlap:"pointer"}},me=ve;ce.default=me;var be={};function ge(e){var t=e.interaction,n=e.iEvent,r=e.phase;if("gesture"===t.prepared.name){var a=t.pointers.map((function(e){return e.pointer})),i="start"===r,s="end"===r,l=t.interactable.options.deltaSource;if(n.touches=[a[0],a[1]],i)n.distance=X.touchDistance(a,l),n.box=X.touchBBox(a),n.scale=1,n.ds=0,n.angle=X.touchAngle(a,l),n.da=0,t.gesture.startDistance=n.distance,t.gesture.startAngle=n.angle;else if(s){var c=t.prevEvent;n.distance=c.distance,n.box=c.box,n.scale=c.scale,n.ds=0,n.angle=c.angle,n.da=0}else n.distance=X.touchDistance(a,l),n.box=X.touchBBox(a),n.scale=n.distance/t.gesture.startDistance,n.angle=X.touchAngle(a,l),n.ds=n.scale-t.gesture.scale,n.da=n.angle-t.gesture.angle;t.gesture.distance=n.distance,t.gesture.angle=n.angle,o.default.number(n.scale)&&n.scale!==1/0&&!isNaN(n.scale)&&(t.gesture.scale=n.scale)}}Object.defineProperty(be,"__esModule",{value:!0}),be.default=void 0;var ye={id:"actions/gesture",before:["actions/drag","actions/resize"],install:function(e){var t=e.actions,n=e.Interactable,r=e.defaults;n.prototype.gesturable=function(e){return o.default.object(e)?(this.options.gesture.enabled=!1!==e.enabled,this.setPerAction("gesture",e),this.setOnEvents("gesture",e),this):o.default.bool(e)?(this.options.gesture.enabled=e,this):this.options.gesture},t.map.gesture=ye,t.methodDict.gesture="gesturable",r.actions.gesture=ye.defaults},listeners:{"interactions:action-start":ge,"interactions:action-move":ge,"interactions:action-end":ge,"interactions:new":function(e){e.interaction.gesture={angle:0,distance:0,scale:1,startAngle:0,startDistance:0}},"auto-start:check":function(e){if(!(e.interaction.pointers.length<2)){var t=e.interactable.options.gesture;if(t&&t.enabled)return e.action={name:"gesture"},!1}}},defaults:{},getCursor:function(){return""}},we=ye;be.default=we;var Se={};function xe(e,t,n,r,a,i,s){if(!t)return!1;if(!0===t){var l=o.default.number(i.width)?i.width:i.right-i.left,c=o.default.number(i.height)?i.height:i.bottom-i.top;if(s=Math.min(s,Math.abs(("left"===e||"right"===e?l:c)/2)),l<0&&("left"===e?e="right":"right"===e&&(e="left")),c<0&&("top"===e?e="bottom":"bottom"===e&&(e="top")),"left"===e)return n.x<(l>=0?i.left:i.right)+s;if("top"===e)return n.y<(c>=0?i.top:i.bottom)+s;if("right"===e)return n.x>(l>=0?i.right:i.left)-s;if("bottom"===e)return n.y>(c>=0?i.bottom:i.top)-s}return!!o.default.element(r)&&(o.default.element(t)?t===r:x.matchesUpTo(r,t,a))}function Me(e){var t=e.iEvent,n=e.interaction;if("resize"===n.prepared.name&&n.resizeAxes){var r=t;n.interactable.options.resize.square?("y"===n.resizeAxes?r.delta.x=r.delta.y:r.delta.y=r.delta.x,r.axes="xy"):(r.axes=n.resizeAxes,"x"===n.resizeAxes?r.delta.y=0:"y"===n.resizeAxes&&(r.delta.x=0))}}Object.defineProperty(Se,"__esModule",{value:!0}),Se.default=void 0;var Ee={id:"actions/resize",before:["actions/drag"],install:function(e){var t=e.actions,n=e.browser,r=e.Interactable,a=e.defaults;Ee.cursors=function(e){return e.isIe9?{x:"e-resize",y:"s-resize",xy:"se-resize",top:"n-resize",left:"w-resize",bottom:"s-resize",right:"e-resize",topleft:"se-resize",bottomright:"se-resize",topright:"ne-resize",bottomleft:"ne-resize"}:{x:"ew-resize",y:"ns-resize",xy:"nwse-resize",top:"ns-resize",left:"ew-resize",bottom:"ns-resize",right:"ew-resize",topleft:"nwse-resize",bottomright:"nwse-resize",topright:"nesw-resize",bottomleft:"nesw-resize"}}(n),Ee.defaultMargin=n.supportsTouch||n.supportsPointerEvent?20:10,r.prototype.resizable=function(t){return function(e,t,n){return o.default.object(t)?(e.options.resize.enabled=!1!==t.enabled,e.setPerAction("resize",t),e.setOnEvents("resize",t),o.default.string(t.axis)&&/^x$|^y$|^xy$/.test(t.axis)?e.options.resize.axis=t.axis:null===t.axis&&(e.options.resize.axis=n.defaults.actions.resize.axis),o.default.bool(t.preserveAspectRatio)?e.options.resize.preserveAspectRatio=t.preserveAspectRatio:o.default.bool(t.square)&&(e.options.resize.square=t.square),e):o.default.bool(t)?(e.options.resize.enabled=t,e):e.options.resize}(this,t,e)},t.map.resize=Ee,t.methodDict.resize="resizable",a.actions.resize=Ee.defaults},listeners:{"interactions:new":function(e){e.interaction.resizeAxes="xy"},"interactions:action-start":function(e){!function(e){var t=e.iEvent,n=e.interaction;if("resize"===n.prepared.name&&n.prepared.edges){var r=t,a=n.rect;n._rects={start:(0,P.default)({},a),corrected:(0,P.default)({},a),previous:(0,P.default)({},a),delta:{left:0,right:0,width:0,top:0,bottom:0,height:0}},r.edges=n.prepared.edges,r.rect=n._rects.corrected,r.deltaRect=n._rects.delta}}(e),Me(e)},"interactions:action-move":function(e){!function(e){var t=e.iEvent,n=e.interaction;if("resize"===n.prepared.name&&n.prepared.edges){var r=t,a=n.interactable.options.resize.invert,i="reposition"===a||"negate"===a,o=n.rect,s=n._rects,l=s.start,c=s.corrected,u=s.delta,f=s.previous;if((0,P.default)(f,c),i){if((0,P.default)(c,o),"reposition"===a){if(c.top>c.bottom){var p=c.top;c.top=c.bottom,c.bottom=p}if(c.left>c.right){var _=c.left;c.left=c.right,c.right=_}}}else c.top=Math.min(o.top,l.bottom),c.bottom=Math.max(o.bottom,l.top),c.left=Math.min(o.left,l.right),c.right=Math.max(o.right,l.left);for(var d in c.width=c.right-c.left,c.height=c.bottom-c.top,c)u[d]=c[d]-f[d];r.edges=n.prepared.edges,r.rect=c,r.deltaRect=u}}(e),Me(e)},"interactions:action-end":function(e){var t=e.iEvent,n=e.interaction;if("resize"===n.prepared.name&&n.prepared.edges){var r=t;r.edges=n.prepared.edges,r.rect=n._rects.corrected,r.deltaRect=n._rects.delta}},"auto-start:check":function(e){var t=e.interaction,n=e.interactable,r=e.element,a=e.rect,i=e.buttons;if(a){var s=(0,P.default)({},t.coords.cur.page),l=n.options.resize;if(l&&l.enabled&&(!t.pointerIsDown||!/mouse|pointer/.test(t.pointerType)||0!=(i&l.mouseButtons))){if(o.default.object(l.edges)){var c={left:!1,right:!1,top:!1,bottom:!1};for(var u in c)c[u]=xe(u,l.edges[u],s,t._latestPointer.eventTarget,r,a,l.margin||Ee.defaultMargin);c.left=c.left&&!c.right,c.top=c.top&&!c.bottom,(c.left||c.right||c.top||c.bottom)&&(e.action={name:"resize",edges:c})}else{var f="y"!==l.axis&&s.x>a.right-Ee.defaultMargin,p="x"!==l.axis&&s.y>a.bottom-Ee.defaultMargin;(f||p)&&(e.action={name:"resize",axes:(f?"x":"")+(p?"y":"")})}return!e.action&&void 0}}}},defaults:{square:!1,preserveAspectRatio:!1,axis:"xy",margin:NaN,edges:null,invert:"none"},cursors:null,getCursor:function(e){var t=e.edges,n=e.axis,r=e.name,a=Ee.cursors,i=null;if(n)i=a[r+n];else if(t){for(var o="",s=["top","bottom","left","right"],l=0;l<s.length;l++){var c=s[l];t[c]&&(o+=c)}i=a[o]}return i},defaultMargin:null},Ae=Ee;Se.default=Ae;var Re={};Object.defineProperty(Re,"__esModule",{value:!0}),Re.default=void 0;var ke={id:"actions",install:function(e){e.usePlugin(be.default),e.usePlugin(Se.default),e.usePlugin(f.default),e.usePlugin(ce.default)}};Re.default=ke;var Te={};Object.defineProperty(Te,"__esModule",{value:!0}),Te.default=void 0,Te.default={};var Pe={};Object.defineProperty(Pe,"__esModule",{value:!0}),Pe.default=void 0;var Be,Oe,Ie=0,je={request:function(e){return Be(e)},cancel:function(e){return Oe(e)},init:function(e){if(Be=e.requestAnimationFrame,Oe=e.cancelAnimationFrame,!Be)for(var t=["ms","moz","webkit","o"],n=0;n<t.length;n++){var r=t[n];Be=e["".concat(r,"RequestAnimationFrame")],Oe=e["".concat(r,"CancelAnimationFrame")]||e["".concat(r,"CancelRequestAnimationFrame")]}Be||(Be=function(e){var t=Date.now(),n=Math.max(0,16-(t-Ie)),r=setTimeout((function(){e(t+n)}),n);return Ie=t+n,r},Oe=function(e){return clearTimeout(e)})}};Pe.default=je;var De={};Object.defineProperty(De,"__esModule",{value:!0}),De.getContainer=Ce,De.getScroll=Ve,De.getScrollSize=function(e){return o.default.window(e)&&(e=window.document.body),{x:e.scrollWidth,y:e.scrollHeight}},De.getScrollSizeDelta=function(e,t){var n=e.interaction,r=e.element,a=n&&n.interactable.options[n.prepared.name].autoScroll;if(!a||!a.enabled)return t(),{x:0,y:0};var i=Ce(a.container,n.interactable,r),o=Ve(i);t();var s=Ve(i);return{x:s.x-o.x,y:s.y-o.y}},De.default=void 0;var Le={defaults:{enabled:!1,margin:60,container:null,speed:300},now:Date.now,interaction:null,i:0,x:0,y:0,isScrolling:!1,prevTime:0,margin:0,speed:0,start:function(e){Le.isScrolling=!0,Pe.default.cancel(Le.i),e.autoScroll=Le,Le.interaction=e,Le.prevTime=Le.now(),Le.i=Pe.default.request(Le.scroll)},stop:function(){Le.isScrolling=!1,Le.interaction&&(Le.interaction.autoScroll=null),Pe.default.cancel(Le.i)},scroll:function(){var e=Le.interaction,t=e.interactable,n=e.element,r=e.prepared.name,a=t.options[r].autoScroll,i=Ce(a.container,t,n),s=Le.now(),l=(s-Le.prevTime)/1e3,c=a.speed*l;if(c>=1){var u={x:Le.x*c,y:Le.y*c};if(u.x||u.y){var f=Ve(i);o.default.window(i)?i.scrollBy(u.x,u.y):i&&(i.scrollLeft+=u.x,i.scrollTop+=u.y);var p=Ve(i),_={x:p.x-f.x,y:p.y-f.y};(_.x||_.y)&&t.fire({type:"autoscroll",target:n,interactable:t,delta:_,interaction:e,container:i})}Le.prevTime=s}Le.isScrolling&&(Pe.default.cancel(Le.i),Le.i=Pe.default.request(Le.scroll))},check:function(e,t){var n=e.options;return n[t].autoScroll&&n[t].autoScroll.enabled},onInteractionMove:function(e){var t=e.interaction,n=e.pointer;if(t.interacting()&&Le.check(t.interactable,t.prepared.name))if(t.simulation)Le.x=Le.y=0;else{var r,a,i,s,l=t.interactable,c=t.element,u=t.prepared.name,f=l.options[u].autoScroll,p=Ce(f.container,l,c);if(o.default.window(p))s=n.clientX<Le.margin,r=n.clientY<Le.margin,a=n.clientX>p.innerWidth-Le.margin,i=n.clientY>p.innerHeight-Le.margin;else{var _=x.getElementClientRect(p);s=n.clientX<_.left+Le.margin,r=n.clientY<_.top+Le.margin,a=n.clientX>_.right-Le.margin,i=n.clientY>_.bottom-Le.margin}Le.x=a?1:s?-1:0,Le.y=i?1:r?-1:0,Le.isScrolling||(Le.margin=f.margin,Le.speed=f.speed,Le.start(t))}}};function Ce(e,n,r){return(o.default.string(e)?(0,B.getStringOptionResult)(e,n,r):e)||(0,t.getWindow)(r)}function Ve(e){return o.default.window(e)&&(e=window.document.body),{x:e.scrollLeft,y:e.scrollTop}}var Ne={id:"auto-scroll",install:function(e){var t=e.defaults,n=e.actions;e.autoScroll=Le,Le.now=function(){return e.now()},n.phaselessTypes.autoscroll=!0,t.perAction.autoScroll=Le.defaults},listeners:{"interactions:new":function(e){e.interaction.autoScroll=null},"interactions:destroy":function(e){e.interaction.autoScroll=null,Le.stop(),Le.interaction&&(Le.interaction=null)},"interactions:stop":Le.stop,"interactions:action-move":function(e){return Le.onInteractionMove(e)}}};De.default=Ne;var He={};Object.defineProperty(He,"__esModule",{value:!0}),He.warnOnce=function(e,n){var r=!1;return function(){return r||(t.default.window.console.warn(n),r=!0),e.apply(this,arguments)}},He.copyAction=function(e,t){return e.name=t.name,e.axis=t.axis,e.edges=t.edges,e};var Xe={};function Fe(e){return o.default.bool(e)?(this.options.styleCursor=e,this):null===e?(delete this.options.styleCursor,this):this.options.styleCursor}function ze(e){return o.default.func(e)?(this.options.actionChecker=e,this):null===e?(delete this.options.actionChecker,this):this.options.actionChecker}Object.defineProperty(Xe,"__esModule",{value:!0}),Xe.default=void 0;var qe={id:"auto-start/interactableMethods",install:function(e){var t=e.Interactable;t.prototype.getAction=function(t,n,r,a){var i=function(e,t,n,r,a){var i=e.getRect(r),o=t.buttons||{0:1,1:4,3:8,4:16}[t.button],s={action:null,interactable:e,interaction:n,element:r,rect:i,buttons:o};return a.fire("auto-start:check",s),s.action}(this,n,r,a,e);return this.options.actionChecker?this.options.actionChecker(t,n,i,this,a,r):i},t.prototype.ignoreFrom=(0,He.warnOnce)((function(e){return this._backCompatOption("ignoreFrom",e)}),"Interactable.ignoreFrom() has been deprecated. Use Interactble.draggable({ignoreFrom: newValue})."),t.prototype.allowFrom=(0,He.warnOnce)((function(e){return this._backCompatOption("allowFrom",e)}),"Interactable.allowFrom() has been deprecated. Use Interactble.draggable({allowFrom: newValue})."),t.prototype.actionChecker=ze,t.prototype.styleCursor=Fe}};Xe.default=qe;var Ye={};function Ue(e,t,n,r,a){return t.testIgnoreAllow(t.options[e.name],n,r)&&t.options[e.name].enabled&&Ze(t,n,e,a)?e:null}function Ge(e,t,n,r,a,i,o){for(var s=0,l=r.length;s<l;s++){var c=r[s],u=a[s],f=c.getAction(t,n,e,u);if(f){var p=Ue(f,c,u,i,o);if(p)return{action:p,interactable:c,element:u}}}return{action:null,interactable:null,element:null}}function Ke(e,t,n,r,a){var i=[],s=[],l=r;function c(e){i.push(e),s.push(l)}for(;o.default.element(l);){i=[],s=[],a.interactables.forEachMatch(l,c);var u=Ge(e,t,n,i,s,r,a);if(u.action&&!u.interactable.options[u.action.name].manualStart)return u;l=x.parentNode(l)}return{action:null,interactable:null,element:null}}function We(e,t,n){var r=t.action,a=t.interactable,i=t.element;r=r||{name:null},e.interactable=a,e.element=i,(0,He.copyAction)(e.prepared,r),e.rect=a&&r.name?a.getRect(i):null,Je(e,n),n.fire("autoStart:prepared",{interaction:e})}function Ze(e,t,n,r){var a=e.options,i=a[n.name].max,o=a[n.name].maxPerElement,s=r.autoStart.maxInteractions,l=0,c=0,u=0;if(!(i&&o&&s))return!1;for(var f=0;f<r.interactions.list.length;f++){var p=r.interactions.list[f],_=p.prepared.name;if(p.interacting()){if(++l>=s)return!1;if(p.interactable===e){if((c+=_===n.name?1:0)>=i)return!1;if(p.element===t&&(u++,_===n.name&&u>=o))return!1}}}return s>0}function Qe(e,t){return o.default.number(e)?(t.autoStart.maxInteractions=e,this):t.autoStart.maxInteractions}function $e(e,t,n){var r=n.autoStart.cursorElement;r&&r!==e&&(r.style.cursor=""),e.ownerDocument.documentElement.style.cursor=t,e.style.cursor=t,n.autoStart.cursorElement=t?e:null}function Je(e,t){var n=e.interactable,r=e.element,a=e.prepared;if("mouse"===e.pointerType&&n&&n.options.styleCursor){var i="";if(a.name){var s=n.options[a.name].cursorChecker;i=o.default.func(s)?s(a,n,r,e._interacting):t.actions.map[a.name].getCursor(a)}$e(e.element,i||"",t)}else t.autoStart.cursorElement&&$e(t.autoStart.cursorElement,"",t)}Object.defineProperty(Ye,"__esModule",{value:!0}),Ye.default=void 0;var et={id:"auto-start/base",before:["actions"],install:function(e){var t=e.interactStatic,n=e.defaults;e.usePlugin(Xe.default),n.base.actionChecker=null,n.base.styleCursor=!0,(0,P.default)(n.perAction,{manualStart:!1,max:1/0,maxPerElement:1,allowFrom:null,ignoreFrom:null,mouseButtons:1}),t.maxInteractions=function(t){return Qe(t,e)},e.autoStart={maxInteractions:1/0,withinInteractionLimit:Ze,cursorElement:null}},listeners:{"interactions:down":function(e,t){var n=e.interaction,r=e.pointer,a=e.event,i=e.eventTarget;n.interacting()||We(n,Ke(n,r,a,i,t),t)},"interactions:move":function(e,t){!function(e,t){var n=e.interaction,r=e.pointer,a=e.event,i=e.eventTarget;"mouse"!==n.pointerType||n.pointerIsDown||n.interacting()||We(n,Ke(n,r,a,i,t),t)}(e,t),function(e,t){var n=e.interaction;if(n.pointerIsDown&&!n.interacting()&&n.pointerWasMoved&&n.prepared.name){t.fire("autoStart:before-start",e);var r=n.interactable,a=n.prepared.name;a&&r&&(r.options[a].manualStart||!Ze(r,n.element,n.prepared,t)?n.stop():(n.start(n.prepared,r,n.element),Je(n,t)))}}(e,t)},"interactions:stop":function(e,t){var n=e.interaction,r=n.interactable;r&&r.options.styleCursor&&$e(n.element,"",t)}},maxInteractions:Qe,withinInteractionLimit:Ze,validateAction:Ue};Ye.default=et;var tt={};Object.defineProperty(tt,"__esModule",{value:!0}),tt.default=void 0;var nt={id:"auto-start/dragAxis",listeners:{"autoStart:before-start":function(e,t){var n=e.interaction,r=e.eventTarget,a=e.dx,i=e.dy;if("drag"===n.prepared.name){var s=Math.abs(a),l=Math.abs(i),c=n.interactable.options.drag,u=c.startAxis,f=s>l?"x":s<l?"y":"xy";if(n.prepared.axis="start"===c.lockAxis?f[0]:c.lockAxis,"xy"!==f&&"xy"!==u&&u!==f){n.prepared.name=null;for(var p=r,_=function(e){if(e!==n.interactable){var a=n.interactable.options.drag;if(!a.manualStart&&e.testIgnoreAllow(a,p,r)){var i=e.getAction(n.downPointer,n.downEvent,n,p);if(i&&"drag"===i.name&&function(e,t){if(!t)return!1;var n=t.options.drag.startAxis;return"xy"===e||"xy"===n||n===e}(f,e)&&Ye.default.validateAction(i,e,p,r,t))return e}}};o.default.element(p);){var d=t.interactables.forEachMatch(p,_);if(d){n.prepared.name="drag",n.interactable=d,n.element=p;break}p=(0,x.parentNode)(p)}}}}}};tt.default=nt;var rt={};function at(e){var t=e.prepared&&e.prepared.name;if(!t)return null;var n=e.interactable.options;return n[t].hold||n[t].delay}Object.defineProperty(rt,"__esModule",{value:!0}),rt.default=void 0;var it={id:"auto-start/hold",install:function(e){var t=e.defaults;e.usePlugin(Ye.default),t.perAction.hold=0,t.perAction.delay=0},listeners:{"interactions:new":function(e){e.interaction.autoStartHoldTimer=null},"autoStart:prepared":function(e){var t=e.interaction,n=at(t);n>0&&(t.autoStartHoldTimer=setTimeout((function(){t.start(t.prepared,t.interactable,t.element)}),n))},"interactions:move":function(e){var t=e.interaction,n=e.duplicate;t.pointerWasMoved&&!n&&clearTimeout(t.autoStartHoldTimer)},"autoStart:before-start":function(e){var t=e.interaction;at(t)>0&&(t.prepared.name=null)}},getHoldDuration:at};rt.default=it;var ot={};Object.defineProperty(ot,"__esModule",{value:!0}),ot.default=void 0;var st={id:"auto-start",install:function(e){e.usePlugin(Ye.default),e.usePlugin(rt.default),e.usePlugin(tt.default)}};ot.default=st;var lt={};Object.defineProperty(lt,"__esModule",{value:!0}),lt.default=void 0,lt.default={};var ct={};function ut(e){return/^(always|never|auto)$/.test(e)?(this.options.preventDefault=e,this):o.default.bool(e)?(this.options.preventDefault=e?"always":"never",this):this.options.preventDefault}function ft(e){var t=e.interaction,n=e.event;t.interactable&&t.interactable.checkAndPreventDefault(n)}function pt(e){var n=e.Interactable;n.prototype.preventDefault=ut,n.prototype.checkAndPreventDefault=function(n){return function(e,n,r){var a=e.options.preventDefault;if("never"!==a)if("always"!==a){if(n.events.supportsPassive&&/^touch(start|move)$/.test(r.type)){var i=(0,t.getWindow)(r.target).document,s=n.getDocOptions(i);if(!s||!s.events||!1!==s.events.passive)return}/^(mouse|pointer|touch)*(down|start)/i.test(r.type)||o.default.element(r.target)&&(0,x.matchesSelector)(r.target,"input,select,textarea,[contenteditable=true],[contenteditable=true] *")||r.preventDefault()}else r.preventDefault()}(this,e,n)},e.interactions.docEvents.push({type:"dragstart",listener:function(t){for(var n=0;n<e.interactions.list.length;n++){var r=e.interactions.list[n];if(r.element&&(r.element===t.target||(0,x.nodeContains)(r.element,t.target)))return void r.interactable.checkAndPreventDefault(t)}}})}Object.defineProperty(ct,"__esModule",{value:!0}),ct.install=pt,ct.default=void 0;var _t={id:"core/interactablePreventDefault",install:pt,listeners:["down","move","up","cancel"].reduce((function(e,t){return e["interactions:".concat(t)]=ft,e}),{})};ct.default=_t;var dt,ht={};function vt(e){return function(e){if(Array.isArray(e))return mt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return mt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?mt(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function mt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}Object.defineProperty(ht,"__esModule",{value:!0}),ht.default=void 0,function(e){e.touchAction="touchAction",e.boxSizing="boxSizing",e.noListeners="noListeners"}(dt||(dt={}));var bt={touchAction:"https://developer.mozilla.org/en-US/docs/Web/CSS/touch-action",boxSizing:"https://developer.mozilla.org/en-US/docs/Web/CSS/box-sizing"},gt=[{name:dt.touchAction,perform:function(e){return!function(e,t,n){for(var r=e;o.default.element(r);){if(yt(r,t,n))return!0;r=(0,x.parentNode)(r)}return!1}(e.element,"touchAction",/pan-|pinch|none/)},getInfo:function(e){return[e.element,bt.touchAction]},text:'Consider adding CSS "touch-action: none" to this element\n'},{name:dt.boxSizing,perform:function(e){var t=e.element;return"resize"===e.prepared.name&&t instanceof v.default.HTMLElement&&!yt(t,"boxSizing",/border-box/)},text:'Consider adding CSS "box-sizing: border-box" to this resizable element',getInfo:function(e){return[e.element,bt.boxSizing]}},{name:dt.noListeners,perform:function(e){var t=e.prepared.name;return!(e.interactable.events.types["".concat(t,"move")]||[]).length},getInfo:function(e){return[e.prepared.name,e.interactable]},text:"There are no listeners set for this action"}];function yt(e,n,r){var a=e.style[n]||t.default.window.getComputedStyle(e)[n];return r.test((a||"").toString())}var wt="dev-tools",St={id:wt,install:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.logger,r=e.Interactable,a=e.defaults;e.logger=n||console,a.base.devTools={ignore:{}},r.prototype.devTools=function(e){return e?((0,P.default)(this.options.devTools,e),this):this.options.devTools}},listeners:{"interactions:action-start":function(e,t){for(var n=e.interaction,r=0;r<gt.length;r++){var a,i=gt[r],o=n.interactable&&n.interactable.options;o&&o.devTools&&o.devTools.ignore[i.name]||!i.perform(n)||(a=t.logger).warn.apply(a,["[interact.js] "+i.text].concat(vt(i.getInfo(n))))}}},checks:gt,CheckName:dt,links:bt,prefix:"[interact.js] "};ht.default=St;var xt={};Object.defineProperty(xt,"__esModule",{value:!0}),xt.default=void 0,xt.default={};var Mt={};Object.defineProperty(Mt,"__esModule",{value:!0}),Mt.default=function e(t){var n={};for(var r in t){var a=t[r];o.default.plainObject(a)?n[r]=e(a):o.default.array(a)?n[r]=$.from(a):n[r]=a}return n};var Et={};function At(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw i}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Rt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Rt(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Rt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function kt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(Et,"__esModule",{value:!0}),Et.getRectOffset=Bt,Et.default=void 0;var Tt=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.states=[],this.startOffset={left:0,right:0,top:0,bottom:0},this.startDelta=null,this.result=null,this.endResult=null,this.edges=void 0,this.interaction=void 0,this.interaction=t,this.result=Pt()}var t,n,r;return t=e,(n=[{key:"start",value:function(e,t){var n=e.phase,r=this.interaction,a=function(e){var t=e.interactable.options[e.prepared.name],n=t.modifiers;return n&&n.length?n:["snap","snapSize","snapEdges","restrict","restrictEdges","restrictSize"].map((function(e){var n=t[e];return n&&n.enabled&&{options:n,methods:n._methods}})).filter((function(e){return!!e}))}(r);this.prepareStates(a),this.edges=(0,P.default)({},r.edges),this.startOffset=Bt(r.rect,t),this.startDelta={x:0,y:0};var i={phase:n,pageCoords:t,preEnd:!1};return this.result=Pt(),this.startAll(i),this.result=this.setAll(i)}},{key:"fillArg",value:function(e){var t=this.interaction;e.interaction=t,e.interactable=t.interactable,e.element=t.element,e.rect=e.rect||t.rect,e.edges=this.edges,e.startOffset=this.startOffset}},{key:"startAll",value:function(e){this.fillArg(e);for(var t=0;t<this.states.length;t++){var n=this.states[t];n.methods.start&&(e.state=n,n.methods.start(e))}}},{key:"setAll",value:function(e){this.fillArg(e);var t=e.phase,n=e.preEnd,r=e.skipModifiers,a=e.rect;e.coords=(0,P.default)({},e.pageCoords),e.rect=(0,P.default)({},a);for(var i=r?this.states.slice(r):this.states,o=Pt(e.coords,e.rect),s=0;s<i.length;s++){var l=i[s],c=l.options,u=(0,P.default)({},e.coords),f=null;l.methods.set&&this.shouldDo(c,n,t)&&(e.state=l,f=l.methods.set(e),B.addEdges(this.interaction.edges,e.rect,{x:e.coords.x-u.x,y:e.coords.y-u.y})),o.eventProps.push(f)}o.delta.x=e.coords.x-e.pageCoords.x,o.delta.y=e.coords.y-e.pageCoords.y,o.rectDelta.left=e.rect.left-a.left,o.rectDelta.right=e.rect.right-a.right,o.rectDelta.top=e.rect.top-a.top,o.rectDelta.bottom=e.rect.bottom-a.bottom;var p=this.result.coords,_=this.result.rect;if(p&&_){var d=o.rect.left!==_.left||o.rect.right!==_.right||o.rect.top!==_.top||o.rect.bottom!==_.bottom;o.changed=d||p.x!==o.coords.x||p.y!==o.coords.y}return o}},{key:"applyToInteraction",value:function(e){var t=this.interaction,n=e.phase,r=t.coords.cur,a=t.coords.start,i=this.result,o=this.startDelta,s=i.delta;"start"===n&&(0,P.default)(this.startDelta,i.delta);for(var l=[[a,o],[r,s]],c=0;c<l.length;c++){var u=At(l[c],2),f=u[0],p=u[1];f.page.x+=p.x,f.page.y+=p.y,f.client.x+=p.x,f.client.y+=p.y}var _=this.result.rectDelta,d=e.rect||t.rect;d.left+=_.left,d.right+=_.right,d.top+=_.top,d.bottom+=_.bottom,d.width=d.right-d.left,d.height=d.bottom-d.top}},{key:"setAndApply",value:function(e){var t=this.interaction,n=e.phase,r=e.preEnd,a=e.skipModifiers,i=this.setAll({preEnd:r,phase:n,pageCoords:e.modifiedCoords||t.coords.cur.page});if(this.result=i,!i.changed&&(!a||a<this.states.length)&&t.interacting())return!1;if(e.modifiedCoords){var o=t.coords.cur.page,s={x:e.modifiedCoords.x-o.x,y:e.modifiedCoords.y-o.y};i.coords.x+=s.x,i.coords.y+=s.y,i.delta.x+=s.x,i.delta.y+=s.y}this.applyToInteraction(e)}},{key:"beforeEnd",value:function(e){var t=e.interaction,n=e.event,r=this.states;if(r&&r.length){for(var a=!1,i=0;i<r.length;i++){var o=r[i];e.state=o;var s=o.options,l=o.methods,c=l.beforeEnd&&l.beforeEnd(e);if(c)return this.endResult=c,!1;a=a||!a&&this.shouldDo(s,!0,e.phase,!0)}a&&t.move({event:n,preEnd:!0})}}},{key:"stop",value:function(e){var t=e.interaction;if(this.states&&this.states.length){var n=(0,P.default)({states:this.states,interactable:t.interactable,element:t.element,rect:null},e);this.fillArg(n);for(var r=0;r<this.states.length;r++){var a=this.states[r];n.state=a,a.methods.stop&&a.methods.stop(n)}this.states=null,this.endResult=null}}},{key:"prepareStates",value:function(e){this.states=[];for(var t=0;t<e.length;t++){var n=e[t],r=n.options,a=n.methods,i=n.name;this.states.push({options:r,methods:a,index:t,name:i})}return this.states}},{key:"restoreInteractionCoords",value:function(e){var t=e.interaction,n=t.coords,r=t.rect,a=t.modification;if(a.result){for(var i=a.startDelta,o=a.result,s=o.delta,l=o.rectDelta,c=[[n.start,i],[n.cur,s]],u=0;u<c.length;u++){var f=At(c[u],2),p=f[0],_=f[1];p.page.x-=_.x,p.page.y-=_.y,p.client.x-=_.x,p.client.y-=_.y}r.left-=l.left,r.right-=l.right,r.top-=l.top,r.bottom-=l.bottom}}},{key:"shouldDo",value:function(e,t,n,r){return!(!e||!1===e.enabled||r&&!e.endOnly||e.endOnly&&!t||"start"===n&&!e.setStart)}},{key:"copyFrom",value:function(e){this.startOffset=e.startOffset,this.startDelta=e.startDelta,this.edges=e.edges,this.states=e.states.map((function(e){return(0,Mt.default)(e)})),this.result=Pt((0,P.default)({},e.result.coords),(0,P.default)({},e.result.rect))}},{key:"destroy",value:function(){for(var e in this)this[e]=null}}])&&kt(t.prototype,n),r&&kt(t,r),e}();function Pt(e,t){return{rect:t,coords:e,delta:{x:0,y:0},rectDelta:{left:0,right:0,top:0,bottom:0},eventProps:[],changed:!0}}function Bt(e,t){return e?{left:t.x-e.left,top:t.y-e.top,right:e.right-t.x,bottom:e.bottom-t.y}:{left:0,top:0,right:0,bottom:0}}Et.default=Tt;var Ot={};function It(e){var t=e.iEvent,n=e.interaction.modification.result;n&&(t.modifiers=n.eventProps)}Object.defineProperty(Ot,"__esModule",{value:!0}),Ot.makeModifier=function(e,t){var n=e.defaults,r={start:e.start,set:e.set,beforeEnd:e.beforeEnd,stop:e.stop},a=function(e){var a=e||{};for(var i in a.enabled=!1!==a.enabled,n)i in a||(a[i]=n[i]);var o={options:a,methods:r,name:t,enable:function(){return a.enabled=!0,o},disable:function(){return a.enabled=!1,o}};return o};return t&&"string"==typeof t&&(a._defaults=n,a._methods=r),a},Ot.addEventModifiers=It,Ot.default=void 0;var jt={id:"modifiers/base",install:function(e){e.defaults.perAction.modifiers=[]},listeners:{"interactions:new":function(e){var t=e.interaction;t.modification=new Et.default(t)},"interactions:before-action-start":function(e){var t=e.interaction.modification;t.start(e,e.interaction.coords.start.page),e.interaction.edges=t.edges,t.applyToInteraction(e)},"interactions:before-action-move":function(e){return e.interaction.modification.setAndApply(e)},"interactions:before-action-end":function(e){return e.interaction.modification.beforeEnd(e)},"interactions:action-start":It,"interactions:action-move":It,"interactions:action-end":It,"interactions:after-action-start":function(e){return e.interaction.modification.restoreInteractionCoords(e)},"interactions:after-action-move":function(e){return e.interaction.modification.restoreInteractionCoords(e)},"interactions:stop":function(e){return e.interaction.modification.stop(e)}},before:["actions"]};Ot.default=jt;var Dt={};Object.defineProperty(Dt,"__esModule",{value:!0}),Dt.defaults=void 0,Dt.defaults={base:{preventDefault:"auto",deltaSource:"page"},perAction:{enabled:!1,origin:{x:0,y:0}},actions:{}};var Lt={};function Ct(e){return(Ct="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Vt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Nt(e,t){return(Nt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ht(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=zt(e);if(t){var a=zt(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Xt(this,n)}}function Xt(e,t){return!t||"object"!==Ct(t)&&"function"!=typeof t?Ft(e):t}function Ft(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zt(e){return(zt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}Object.defineProperty(Lt,"__esModule",{value:!0}),Lt.InteractEvent=void 0;var qt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Nt(e,t)}(i,e);var t,n,r,a=Ht(i);function i(e,t,n,r,o,s,l){var c;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(c=a.call(this,e)).target=void 0,c.currentTarget=void 0,c.relatedTarget=null,c.screenX=void 0,c.screenY=void 0,c.button=void 0,c.buttons=void 0,c.ctrlKey=void 0,c.shiftKey=void 0,c.altKey=void 0,c.metaKey=void 0,c.page=void 0,c.client=void 0,c.delta=void 0,c.rect=void 0,c.x0=void 0,c.y0=void 0,c.t0=void 0,c.dt=void 0,c.duration=void 0,c.clientX0=void 0,c.clientY0=void 0,c.velocity=void 0,c.speed=void 0,c.swipe=void 0,c.timeStamp=void 0,c.dragEnter=void 0,c.dragLeave=void 0,c.axes=void 0,c.preEnd=void 0,o=o||e.element;var u=e.interactable,f=(u&&u.options||Dt.defaults).deltaSource,p=(0,j.default)(u,o,n),_="start"===r,d="end"===r,h=_?Ft(c):e.prevEvent,v=_?e.coords.start:d?{page:h.page,client:h.client,timeStamp:e.coords.cur.timeStamp}:e.coords.cur;return c.page=(0,P.default)({},v.page),c.client=(0,P.default)({},v.client),c.rect=(0,P.default)({},e.rect),c.timeStamp=v.timeStamp,d||(c.page.x-=p.x,c.page.y-=p.y,c.client.x-=p.x,c.client.y-=p.y),c.ctrlKey=t.ctrlKey,c.altKey=t.altKey,c.shiftKey=t.shiftKey,c.metaKey=t.metaKey,c.button=t.button,c.buttons=t.buttons,c.target=o,c.currentTarget=o,c.preEnd=s,c.type=l||n+(r||""),c.interactable=u,c.t0=_?e.pointers[e.pointers.length-1].downTime:h.t0,c.x0=e.coords.start.page.x-p.x,c.y0=e.coords.start.page.y-p.y,c.clientX0=e.coords.start.client.x-p.x,c.clientY0=e.coords.start.client.y-p.y,c.delta=_||d?{x:0,y:0}:{x:c[f].x-h[f].x,y:c[f].y-h[f].y},c.dt=e.coords.delta.timeStamp,c.duration=c.timeStamp-c.t0,c.velocity=(0,P.default)({},e.coords.velocity[f]),c.speed=(0,C.default)(c.velocity.x,c.velocity.y),c.swipe=d||"inertiastart"===r?c.getSwipe():null,c}return t=i,(n=[{key:"getSwipe",value:function(){var e=this._interaction;if(e.prevEvent.speed<600||this.timeStamp-e.prevEvent.timeStamp>150)return null;var t=180*Math.atan2(e.prevEvent.velocityY,e.prevEvent.velocityX)/Math.PI;t<0&&(t+=360);var n=112.5<=t&&t<247.5,r=202.5<=t&&t<337.5;return{up:r,down:!r&&22.5<=t&&t<157.5,left:n,right:!n&&(292.5<=t||t<67.5),angle:t,speed:e.prevEvent.speed,velocity:{x:e.prevEvent.velocityX,y:e.prevEvent.velocityY}}}},{key:"preventDefault",value:function(){}},{key:"stopImmediatePropagation",value:function(){this.immediatePropagationStopped=this.propagationStopped=!0}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}}])&&Vt(t.prototype,n),r&&Vt(t,r),i}(K.BaseEvent);Lt.InteractEvent=qt,Object.defineProperties(qt.prototype,{pageX:{get:function(){return this.page.x},set:function(e){this.page.x=e}},pageY:{get:function(){return this.page.y},set:function(e){this.page.y=e}},clientX:{get:function(){return this.client.x},set:function(e){this.client.x=e}},clientY:{get:function(){return this.client.y},set:function(e){this.client.y=e}},dx:{get:function(){return this.delta.x},set:function(e){this.delta.x=e}},dy:{get:function(){return this.delta.y},set:function(e){this.delta.y=e}},velocityX:{get:function(){return this.velocity.x},set:function(e){this.velocity.x=e}},velocityY:{get:function(){return this.velocity.y},set:function(e){this.velocity.y=e}}});var Yt={};Object.defineProperty(Yt,"__esModule",{value:!0}),Yt.PointerInfo=void 0,Yt.PointerInfo=function e(t,n,r,a,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.id=void 0,this.pointer=void 0,this.event=void 0,this.downTime=void 0,this.downTarget=void 0,this.id=t,this.pointer=n,this.event=r,this.downTime=a,this.downTarget=i};var Ut,Gt,Kt={};function Wt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Zt(e,t,n){return t&&Wt(e.prototype,t),n&&Wt(e,n),e}Object.defineProperty(Kt,"__esModule",{value:!0}),Object.defineProperty(Kt,"PointerInfo",{enumerable:!0,get:function(){return Yt.PointerInfo}}),Kt.default=Kt.Interaction=Kt._ProxyMethods=Kt._ProxyValues=void 0,Kt._ProxyValues=Ut,function(e){e.interactable="",e.element="",e.prepared="",e.pointerIsDown="",e.pointerWasMoved="",e._proxy=""}(Ut||(Kt._ProxyValues=Ut={})),Kt._ProxyMethods=Gt,function(e){e.start="",e.move="",e.end="",e.stop="",e.interacting=""}(Gt||(Kt._ProxyMethods=Gt={}));var Qt=0,$t=function(){function e(t){var n=this,r=t.pointerType,a=t.scopeFire;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.interactable=null,this.element=null,this.rect=void 0,this._rects=void 0,this.edges=void 0,this._scopeFire=void 0,this.prepared={name:null,axis:null,edges:null},this.pointerType=void 0,this.pointers=[],this.downEvent=null,this.downPointer={},this._latestPointer={pointer:null,event:null,eventTarget:null},this.prevEvent=null,this.pointerIsDown=!1,this.pointerWasMoved=!1,this._interacting=!1,this._ending=!1,this._stopped=!0,this._proxy=null,this.simulation=null,this.doMove=(0,He.warnOnce)((function(e){this.move(e)}),"The interaction.doMove() method has been renamed to interaction.move()"),this.coords={start:X.newCoords(),prev:X.newCoords(),cur:X.newCoords(),delta:X.newCoords(),velocity:X.newCoords()},this._id=Qt++,this._scopeFire=a,this.pointerType=r;var i=this;this._proxy={};var o=function(e){Object.defineProperty(n._proxy,e,{get:function(){return i[e]}})};for(var s in Ut)o(s);var l=function(e){Object.defineProperty(n._proxy,e,{value:function(){return i[e].apply(i,arguments)}})};for(var c in Gt)l(c);this._scopeFire("interactions:new",{interaction:this})}return Zt(e,[{key:"pointerMoveTolerance",get:function(){return 1}}]),Zt(e,[{key:"pointerDown",value:function(e,t,n){var r=this.updatePointer(e,t,n,!0),a=this.pointers[r];this._scopeFire("interactions:down",{pointer:e,event:t,eventTarget:n,pointerIndex:r,pointerInfo:a,type:"down",interaction:this})}},{key:"start",value:function(e,t,n){return!(this.interacting()||!this.pointerIsDown||this.pointers.length<("gesture"===e.name?2:1)||!t.options[e.name].enabled)&&((0,He.copyAction)(this.prepared,e),this.interactable=t,this.element=n,this.rect=t.getRect(n),this.edges=this.prepared.edges?(0,P.default)({},this.prepared.edges):{left:!0,right:!0,top:!0,bottom:!0},this._stopped=!1,this._interacting=this._doPhase({interaction:this,event:this.downEvent,phase:"start"})&&!this._stopped,this._interacting)}},{key:"pointerMove",value:function(e,t,n){this.simulation||this.modification&&this.modification.endResult||this.updatePointer(e,t,n,!1);var r,a,i=this.coords.cur.page.x===this.coords.prev.page.x&&this.coords.cur.page.y===this.coords.prev.page.y&&this.coords.cur.client.x===this.coords.prev.client.x&&this.coords.cur.client.y===this.coords.prev.client.y;this.pointerIsDown&&!this.pointerWasMoved&&(r=this.coords.cur.client.x-this.coords.start.client.x,a=this.coords.cur.client.y-this.coords.start.client.y,this.pointerWasMoved=(0,C.default)(r,a)>this.pointerMoveTolerance);var o=this.getPointerIndex(e),s={pointer:e,pointerIndex:o,pointerInfo:this.pointers[o],event:t,type:"move",eventTarget:n,dx:r,dy:a,duplicate:i,interaction:this};i||X.setCoordVelocity(this.coords.velocity,this.coords.delta),this._scopeFire("interactions:move",s),i||this.simulation||(this.interacting()&&(s.type=null,this.move(s)),this.pointerWasMoved&&X.copyCoords(this.coords.prev,this.coords.cur))}},{key:"move",value:function(e){e&&e.event||X.setZeroCoords(this.coords.delta),(e=(0,P.default)({pointer:this._latestPointer.pointer,event:this._latestPointer.event,eventTarget:this._latestPointer.eventTarget,interaction:this},e||{})).phase="move",this._doPhase(e)}},{key:"pointerUp",value:function(e,t,n,r){var a=this.getPointerIndex(e);-1===a&&(a=this.updatePointer(e,t,n,!1));var i=/cancel$/i.test(t.type)?"cancel":"up";this._scopeFire("interactions:".concat(i),{pointer:e,pointerIndex:a,pointerInfo:this.pointers[a],event:t,eventTarget:n,type:i,curEventTarget:r,interaction:this}),this.simulation||this.end(t),this.pointerIsDown=!1,this.removePointer(e,t)}},{key:"documentBlur",value:function(e){this.end(e),this._scopeFire("interactions:blur",{event:e,type:"blur",interaction:this})}},{key:"end",value:function(e){var t;this._ending=!0,e=e||this._latestPointer.event,this.interacting()&&(t=this._doPhase({event:e,interaction:this,phase:"end"})),this._ending=!1,!0===t&&this.stop()}},{key:"currentAction",value:function(){return this._interacting?this.prepared.name:null}},{key:"interacting",value:function(){return this._interacting}},{key:"stop",value:function(){this._scopeFire("interactions:stop",{interaction:this}),this.interactable=this.element=null,this._interacting=!1,this._stopped=!0,this.prepared.name=this.prevEvent=null}},{key:"getPointerIndex",value:function(e){var t=X.getPointerId(e);return"mouse"===this.pointerType||"pen"===this.pointerType?this.pointers.length-1:$.findIndex(this.pointers,(function(e){return e.id===t}))}},{key:"getPointerInfo",value:function(e){return this.pointers[this.getPointerIndex(e)]}},{key:"updatePointer",value:function(e,t,n,r){var a=X.getPointerId(e),i=this.getPointerIndex(e),o=this.pointers[i];return r=!1!==r&&(r||/(down|start)$/i.test(t.type)),o?o.pointer=e:(o=new Yt.PointerInfo(a,e,t,null,null),i=this.pointers.length,this.pointers.push(o)),X.setCoords(this.coords.cur,this.pointers.map((function(e){return e.pointer})),this._now()),X.setCoordDeltas(this.coords.delta,this.coords.prev,this.coords.cur),r&&(this.pointerIsDown=!0,o.downTime=this.coords.cur.timeStamp,o.downTarget=n,X.pointerExtend(this.downPointer,e),this.interacting()||(X.copyCoords(this.coords.start,this.coords.cur),X.copyCoords(this.coords.prev,this.coords.cur),this.downEvent=t,this.pointerWasMoved=!1)),this._updateLatestPointer(e,t,n),this._scopeFire("interactions:update-pointer",{pointer:e,event:t,eventTarget:n,down:r,pointerInfo:o,pointerIndex:i,interaction:this}),i}},{key:"removePointer",value:function(e,t){var n=this.getPointerIndex(e);if(-1!==n){var r=this.pointers[n];this._scopeFire("interactions:remove-pointer",{pointer:e,event:t,eventTarget:null,pointerIndex:n,pointerInfo:r,interaction:this}),this.pointers.splice(n,1)}}},{key:"_updateLatestPointer",value:function(e,t,n){this._latestPointer.pointer=e,this._latestPointer.event=t,this._latestPointer.eventTarget=n}},{key:"destroy",value:function(){this._latestPointer.pointer=null,this._latestPointer.event=null,this._latestPointer.eventTarget=null}},{key:"_createPreparedEvent",value:function(e,t,n,r){return new Lt.InteractEvent(this,e,this.prepared.name,t,this.element,n,r)}},{key:"_fireEvent",value:function(e){this.interactable.fire(e),(!this.prevEvent||e.timeStamp>=this.prevEvent.timeStamp)&&(this.prevEvent=e)}},{key:"_doPhase",value:function(e){var t=e.event,n=e.phase,r=e.preEnd,a=e.type,i=this.rect;if(i&&"move"===n&&(B.addEdges(this.edges,i,this.coords.delta[this.interactable.options.deltaSource]),i.width=i.right-i.left,i.height=i.bottom-i.top),!1===this._scopeFire("interactions:before-action-".concat(n),e))return!1;var o=e.iEvent=this._createPreparedEvent(t,n,r,a);return this._scopeFire("interactions:action-".concat(n),e),"start"===n&&(this.prevEvent=o),this._fireEvent(o),this._scopeFire("interactions:after-action-".concat(n),e),!0}},{key:"_now",value:function(){return Date.now()}}]),e}();Kt.Interaction=$t;var Jt=$t;Kt.default=Jt;var en={};function tn(e){e.pointerIsDown&&(on(e.coords.cur,e.offset.total),e.offset.pending.x=0,e.offset.pending.y=0)}function nn(e){rn(e.interaction)}function rn(e){if(!function(e){return!(!e.offset.pending.x&&!e.offset.pending.y)}(e))return!1;var t=e.offset.pending;return on(e.coords.cur,t),on(e.coords.delta,t),B.addEdges(e.edges,e.rect,t),t.x=0,t.y=0,!0}function an(e){var t=e.x,n=e.y;this.offset.pending.x+=t,this.offset.pending.y+=n,this.offset.total.x+=t,this.offset.total.y+=n}function on(e,t){var n=e.page,r=e.client,a=t.x,i=t.y;n.x+=a,n.y+=i,r.x+=a,r.y+=i}Object.defineProperty(en,"__esModule",{value:!0}),en.addTotal=tn,en.applyPending=rn,en.default=void 0,Kt._ProxyMethods.offsetBy="";var sn={id:"offset",before:["modifiers"],install:function(e){e.Interaction.prototype.offsetBy=an},listeners:{"interactions:new":function(e){e.interaction.offset={total:{x:0,y:0},pending:{x:0,y:0}}},"interactions:update-pointer":function(e){return tn(e.interaction)},"interactions:before-action-start":nn,"interactions:before-action-move":nn,"interactions:before-action-end":function(e){var t=e.interaction;if(rn(t))return t.move({offset:!0}),t.end(),!1},"interactions:stop":function(e){var t=e.interaction;t.offset.total.x=0,t.offset.total.y=0,t.offset.pending.x=0,t.offset.pending.y=0}}};en.default=sn;var ln={};function cn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(ln,"__esModule",{value:!0}),ln.default=ln.InertiaState=void 0;var un=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.active=!1,this.isModified=!1,this.smoothEnd=!1,this.allowResume=!1,this.modification=null,this.modifierCount=0,this.modifierArg=null,this.startCoords=null,this.t0=0,this.v0=0,this.te=0,this.targetOffset=null,this.modifiedOffset=null,this.currentOffset=null,this.lambda_v0=0,this.one_ve_v0=0,this.timeout=null,this.interaction=void 0,this.interaction=t}var t,n,r;return t=e,(n=[{key:"start",value:function(e){var t=this.interaction,n=fn(t);if(!n||!n.enabled)return!1;var r=t.coords.velocity.client,a=(0,C.default)(r.x,r.y),i=this.modification||(this.modification=new Et.default(t));if(i.copyFrom(t.modification),this.t0=t._now(),this.allowResume=n.allowResume,this.v0=a,this.currentOffset={x:0,y:0},this.startCoords=t.coords.cur.page,this.modifierArg={interaction:t,interactable:t.interactable,element:t.element,rect:t.rect,edges:t.edges,pageCoords:this.startCoords,preEnd:!0,phase:"inertiastart"},this.t0-t.coords.cur.timeStamp<50&&a>n.minSpeed&&a>n.endSpeed)this.startInertia();else{if(i.result=i.setAll(this.modifierArg),!i.result.changed)return!1;this.startSmoothEnd()}return t.modification.result.rect=null,t.offsetBy(this.targetOffset),t._doPhase({interaction:t,event:e,phase:"inertiastart"}),t.offsetBy({x:-this.targetOffset.x,y:-this.targetOffset.y}),t.modification.result.rect=null,this.active=!0,t.simulation=this,!0}},{key:"startInertia",value:function(){var e=this,t=this.interaction.coords.velocity.client,n=fn(this.interaction),r=n.resistance,a=-Math.log(n.endSpeed/this.v0)/r;this.targetOffset={x:(t.x-a)/r,y:(t.y-a)/r},this.te=a,this.lambda_v0=r/this.v0,this.one_ve_v0=1-n.endSpeed/this.v0;var i=this.modification,o=this.modifierArg;o.pageCoords={x:this.startCoords.x+this.targetOffset.x,y:this.startCoords.y+this.targetOffset.y},i.result=i.setAll(o),i.result.changed&&(this.isModified=!0,this.modifiedOffset={x:this.targetOffset.x+i.result.delta.x,y:this.targetOffset.y+i.result.delta.y}),this.timeout=Pe.default.request((function(){return e.inertiaTick()}))}},{key:"startSmoothEnd",value:function(){var e=this;this.smoothEnd=!0,this.isModified=!0,this.targetOffset={x:this.modification.result.delta.x,y:this.modification.result.delta.y},this.timeout=Pe.default.request((function(){return e.smoothEndTick()}))}},{key:"inertiaTick",value:function(){var e,t,n,r,a,i,o,s=this,l=this.interaction,c=fn(l).resistance,u=(l._now()-this.t0)/1e3;if(u<this.te){var f,p=1-(Math.exp(-c*u)-this.lambda_v0)/this.one_ve_v0;this.isModified?(e=0,t=0,n=this.targetOffset.x,r=this.targetOffset.y,a=this.modifiedOffset.x,i=this.modifiedOffset.y,f={x:pn(o=p,e,n,a),y:pn(o,t,r,i)}):f={x:this.targetOffset.x*p,y:this.targetOffset.y*p};var _={x:f.x-this.currentOffset.x,y:f.y-this.currentOffset.y};this.currentOffset.x+=_.x,this.currentOffset.y+=_.y,l.offsetBy(_),l.move(),this.timeout=Pe.default.request((function(){return s.inertiaTick()}))}else l.offsetBy({x:this.modifiedOffset.x-this.currentOffset.x,y:this.modifiedOffset.y-this.currentOffset.y}),this.end()}},{key:"smoothEndTick",value:function(){var e=this,t=this.interaction,n=t._now()-this.t0,r=fn(t).smoothEndDuration;if(n<r){var a={x:_n(n,0,this.targetOffset.x,r),y:_n(n,0,this.targetOffset.y,r)},i={x:a.x-this.currentOffset.x,y:a.y-this.currentOffset.y};this.currentOffset.x+=i.x,this.currentOffset.y+=i.y,t.offsetBy(i),t.move({skipModifiers:this.modifierCount}),this.timeout=Pe.default.request((function(){return e.smoothEndTick()}))}else t.offsetBy({x:this.targetOffset.x-this.currentOffset.x,y:this.targetOffset.y-this.currentOffset.y}),this.end()}},{key:"resume",value:function(e){var t=e.pointer,n=e.event,r=e.eventTarget,a=this.interaction;a.offsetBy({x:-this.currentOffset.x,y:-this.currentOffset.y}),a.updatePointer(t,n,r,!0),a._doPhase({interaction:a,event:n,phase:"resume"}),(0,X.copyCoords)(a.coords.prev,a.coords.cur),this.stop()}},{key:"end",value:function(){this.interaction.move(),this.interaction.end(),this.stop()}},{key:"stop",value:function(){this.active=this.smoothEnd=!1,this.interaction.simulation=null,Pe.default.cancel(this.timeout)}}])&&cn(t.prototype,n),r&&cn(t,r),e}();function fn(e){var t=e.interactable,n=e.prepared;return t&&t.options&&n.name&&t.options[n.name].inertia}function pn(e,t,n,r){var a=1-e;return a*a*t+2*a*e*n+e*e*r}function _n(e,t,n,r){return-n*(e/=r)*(e-2)+t}ln.InertiaState=un;var dn={id:"inertia",before:["modifiers"],install:function(e){var t=e.defaults;e.usePlugin(en.default),e.usePlugin(Ot.default),e.actions.phases.inertiastart=!0,e.actions.phases.resume=!0,t.perAction.inertia={enabled:!1,resistance:10,minSpeed:100,endSpeed:10,allowResume:!0,smoothEndDuration:300}},listeners:{"interactions:new":function(e){var t=e.interaction;t.inertia=new un(t)},"interactions:before-action-end":function(e){var t=e.interaction,n=e.event;return(!t._interacting||t.simulation||!t.inertia.start(n))&&null},"interactions:down":function(e){var t=e.interaction,n=e.eventTarget,r=t.inertia;if(r.active)for(var a=n;o.default.element(a);){if(a===t.element){r.resume(e);break}a=x.parentNode(a)}},"interactions:stop":function(e){var t=e.interaction.inertia;t.active&&t.stop()},"interactions:before-action-resume":function(e){var t=e.interaction.modification;t.stop(e),t.start(e,e.interaction.coords.cur.page),t.applyToInteraction(e)},"interactions:before-action-inertiastart":function(e){return e.interaction.modification.setAndApply(e)},"interactions:action-resume":Ot.addEventModifiers,"interactions:action-inertiastart":Ot.addEventModifiers,"interactions:after-action-inertiastart":function(e){return e.interaction.modification.restoreInteractionCoords(e)},"interactions:after-action-resume":function(e){return e.interaction.modification.restoreInteractionCoords(e)}}};ln.default=dn;var hn={};function vn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function mn(e,t){for(var n=0;n<t.length;n++){var r=t[n];if(e.immediatePropagationStopped)break;r(e)}}Object.defineProperty(hn,"__esModule",{value:!0}),hn.Eventable=void 0;var bn=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options=void 0,this.types={},this.propagationStopped=!1,this.immediatePropagationStopped=!1,this.global=void 0,this.options=(0,P.default)({},t||{})}var t,n,r;return t=e,(n=[{key:"fire",value:function(e){var t,n=this.global;(t=this.types[e.type])&&mn(e,t),!e.propagationStopped&&n&&(t=n[e.type])&&mn(e,t)}},{key:"on",value:function(e,t){var n=(0,D.default)(e,t);for(e in n)this.types[e]=$.merge(this.types[e]||[],n[e])}},{key:"off",value:function(e,t){var n=(0,D.default)(e,t);for(e in n){var r=this.types[e];if(r&&r.length)for(var a=0;a<n[e].length;a++){var i=n[e][a],o=r.indexOf(i);-1!==o&&r.splice(o,1)}}}},{key:"getRect",value:function(e){return null}}])&&vn(t.prototype,n),r&&vn(t,r),e}();hn.Eventable=bn;var gn={};Object.defineProperty(gn,"__esModule",{value:!0}),gn.default=function(e,t){if(t.phaselessTypes[e])return!0;for(var n in t.map)if(0===e.indexOf(n)&&e.substr(n.length)in t.phases)return!0;return!1};var yn={};function wn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Sn(e,t,n){return t&&wn(e.prototype,t),n&&wn(e,n),e}Object.defineProperty(yn,"__esModule",{value:!0}),yn.Interactable=void 0;var xn=function(){function e(n,r,a,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options=void 0,this._actions=void 0,this.target=void 0,this.events=new hn.Eventable,this._context=void 0,this._win=void 0,this._doc=void 0,this._scopeEvents=void 0,this._rectChecker=void 0,this._actions=r.actions,this.target=n,this._context=r.context||a,this._win=(0,t.getWindow)((0,x.trySelector)(n)?this._context:n),this._doc=this._win.document,this._scopeEvents=i,this.set(r)}return Sn(e,[{key:"_defaults",get:function(){return{base:{},perAction:{},actions:{}}}}]),Sn(e,[{key:"setOnEvents",value:function(e,t){return o.default.func(t.onstart)&&this.on("".concat(e,"start"),t.onstart),o.default.func(t.onmove)&&this.on("".concat(e,"move"),t.onmove),o.default.func(t.onend)&&this.on("".concat(e,"end"),t.onend),o.default.func(t.oninertiastart)&&this.on("".concat(e,"inertiastart"),t.oninertiastart),this}},{key:"updatePerActionListeners",value:function(e,t,n){(o.default.array(t)||o.default.object(t))&&this.off(e,t),(o.default.array(n)||o.default.object(n))&&this.on(e,n)}},{key:"setPerAction",value:function(e,t){var n=this._defaults;for(var r in t){var a=r,i=this.options[e],s=t[a];"listeners"===a&&this.updatePerActionListeners(e,i.listeners,s),o.default.array(s)?i[a]=$.from(s):o.default.plainObject(s)?(i[a]=(0,P.default)(i[a]||{},(0,Mt.default)(s)),o.default.object(n.perAction[a])&&"enabled"in n.perAction[a]&&(i[a].enabled=!1!==s.enabled)):o.default.bool(s)&&o.default.object(n.perAction[a])?i[a].enabled=s:i[a]=s}}},{key:"getRect",value:function(e){return e=e||(o.default.element(this.target)?this.target:null),o.default.string(this.target)&&(e=e||this._context.querySelector(this.target)),(0,x.getElementRect)(e)}},{key:"rectChecker",value:function(e){var t=this;return o.default.func(e)?(this._rectChecker=e,this.getRect=function(e){var n=(0,P.default)({},t._rectChecker(e));return"width"in n||(n.width=n.right-n.left,n.height=n.bottom-n.top),n},this):null===e?(delete this.getRect,delete this._rectChecker,this):this.getRect}},{key:"_backCompatOption",value:function(e,t){if((0,x.trySelector)(t)||o.default.object(t)){for(var n in this.options[e]=t,this._actions.map)this.options[n][e]=t;return this}return this.options[e]}},{key:"origin",value:function(e){return this._backCompatOption("origin",e)}},{key:"deltaSource",value:function(e){return"page"===e||"client"===e?(this.options.deltaSource=e,this):this.options.deltaSource}},{key:"context",value:function(){return this._context}},{key:"inContext",value:function(e){return this._context===e.ownerDocument||(0,x.nodeContains)(this._context,e)}},{key:"testIgnoreAllow",value:function(e,t,n){return!this.testIgnore(e.ignoreFrom,t,n)&&this.testAllow(e.allowFrom,t,n)}},{key:"testAllow",value:function(e,t,n){return!e||!!o.default.element(n)&&(o.default.string(e)?(0,x.matchesUpTo)(n,e,t):!!o.default.element(e)&&(0,x.nodeContains)(e,n))}},{key:"testIgnore",value:function(e,t,n){return!(!e||!o.default.element(n))&&(o.default.string(e)?(0,x.matchesUpTo)(n,e,t):!!o.default.element(e)&&(0,x.nodeContains)(e,n))}},{key:"fire",value:function(e){return this.events.fire(e),this}},{key:"_onOff",value:function(e,t,n,r){o.default.object(t)&&!o.default.array(t)&&(r=n,n=null);var a="on"===e?"add":"remove",i=(0,D.default)(t,n);for(var s in i){"wheel"===s&&(s=y.default.wheelEvent);for(var l=0;l<i[s].length;l++){var c=i[s][l];(0,gn.default)(s,this._actions)?this.events[e](s,c):o.default.string(this.target)?this._scopeEvents["".concat(a,"Delegate")](this.target,this._context,s,c,r):this._scopeEvents[a](this.target,s,c,r)}}return this}},{key:"on",value:function(e,t,n){return this._onOff("on",e,t,n)}},{key:"off",value:function(e,t,n){return this._onOff("off",e,t,n)}},{key:"set",value:function(e){var t=this._defaults;for(var n in o.default.object(e)||(e={}),this.options=(0,Mt.default)(t.base),this._actions.methodDict){var r=n,a=this._actions.methodDict[r];this.options[r]={},this.setPerAction(r,(0,P.default)((0,P.default)({},t.perAction),t.actions[r])),this[a](e[r])}for(var i in e)o.default.func(this[i])&&this[i](e[i]);return this}},{key:"unset",value:function(){if(o.default.string(this.target))for(var e in this._scopeEvents.delegatedEvents)for(var t=this._scopeEvents.delegatedEvents[e],n=t.length-1;n>=0;n--){var r=t[n],a=r.selector,i=r.context,s=r.listeners;a===this.target&&i===this._context&&t.splice(n,1);for(var l=s.length-1;l>=0;l--)this._scopeEvents.removeDelegate(this.target,this._context,e,s[l][0],s[l][1])}else this._scopeEvents.remove(this.target,"all")}}]),e}();yn.Interactable=xn;var Mn={};function En(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(Mn,"__esModule",{value:!0}),Mn.InteractableSet=void 0;var An=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.list=[],this.selectorMap={},this.scope=void 0,this.scope=t,t.addListeners({"interactable:unset":function(e){var t=e.interactable,r=t.target,a=t._context,i=o.default.string(r)?n.selectorMap[r]:r[n.scope.id],s=i.findIndex((function(e){return e.context===a}));i[s]&&(i[s].context=null,i[s].interactable=null),i.splice(s,1)}})}var t,n,r;return t=e,(n=[{key:"new",value:function(e,t){t=(0,P.default)(t||{},{actions:this.scope.actions});var n=new this.scope.Interactable(e,t,this.scope.document,this.scope.events),r={context:n._context,interactable:n};return this.scope.addDocument(n._doc),this.list.push(n),o.default.string(e)?(this.selectorMap[e]||(this.selectorMap[e]=[]),this.selectorMap[e].push(r)):(n.target[this.scope.id]||Object.defineProperty(e,this.scope.id,{value:[],configurable:!0}),e[this.scope.id].push(r)),this.scope.fire("interactable:new",{target:e,options:t,interactable:n,win:this.scope._win}),n}},{key:"get",value:function(e,t){var n=t&&t.context||this.scope.document,r=o.default.string(e),a=r?this.selectorMap[e]:e[this.scope.id];if(!a)return null;var i=$.find(a,(function(t){return t.context===n&&(r||t.interactable.inContext(e))}));return i&&i.interactable}},{key:"forEachMatch",value:function(e,t){for(var n=0;n<this.list.length;n++){var r=this.list[n],a=void 0;if((o.default.string(r.target)?o.default.element(e)&&x.matchesSelector(e,r.target):e===r.target)&&r.inContext(e)&&(a=t(r)),void 0!==a)return a}}}])&&En(t.prototype,n),r&&En(t,r),e}();Mn.InteractableSet=An;var Rn={};function kn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Tn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw i}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Pn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Pn(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Pn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}Object.defineProperty(Rn,"__esModule",{value:!0}),Rn.default=Rn.FakeEvent=void 0;var Bn=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.currentTarget=void 0,this.originalEvent=void 0,this.originalEvent=t,(0,V.default)(this,t)}var t,n,r;return t=e,(n=[{key:"preventOriginalDefault",value:function(){this.originalEvent.preventDefault()}},{key:"stopPropagation",value:function(){this.originalEvent.stopPropagation()}},{key:"stopImmediatePropagation",value:function(){this.originalEvent.stopImmediatePropagation()}}])&&kn(t.prototype,n),r&&kn(t,r),e}();function On(e){if(!o.default.object(e))return{capture:!!e,passive:!1};var t=(0,P.default)({},e);return t.capture=!!e.capture,t.passive=!!e.passive,t}Rn.FakeEvent=Bn;var In={id:"events",install:function(e){var t=[],n={},r=[],a={add:i,remove:s,addDelegate:function(e,t,a,o,s){var u=On(s);if(!n[a]){n[a]=[];for(var f=0;f<r.length;f++){var p=r[f];i(p,a,l),i(p,a,c,!0)}}var _=n[a],d=$.find(_,(function(n){return n.selector===e&&n.context===t}));d||(d={selector:e,context:t,listeners:[]},_.push(d)),d.listeners.push([o,u])},removeDelegate:function(e,t,r,a,i){var o,u=On(i),f=n[r],p=!1;if(f)for(o=f.length-1;o>=0;o--){var _=f[o];if(_.selector===e&&_.context===t){for(var d=_.listeners,h=d.length-1;h>=0;h--){var v=Tn(d[h],2),m=v[0],b=v[1],g=b.capture,y=b.passive;if(m===a&&g===u.capture&&y===u.passive){d.splice(h,1),d.length||(f.splice(o,1),s(t,r,l),s(t,r,c,!0)),p=!0;break}}if(p)break}}},delegateListener:l,delegateUseCapture:c,delegatedEvents:n,documents:r,targets:t,supportsOptions:!1,supportsPassive:!1};function i(e,n,r,i){var o=On(i),s=$.find(t,(function(t){return t.eventTarget===e}));s||(s={eventTarget:e,events:{}},t.push(s)),s.events[n]||(s.events[n]=[]),e.addEventListener&&!$.contains(s.events[n],r)&&(e.addEventListener(n,r,a.supportsOptions?o:o.capture),s.events[n].push(r))}function s(e,n,r,i){var o=On(i),l=$.findIndex(t,(function(t){return t.eventTarget===e})),c=t[l];if(c&&c.events)if("all"!==n){var u=!1,f=c.events[n];if(f){if("all"===r){for(var p=f.length-1;p>=0;p--)s(e,n,f[p],o);return}for(var _=0;_<f.length;_++)if(f[_]===r){e.removeEventListener(n,r,a.supportsOptions?o:o.capture),f.splice(_,1),0===f.length&&(delete c.events[n],u=!0);break}}u&&!Object.keys(c.events).length&&t.splice(l,1)}else for(n in c.events)c.events.hasOwnProperty(n)&&s(e,n,"all")}function l(e,t){for(var r=On(t),a=new Bn(e),i=n[e.type],s=Tn(X.getEventTargets(e),1)[0],l=s;o.default.element(l);){for(var c=0;c<i.length;c++){var u=i[c],f=u.selector,p=u.context;if(x.matchesSelector(l,f)&&x.nodeContains(p,s)&&x.nodeContains(p,l)){var _=u.listeners;a.currentTarget=l;for(var d=0;d<_.length;d++){var h=Tn(_[d],2),v=h[0],m=h[1],b=m.capture,g=m.passive;b===r.capture&&g===r.passive&&v(a)}}}l=x.parentNode(l)}}function c(e){return l(e,!0)}return e.document.createElement("div").addEventListener("test",null,{get capture(){return a.supportsOptions=!0},get passive(){return a.supportsPassive=!0}}),e.events=a,a}};Rn.default=In;var jn={};Object.defineProperty(jn,"__esModule",{value:!0}),jn.createInteractStatic=function(e){var t=function t(n,r){var a=e.interactables.get(n,r);return a||((a=e.interactables.new(n,r)).events.global=t.globalEvents),a};return t.getPointerAverage=X.pointerAverage,t.getTouchBBox=X.touchBBox,t.getTouchDistance=X.touchDistance,t.getTouchAngle=X.touchAngle,t.getElementRect=x.getElementRect,t.getElementClientRect=x.getElementClientRect,t.matchesSelector=x.matchesSelector,t.closest=x.closest,t.globalEvents={},t.version=void 0,t.scope=e,t.use=function(e,t){return this.scope.usePlugin(e,t),this},t.isSet=function(e,t){return!!this.scope.interactables.get(e,t&&t.context)},t.on=function(e,t,n){if(o.default.string(e)&&-1!==e.search(" ")&&(e=e.trim().split(/ +/)),o.default.array(e)){for(var r=0;r<e.length;r++){var a=e[r];this.on(a,t,n)}return this}if(o.default.object(e)){for(var i in e)this.on(i,e[i],t);return this}return(0,gn.default)(e,this.scope.actions)?this.globalEvents[e]?this.globalEvents[e].push(t):this.globalEvents[e]=[t]:this.scope.events.add(this.scope.document,e,t,{options:n}),this},t.off=function(e,t,n){if(o.default.string(e)&&-1!==e.search(" ")&&(e=e.trim().split(/ +/)),o.default.array(e)){for(var r=0;r<e.length;r++){var a=e[r];this.off(a,t,n)}return this}if(o.default.object(e)){for(var i in e)this.off(i,e[i],t);return this}var s;return(0,gn.default)(e,this.scope.actions)?e in this.globalEvents&&-1!==(s=this.globalEvents[e].indexOf(t))&&this.globalEvents[e].splice(s,1):this.scope.events.remove(this.scope.document,e,t,n),this},t.debug=function(){return this.scope},t.supportsTouch=function(){return y.default.supportsTouch},t.supportsPointerEvent=function(){return y.default.supportsPointerEvent},t.stop=function(){for(var e=0;e<this.scope.interactions.list.length;e++)this.scope.interactions.list[e].stop();return this},t.pointerMoveTolerance=function(e){return o.default.number(e)?(this.scope.interactions.pointerMoveTolerance=e,this):this.scope.interactions.pointerMoveTolerance},t.addDocument=function(e,t){this.scope.addDocument(e,t)},t.removeDocument=function(e){this.scope.removeDocument(e)},t};var Dn={};Object.defineProperty(Dn,"__esModule",{value:!0}),Dn.default=void 0;var Ln={methodOrder:["simulationResume","mouseOrPen","hasPointer","idle"],search:function(e){for(var t=0;t<Ln.methodOrder.length;t++){var n;n=Ln.methodOrder[t];var r=Ln[n](e);if(r)return r}return null},simulationResume:function(e){var t=e.pointerType,n=e.eventType,r=e.eventTarget,a=e.scope;if(!/down|start/i.test(n))return null;for(var i=0;i<a.interactions.list.length;i++){var o=a.interactions.list[i],s=r;if(o.simulation&&o.simulation.allowResume&&o.pointerType===t)for(;s;){if(s===o.element)return o;s=x.parentNode(s)}}return null},mouseOrPen:function(e){var t,n=e.pointerId,r=e.pointerType,a=e.eventType,i=e.scope;if("mouse"!==r&&"pen"!==r)return null;for(var o=0;o<i.interactions.list.length;o++){var s=i.interactions.list[o];if(s.pointerType===r){if(s.simulation&&!Cn(s,n))continue;if(s.interacting())return s;t||(t=s)}}if(t)return t;for(var l=0;l<i.interactions.list.length;l++){var c=i.interactions.list[l];if(!(c.pointerType!==r||/down/i.test(a)&&c.simulation))return c}return null},hasPointer:function(e){for(var t=e.pointerId,n=e.scope,r=0;r<n.interactions.list.length;r++){var a=n.interactions.list[r];if(Cn(a,t))return a}return null},idle:function(e){for(var t=e.pointerType,n=e.scope,r=0;r<n.interactions.list.length;r++){var a=n.interactions.list[r];if(1===a.pointers.length){var i=a.interactable;if(i&&(!i.options.gesture||!i.options.gesture.enabled))continue}else if(a.pointers.length>=2)continue;if(!a.interacting()&&t===a.pointerType)return a}return null}};function Cn(e,t){return e.pointers.some((function(e){return e.id===t}))}var Vn=Ln;Dn.default=Vn;var Nn={};function Hn(e){return(Hn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Xn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw i}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Fn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Fn(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Fn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function zn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Yn(e,t){return(Yn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Un(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Kn(e);if(t){var a=Kn(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Gn(this,n)}}function Gn(e,t){return!t||"object"!==Hn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Kn(e){return(Kn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}Object.defineProperty(Nn,"__esModule",{value:!0}),Nn.default=void 0;var Wn=["pointerDown","pointerMove","pointerUp","updatePointer","removePointer","windowBlur"];function Zn(e,t){return function(n){var r=t.interactions.list,a=X.getPointerType(n),i=Xn(X.getEventTargets(n),2),o=i[0],s=i[1],l=[];if(/^touch/.test(n.type)){t.prevTouchTime=t.now();for(var c=0;c<n.changedTouches.length;c++){var u=n.changedTouches[c],f={pointer:u,pointerId:X.getPointerId(u),pointerType:a,eventType:n.type,eventTarget:o,curEventTarget:s,scope:t},p=Qn(f);l.push([f.pointer,f.eventTarget,f.curEventTarget,p])}}else{var _=!1;if(!y.default.supportsPointerEvent&&/mouse/.test(n.type)){for(var d=0;d<r.length&&!_;d++)_="mouse"!==r[d].pointerType&&r[d].pointerIsDown;_=_||t.now()-t.prevTouchTime<500||0===n.timeStamp}if(!_){var h={pointer:n,pointerId:X.getPointerId(n),pointerType:a,eventType:n.type,curEventTarget:s,eventTarget:o,scope:t},v=Qn(h);l.push([h.pointer,h.eventTarget,h.curEventTarget,v])}}for(var m=0;m<l.length;m++){var b=Xn(l[m],4),g=b[0],w=b[1],S=b[2];b[3][e](g,n,w,S)}}}function Qn(e){var t=e.pointerType,n=e.scope,r={interaction:Dn.default.search(e),searchDetails:e};return n.fire("interactions:find",r),r.interaction||n.interactions.new({pointerType:t})}function $n(e,t){var n=e.doc,r=e.scope,a=e.options,i=r.interactions.docEvents,o=r.events,s=o[t];for(var l in r.browser.isIOS&&!a.events&&(a.events={passive:!1}),o.delegatedEvents)s(n,l,o.delegateListener),s(n,l,o.delegateUseCapture,!0);for(var c=a&&a.events,u=0;u<i.length;u++){var f=i[u];s(n,f.type,f.listener,c)}}var Jn={id:"core/interactions",install:function(e){for(var t={},n=0;n<Wn.length;n++){var r=Wn[n];t[r]=Zn(r,e)}var a,i=y.default.pEventTypes;function o(){for(var t=0;t<e.interactions.list.length;t++){var n=e.interactions.list[t];if(n.pointerIsDown&&"touch"===n.pointerType&&!n._interacting)for(var r=function(){var t=n.pointers[a];e.documents.some((function(e){var n=e.doc;return(0,x.nodeContains)(n,t.downTarget)}))||n.removePointer(t.pointer,t.event)},a=0;a<n.pointers.length;a++)r()}}(a=v.default.PointerEvent?[{type:i.down,listener:o},{type:i.down,listener:t.pointerDown},{type:i.move,listener:t.pointerMove},{type:i.up,listener:t.pointerUp},{type:i.cancel,listener:t.pointerUp}]:[{type:"mousedown",listener:t.pointerDown},{type:"mousemove",listener:t.pointerMove},{type:"mouseup",listener:t.pointerUp},{type:"touchstart",listener:o},{type:"touchstart",listener:t.pointerDown},{type:"touchmove",listener:t.pointerMove},{type:"touchend",listener:t.pointerUp},{type:"touchcancel",listener:t.pointerUp}]).push({type:"blur",listener:function(t){for(var n=0;n<e.interactions.list.length;n++)e.interactions.list[n].documentBlur(t)}}),e.prevTouchTime=0,e.Interaction=function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Yn(e,t)}(o,t);var n,r,a,i=Un(o);function o(){return zn(this,o),i.apply(this,arguments)}return n=o,(r=[{key:"_now",value:function(){return e.now()}},{key:"pointerMoveTolerance",get:function(){return e.interactions.pointerMoveTolerance},set:function(t){e.interactions.pointerMoveTolerance=t}}])&&qn(n.prototype,r),a&&qn(n,a),o}(Kt.default),e.interactions={list:[],new:function(t){t.scopeFire=function(t,n){return e.fire(t,n)};var n=new e.Interaction(t);return e.interactions.list.push(n),n},listeners:t,docEvents:a,pointerMoveTolerance:1},e.usePlugin(ct.default)},listeners:{"scope:add-document":function(e){return $n(e,"add")},"scope:remove-document":function(e){return $n(e,"remove")},"interactable:unset":function(e,t){for(var n=e.interactable,r=t.interactions.list.length-1;r>=0;r--){var a=t.interactions.list[r];a.interactable===n&&(a.stop(),t.fire("interactions:destroy",{interaction:a}),a.destroy(),t.interactions.list.length>2&&t.interactions.list.splice(r,1))}}},onDocSignal:$n,doOnInteractions:Zn,methodNames:Wn};Nn.default=Jn;var er={};function tr(e){return(tr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function nr(e,t,n){return(nr="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=or(e)););return e}(e,t);if(r){var a=Object.getOwnPropertyDescriptor(r,t);return a.get?a.get.call(n):a.value}})(e,t,n||e)}function rr(e,t){return(rr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ar(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=or(e);if(t){var a=or(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return ir(this,n)}}function ir(e,t){return!t||"object"!==tr(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function or(e){return(or=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function sr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function cr(e,t,n){return t&&lr(e.prototype,t),n&&lr(e,n),e}Object.defineProperty(er,"__esModule",{value:!0}),er.initScope=fr,er.Scope=void 0;var ur=function(){function e(){var t=this;sr(this,e),this.id="__interact_scope_".concat(Math.floor(100*Math.random())),this.isInitialized=!1,this.listenerMaps=[],this.browser=y.default,this.defaults=(0,Mt.default)(Dt.defaults),this.Eventable=hn.Eventable,this.actions={map:{},phases:{start:!0,move:!0,end:!0},methodDict:{},phaselessTypes:{}},this.interactStatic=(0,jn.createInteractStatic)(this),this.InteractEvent=Lt.InteractEvent,this.Interactable=void 0,this.interactables=new Mn.InteractableSet(this),this._win=void 0,this.document=void 0,this.window=void 0,this.documents=[],this._plugins={list:[],map:{}},this.onWindowUnload=function(e){return t.removeDocument(e.target)};var n=this;this.Interactable=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&rr(e,t)}(r,e);var t=ar(r);function r(){return sr(this,r),t.apply(this,arguments)}return cr(r,[{key:"set",value:function(e){return nr(or(r.prototype),"set",this).call(this,e),n.fire("interactable:set",{options:e,interactable:this}),this}},{key:"unset",value:function(){nr(or(r.prototype),"unset",this).call(this),n.interactables.list.splice(n.interactables.list.indexOf(this),1),n.fire("interactable:unset",{interactable:this})}},{key:"_defaults",get:function(){return n.defaults}}]),r}(yn.Interactable)}return cr(e,[{key:"addListeners",value:function(e,t){this.listenerMaps.push({id:t,map:e})}},{key:"fire",value:function(e,t){for(var n=0;n<this.listenerMaps.length;n++){var r=this.listenerMaps[n].map[e];if(r&&!1===r(t,this,e))return!1}}},{key:"init",value:function(e){return this.isInitialized?this:fr(this,e)}},{key:"pluginIsInstalled",value:function(e){return this._plugins.map[e.id]||-1!==this._plugins.list.indexOf(e)}},{key:"usePlugin",value:function(e,t){if(!this.isInitialized)return this;if(this.pluginIsInstalled(e))return this;if(e.id&&(this._plugins.map[e.id]=e),this._plugins.list.push(e),e.install&&e.install(this,t),e.listeners&&e.before){for(var n=0,r=this.listenerMaps.length,a=e.before.reduce((function(e,t){return e[t]=!0,e[pr(t)]=!0,e}),{});n<r;n++){var i=this.listenerMaps[n].id;if(a[i]||a[pr(i)])break}this.listenerMaps.splice(n,0,{id:e.id,map:e.listeners})}else e.listeners&&this.listenerMaps.push({id:e.id,map:e.listeners});return this}},{key:"addDocument",value:function(e,n){if(-1!==this.getDocIndex(e))return!1;var r=t.default.getWindow(e);n=n?(0,P.default)({},n):{},this.documents.push({doc:e,options:n}),this.events.documents.push(e),e!==this.document&&this.events.add(r,"unload",this.onWindowUnload),this.fire("scope:add-document",{doc:e,window:r,scope:this,options:n})}},{key:"removeDocument",value:function(e){var n=this.getDocIndex(e),r=t.default.getWindow(e),a=this.documents[n].options;this.events.remove(r,"unload",this.onWindowUnload),this.documents.splice(n,1),this.events.documents.splice(n,1),this.fire("scope:remove-document",{doc:e,window:r,scope:this,options:a})}},{key:"getDocIndex",value:function(e){for(var t=0;t<this.documents.length;t++)if(this.documents[t].doc===e)return t;return-1}},{key:"getDocOptions",value:function(e){var t=this.getDocIndex(e);return-1===t?null:this.documents[t].options}},{key:"now",value:function(){return(this.window.Date||Date).now()}}]),e}();function fr(e,n){return e.isInitialized=!0,t.default.init(n),v.default.init(n),y.default.init(n),Pe.default.init(n),e.window=n,e.document=n.document,e.usePlugin(Nn.default),e.usePlugin(Rn.default),e}function pr(e){return e&&e.replace(/\/.*$/,"")}er.Scope=ur;var _r={};function dr(e){return(dr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(_r,"__esModule",{value:!0}),_r.init=_r.default=void 0;var hr=new er.Scope,vr=hr.interactStatic;_r.default=vr;var mr=function(e){return hr.init(e)};_r.init=mr,"object"===("undefined"==typeof window?"undefined":dr(window))&&window&&mr(window);var br={};Object.defineProperty(br,"__esModule",{value:!0}),br.default=void 0,br.default=function(){};var gr={};Object.defineProperty(gr,"__esModule",{value:!0}),gr.default=void 0,gr.default=function(){};var yr={};function wr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw i}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Sr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Sr(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Sr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}Object.defineProperty(yr,"__esModule",{value:!0}),yr.default=void 0,yr.default=function(e){var t=[["x","y"],["left","top"],["right","bottom"],["width","height"]].filter((function(t){var n=wr(t,2),r=n[0],a=n[1];return r in e||a in e})),n=function(n,r){for(var a=e.range,i=e.limits,o=void 0===i?{left:-1/0,right:1/0,top:-1/0,bottom:1/0}:i,s=e.offset,l=void 0===s?{x:0,y:0}:s,c={range:a,grid:e,x:null,y:null},u=0;u<t.length;u++){var f=wr(t[u],2),p=f[0],_=f[1],d=Math.round((n-l.x)/e[p]),h=Math.round((r-l.y)/e[_]);c[p]=Math.max(o.left,Math.min(o.right,d*e[p]+l.x)),c[_]=Math.max(o.top,Math.min(o.bottom,h*e[_]+l.y))}return c};return n.grid=e,n.coordFields=t,n};var xr={};Object.defineProperty(xr,"__esModule",{value:!0}),Object.defineProperty(xr,"edgeTarget",{enumerable:!0,get:function(){return br.default}}),Object.defineProperty(xr,"elements",{enumerable:!0,get:function(){return gr.default}}),Object.defineProperty(xr,"grid",{enumerable:!0,get:function(){return yr.default}});var Mr={};Object.defineProperty(Mr,"__esModule",{value:!0}),Mr.default=void 0;var Er={id:"snappers",install:function(e){var t=e.interactStatic;t.snappers=(0,P.default)(t.snappers||{},xr),t.createSnapGrid=t.snappers.grid}};Mr.default=Er;var Ar={};function Rr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function kr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Rr(Object(n),!0).forEach((function(t){Tr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Rr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Tr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(Ar,"__esModule",{value:!0}),Ar.aspectRatio=Ar.default=void 0;var Pr={start:function(e){var t=e.state,n=e.rect,r=e.edges,a=e.pageCoords,i=t.options.ratio,o=t.options,s=o.equalDelta,l=o.modifiers;"preserve"===i&&(i=n.width/n.height),t.startCoords=(0,P.default)({},a),t.startRect=(0,P.default)({},n),t.ratio=i,t.equalDelta=s;var c=t.linkedEdges={top:r.top||r.left&&!r.bottom,left:r.left||r.top&&!r.right,bottom:r.bottom||r.right&&!r.top,right:r.right||r.bottom&&!r.left};if(t.xIsPrimaryAxis=!(!r.left&&!r.right),t.equalDelta)t.edgeSign=(c.left?1:-1)*(c.top?1:-1);else{var u=t.xIsPrimaryAxis?c.top:c.left;t.edgeSign=u?-1:1}if((0,P.default)(e.edges,c),l&&l.length){var f=new Et.default(e.interaction);f.copyFrom(e.interaction.modification),f.prepareStates(l),t.subModification=f,f.startAll(kr({},e))}},set:function(e){var t=e.state,n=e.rect,r=e.coords,a=(0,P.default)({},r),i=t.equalDelta?Br:Or;if(i(t,t.xIsPrimaryAxis,r,n),!t.subModification)return null;var o=(0,P.default)({},n);(0,B.addEdges)(t.linkedEdges,o,{x:r.x-a.x,y:r.y-a.y});var s=t.subModification.setAll(kr(kr({},e),{},{rect:o,edges:t.linkedEdges,pageCoords:r,prevCoords:r,prevRect:o})),l=s.delta;return s.changed&&(i(t,Math.abs(l.x)>Math.abs(l.y),s.coords,s.rect),(0,P.default)(r,s.coords)),s.eventProps},defaults:{ratio:"preserve",equalDelta:!1,modifiers:[],enabled:!1}};function Br(e,t,n){var r=e.startCoords,a=e.edgeSign;t?n.y=r.y+(n.x-r.x)*a:n.x=r.x+(n.y-r.y)*a}function Or(e,t,n,r){var a=e.startRect,i=e.startCoords,o=e.ratio,s=e.edgeSign;if(t){var l=r.width/o;n.y=i.y+(l-a.height)*s}else{var c=r.height*o;n.x=i.x+(c-a.width)*s}}Ar.aspectRatio=Pr;var Ir=(0,Ot.makeModifier)(Pr,"aspectRatio");Ar.default=Ir;var jr={};Object.defineProperty(jr,"__esModule",{value:!0}),jr.default=void 0;var Dr=function(){};Dr._defaults={};var Lr=Dr;jr.default=Lr;var Cr={};Object.defineProperty(Cr,"__esModule",{value:!0}),Object.defineProperty(Cr,"default",{enumerable:!0,get:function(){return jr.default}});var Vr={};function Nr(e,t,n){return o.default.func(e)?B.resolveRectLike(e,t.interactable,t.element,[n.x,n.y,t]):B.resolveRectLike(e,t.interactable,t.element)}Object.defineProperty(Vr,"__esModule",{value:!0}),Vr.getRestrictionRect=Nr,Vr.restrict=Vr.default=void 0;var Hr={start:function(e){var t=e.rect,n=e.startOffset,r=e.state,a=e.interaction,i=e.pageCoords,o=r.options,s=o.elementRect,l=(0,P.default)({left:0,top:0,right:0,bottom:0},o.offset||{});if(t&&s){var c=Nr(o.restriction,a,i);if(c){var u=c.right-c.left-t.width,f=c.bottom-c.top-t.height;u<0&&(l.left+=u,l.right+=u),f<0&&(l.top+=f,l.bottom+=f)}l.left+=n.left-t.width*s.left,l.top+=n.top-t.height*s.top,l.right+=n.right-t.width*(1-s.right),l.bottom+=n.bottom-t.height*(1-s.bottom)}r.offset=l},set:function(e){var t=e.coords,n=e.interaction,r=e.state,a=r.options,i=r.offset,o=Nr(a.restriction,n,t);if(o){var s=B.xywhToTlbr(o);t.x=Math.max(Math.min(s.right-i.right,t.x),s.left+i.left),t.y=Math.max(Math.min(s.bottom-i.bottom,t.y),s.top+i.top)}},defaults:{restriction:null,elementRect:null,offset:null,endOnly:!1,enabled:!1}};Vr.restrict=Hr;var Xr=(0,Ot.makeModifier)(Hr,"restrict");Vr.default=Xr;var Fr={};Object.defineProperty(Fr,"__esModule",{value:!0}),Fr.restrictEdges=Fr.default=void 0;var zr={top:1/0,left:1/0,bottom:-1/0,right:-1/0},qr={top:-1/0,left:-1/0,bottom:1/0,right:1/0};function Yr(e,t){for(var n=["top","left","bottom","right"],r=0;r<n.length;r++){var a=n[r];a in e||(e[a]=t[a])}return e}var Ur={noInner:zr,noOuter:qr,start:function(e){var t,n=e.interaction,r=e.startOffset,a=e.state,i=a.options;if(i){var o=(0,Vr.getRestrictionRect)(i.offset,n,n.coords.start.page);t=B.rectToXY(o)}t=t||{x:0,y:0},a.offset={top:t.y+r.top,left:t.x+r.left,bottom:t.y-r.bottom,right:t.x-r.right}},set:function(e){var t=e.coords,n=e.edges,r=e.interaction,a=e.state,i=a.offset,o=a.options;if(n){var s=(0,P.default)({},t),l=(0,Vr.getRestrictionRect)(o.inner,r,s)||{},c=(0,Vr.getRestrictionRect)(o.outer,r,s)||{};Yr(l,zr),Yr(c,qr),n.top?t.y=Math.min(Math.max(c.top+i.top,s.y),l.top+i.top):n.bottom&&(t.y=Math.max(Math.min(c.bottom+i.bottom,s.y),l.bottom+i.bottom)),n.left?t.x=Math.min(Math.max(c.left+i.left,s.x),l.left+i.left):n.right&&(t.x=Math.max(Math.min(c.right+i.right,s.x),l.right+i.right))}},defaults:{inner:null,outer:null,offset:null,endOnly:!1,enabled:!1}};Fr.restrictEdges=Ur;var Gr=(0,Ot.makeModifier)(Ur,"restrictEdges");Fr.default=Gr;var Kr={};Object.defineProperty(Kr,"__esModule",{value:!0}),Kr.restrictRect=Kr.default=void 0;var Wr=(0,P.default)({get elementRect(){return{top:0,left:0,bottom:1,right:1}},set elementRect(e){}},Vr.restrict.defaults),Zr={start:Vr.restrict.start,set:Vr.restrict.set,defaults:Wr};Kr.restrictRect=Zr;var Qr=(0,Ot.makeModifier)(Zr,"restrictRect");Kr.default=Qr;var $r={};Object.defineProperty($r,"__esModule",{value:!0}),$r.restrictSize=$r.default=void 0;var Jr={width:-1/0,height:-1/0},ea={width:1/0,height:1/0},ta={start:function(e){return Fr.restrictEdges.start(e)},set:function(e){var t=e.interaction,n=e.state,r=e.rect,a=e.edges,i=n.options;if(a){var o=B.tlbrToXywh((0,Vr.getRestrictionRect)(i.min,t,e.coords))||Jr,s=B.tlbrToXywh((0,Vr.getRestrictionRect)(i.max,t,e.coords))||ea;n.options={endOnly:i.endOnly,inner:(0,P.default)({},Fr.restrictEdges.noInner),outer:(0,P.default)({},Fr.restrictEdges.noOuter)},a.top?(n.options.inner.top=r.bottom-o.height,n.options.outer.top=r.bottom-s.height):a.bottom&&(n.options.inner.bottom=r.top+o.height,n.options.outer.bottom=r.top+s.height),a.left?(n.options.inner.left=r.right-o.width,n.options.outer.left=r.right-s.width):a.right&&(n.options.inner.right=r.left+o.width,n.options.outer.right=r.left+s.width),Fr.restrictEdges.set(e),n.options=i}},defaults:{min:null,max:null,endOnly:!1,enabled:!1}};$r.restrictSize=ta;var na=(0,Ot.makeModifier)(ta,"restrictSize");$r.default=na;var ra={};Object.defineProperty(ra,"__esModule",{value:!0}),Object.defineProperty(ra,"default",{enumerable:!0,get:function(){return jr.default}});var aa={};Object.defineProperty(aa,"__esModule",{value:!0}),aa.snap=aa.default=void 0;var ia={start:function(e){var t,n=e.interaction,r=e.interactable,a=e.element,i=e.rect,o=e.state,s=e.startOffset,l=o.options,c=l.offsetWithOrigin?function(e){var t=e.interaction.element;return(0,B.rectToXY)((0,B.resolveRectLike)(e.state.options.origin,null,null,[t]))||(0,j.default)(e.interactable,t,e.interaction.prepared.name)}(e):{x:0,y:0};if("startCoords"===l.offset)t={x:n.coords.start.page.x,y:n.coords.start.page.y};else{var u=(0,B.resolveRectLike)(l.offset,r,a,[n]);(t=(0,B.rectToXY)(u)||{x:0,y:0}).x+=c.x,t.y+=c.y}var f=l.relativePoints;o.offsets=i&&f&&f.length?f.map((function(e,n){return{index:n,relativePoint:e,x:s.left-i.width*e.x+t.x,y:s.top-i.height*e.y+t.y}})):[(0,P.default)({index:0,relativePoint:null},t)]},set:function(e){var t=e.interaction,n=e.coords,r=e.state,a=r.options,i=r.offsets,s=(0,j.default)(t.interactable,t.element,t.prepared.name),l=(0,P.default)({},n),c=[];a.offsetWithOrigin||(l.x-=s.x,l.y-=s.y);for(var u=0;u<i.length;u++)for(var f=i[u],p=l.x-f.x,_=l.y-f.y,d=0,h=a.targets.length;d<h;d++){var v=a.targets[d],m=void 0;(m=o.default.func(v)?v(p,_,t._proxy,f,d):v)&&c.push({x:(o.default.number(m.x)?m.x:p)+f.x,y:(o.default.number(m.y)?m.y:_)+f.y,range:o.default.number(m.range)?m.range:a.range,source:v,index:d,offset:f})}for(var b={target:null,inRange:!1,distance:0,range:0,delta:{x:0,y:0}},g=0;g<c.length;g++){var y=c[g],w=y.range,S=y.x-l.x,x=y.y-l.y,M=(0,C.default)(S,x),E=M<=w;w===1/0&&b.inRange&&b.range!==1/0&&(E=!1),b.target&&!(E?b.inRange&&w!==1/0?M/w<b.distance/b.range:w===1/0&&b.range!==1/0||M<b.distance:!b.inRange&&M<b.distance)||(b.target=y,b.distance=M,b.range=w,b.inRange=E,b.delta.x=S,b.delta.y=x)}return b.inRange&&(n.x=b.target.x,n.y=b.target.y),r.closest=b,b},defaults:{range:1/0,targets:null,offset:null,offsetWithOrigin:!0,origin:null,relativePoints:null,endOnly:!1,enabled:!1}};aa.snap=ia;var oa=(0,Ot.makeModifier)(ia,"snap");aa.default=oa;var sa={};function la(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw i}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ca(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ca(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ca(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}Object.defineProperty(sa,"__esModule",{value:!0}),sa.snapSize=sa.default=void 0;var ua={start:function(e){var t=e.state,n=e.edges,r=t.options;if(!n)return null;e.state={options:{targets:null,relativePoints:[{x:n.left?0:1,y:n.top?0:1}],offset:r.offset||"self",origin:{x:0,y:0},range:r.range}},t.targetFields=t.targetFields||[["width","height"],["x","y"]],aa.snap.start(e),t.offsets=e.state.offsets,e.state=t},set:function(e){var t=e.interaction,n=e.state,r=e.coords,a=n.options,i=n.offsets,s={x:r.x-i[0].x,y:r.y-i[0].y};n.options=(0,P.default)({},a),n.options.targets=[];for(var l=0;l<(a.targets||[]).length;l++){var c=(a.targets||[])[l],u=void 0;if(u=o.default.func(c)?c(s.x,s.y,t):c){for(var f=0;f<n.targetFields.length;f++){var p=la(n.targetFields[f],2),_=p[0],d=p[1];if(_ in u||d in u){u.x=u[_],u.y=u[d];break}}n.options.targets.push(u)}}var h=aa.snap.set(e);return n.options=a,h},defaults:{range:1/0,targets:null,offset:null,endOnly:!1,enabled:!1}};sa.snapSize=ua;var fa=(0,Ot.makeModifier)(ua,"snapSize");sa.default=fa;var pa={};Object.defineProperty(pa,"__esModule",{value:!0}),pa.snapEdges=pa.default=void 0;var _a={start:function(e){var t=e.edges;return t?(e.state.targetFields=e.state.targetFields||[[t.left?"left":"right",t.top?"top":"bottom"]],sa.snapSize.start(e)):null},set:sa.snapSize.set,defaults:(0,P.default)((0,Mt.default)(sa.snapSize.defaults),{targets:null,range:null,offset:{x:0,y:0}})};pa.snapEdges=_a;var da=(0,Ot.makeModifier)(_a,"snapEdges");pa.default=da;var ha={};Object.defineProperty(ha,"__esModule",{value:!0}),Object.defineProperty(ha,"default",{enumerable:!0,get:function(){return jr.default}});var va={};Object.defineProperty(va,"__esModule",{value:!0}),Object.defineProperty(va,"default",{enumerable:!0,get:function(){return jr.default}});var ma={};Object.defineProperty(ma,"__esModule",{value:!0}),ma.default=void 0;var ba={aspectRatio:Ar.default,restrictEdges:Fr.default,restrict:Vr.default,restrictRect:Kr.default,restrictSize:$r.default,snapEdges:pa.default,snap:aa.default,snapSize:sa.default,spring:ha.default,avoid:Cr.default,transform:va.default,rubberband:ra.default};ma.default=ba;var ga={};Object.defineProperty(ga,"__esModule",{value:!0}),ga.default=void 0;var ya={id:"modifiers",install:function(e){var t=e.interactStatic;for(var n in e.usePlugin(Ot.default),e.usePlugin(Mr.default),t.modifiers=ma.default,ma.default){var r=ma.default[n],a=r._defaults,i=r._methods;a._methods=i,e.defaults.perAction[n]=a}}};ga.default=ya;var wa={};Object.defineProperty(wa,"__esModule",{value:!0}),wa.default=void 0,wa.default={};var Sa={};function xa(e){return(xa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ma(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ea(e,t){return(Ea=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Aa(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ta(e);if(t){var a=Ta(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Ra(this,n)}}function Ra(e,t){return!t||"object"!==xa(t)&&"function"!=typeof t?ka(e):t}function ka(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ta(e){return(Ta=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}Object.defineProperty(Sa,"__esModule",{value:!0}),Sa.PointerEvent=Sa.default=void 0;var Pa=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ea(e,t)}(i,e);var t,n,r,a=Aa(i);function i(e,t,n,r,o,s){var l;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(l=a.call(this,o)).type=void 0,l.originalEvent=void 0,l.pointerId=void 0,l.pointerType=void 0,l.double=void 0,l.pageX=void 0,l.pageY=void 0,l.clientX=void 0,l.clientY=void 0,l.dt=void 0,l.eventable=void 0,X.pointerExtend(ka(l),n),n!==t&&X.pointerExtend(ka(l),t),l.timeStamp=s,l.originalEvent=n,l.type=e,l.pointerId=X.getPointerId(t),l.pointerType=X.getPointerType(t),l.target=r,l.currentTarget=null,"tap"===e){var c=o.getPointerIndex(t);l.dt=l.timeStamp-o.pointers[c].downTime;var u=l.timeStamp-o.tapTime;l.double=!!(o.prevTap&&"doubletap"!==o.prevTap.type&&o.prevTap.target===l.target&&u<500)}else"doubletap"===e&&(l.dt=t.timeStamp-o.tapTime);return l}return t=i,(n=[{key:"_subtractOrigin",value:function(e){var t=e.x,n=e.y;return this.pageX-=t,this.pageY-=n,this.clientX-=t,this.clientY-=n,this}},{key:"_addOrigin",value:function(e){var t=e.x,n=e.y;return this.pageX+=t,this.pageY+=n,this.clientX+=t,this.clientY+=n,this}},{key:"preventDefault",value:function(){this.originalEvent.preventDefault()}}])&&Ma(t.prototype,n),r&&Ma(t,r),i}(K.default);Sa.PointerEvent=Sa.default=Pa;var Ba={};Object.defineProperty(Ba,"__esModule",{value:!0}),Ba.default=void 0;var Oa={id:"pointer-events/base",before:["inertia","modifiers","auto-start","actions"],install:function(e){e.pointerEvents=Oa,e.defaults.actions.pointerEvents=Oa.defaults,(0,P.default)(e.actions.phaselessTypes,Oa.types)},listeners:{"interactions:new":function(e){var t=e.interaction;t.prevTap=null,t.tapTime=0},"interactions:update-pointer":function(e){var t=e.down,n=e.pointerInfo;!t&&n.hold||(n.hold={duration:1/0,timeout:null})},"interactions:move":function(e,t){var n=e.interaction,r=e.pointer,a=e.event,i=e.eventTarget,o=e.duplicate,s=n.getPointerIndex(r);o||n.pointerIsDown&&!n.pointerWasMoved||(n.pointerIsDown&&clearTimeout(n.pointers[s].hold.timeout),Ia({interaction:n,pointer:r,event:a,eventTarget:i,type:"move"},t))},"interactions:down":function(e,t){!function(e,t){for(var n=e.interaction,r=e.pointer,a=e.event,i=e.eventTarget,o=e.pointerIndex,s=n.pointers[o].hold,l=x.getPath(i),c={interaction:n,pointer:r,event:a,eventTarget:i,type:"hold",targets:[],path:l,node:null},u=0;u<l.length;u++){var f=l[u];c.node=f,t.fire("pointerEvents:collect-targets",c)}if(c.targets.length){for(var p=1/0,_=0;_<c.targets.length;_++){var d=c.targets[_].eventable.options.holdDuration;d<p&&(p=d)}s.duration=p,s.timeout=setTimeout((function(){Ia({interaction:n,eventTarget:i,pointer:r,event:a,type:"hold"},t)}),p)}}(e,t),Ia(e,t)},"interactions:up":function(e,t){Da(e),Ia(e,t),function(e,t){var n=e.interaction,r=e.pointer,a=e.event,i=e.eventTarget;n.pointerWasMoved||Ia({interaction:n,eventTarget:i,pointer:r,event:a,type:"tap"},t)}(e,t)},"interactions:cancel":function(e,t){Da(e),Ia(e,t)}},PointerEvent:Sa.PointerEvent,fire:Ia,collectEventTargets:ja,defaults:{holdDuration:600,ignoreFrom:null,allowFrom:null,origin:{x:0,y:0}},types:{down:!0,move:!0,up:!0,cancel:!0,tap:!0,doubletap:!0,hold:!0}};function Ia(e,t){var n=e.interaction,r=e.pointer,a=e.event,i=e.eventTarget,o=e.type,s=e.targets,l=void 0===s?ja(e,t):s,c=new Sa.PointerEvent(o,r,a,i,n,t.now());t.fire("pointerEvents:new",{pointerEvent:c});for(var u={interaction:n,pointer:r,event:a,eventTarget:i,targets:l,type:o,pointerEvent:c},f=0;f<l.length;f++){var p=l[f];for(var _ in p.props||{})c[_]=p.props[_];var d=(0,j.default)(p.eventable,p.node);if(c._subtractOrigin(d),c.eventable=p.eventable,c.currentTarget=p.node,p.eventable.fire(c),c._addOrigin(d),c.immediatePropagationStopped||c.propagationStopped&&f+1<l.length&&l[f+1].node!==c.currentTarget)break}if(t.fire("pointerEvents:fired",u),"tap"===o){var h=c.double?Ia({interaction:n,pointer:r,event:a,eventTarget:i,type:"doubletap"},t):c;n.prevTap=h,n.tapTime=h.timeStamp}return c}function ja(e,t){var n=e.interaction,r=e.pointer,a=e.event,i=e.eventTarget,o=e.type,s=n.getPointerIndex(r),l=n.pointers[s];if("tap"===o&&(n.pointerWasMoved||!l||l.downTarget!==i))return[];for(var c=x.getPath(i),u={interaction:n,pointer:r,event:a,eventTarget:i,type:o,path:c,targets:[],node:null},f=0;f<c.length;f++){var p=c[f];u.node=p,t.fire("pointerEvents:collect-targets",u)}return"hold"===o&&(u.targets=u.targets.filter((function(e){return e.eventable.options.holdDuration===n.pointers[s].hold.duration}))),u.targets}function Da(e){var t=e.interaction,n=e.pointerIndex;t.pointers[n].hold&&clearTimeout(t.pointers[n].hold.timeout)}var La=Oa;Ba.default=La;var Ca={};function Va(e){var t=e.interaction;t.holdIntervalHandle&&(clearInterval(t.holdIntervalHandle),t.holdIntervalHandle=null)}Object.defineProperty(Ca,"__esModule",{value:!0}),Ca.default=void 0;var Na={id:"pointer-events/holdRepeat",install:function(e){e.usePlugin(Ba.default);var t=e.pointerEvents;t.defaults.holdRepeatInterval=0,t.types.holdrepeat=e.actions.phaselessTypes.holdrepeat=!0},listeners:["move","up","cancel","endall"].reduce((function(e,t){return e["pointerEvents:".concat(t)]=Va,e}),{"pointerEvents:new":function(e){var t=e.pointerEvent;"hold"===t.type&&(t.count=(t.count||0)+1)},"pointerEvents:fired":function(e,t){var n=e.interaction,r=e.pointerEvent,a=e.eventTarget,i=e.targets;if("hold"===r.type&&i.length){var o=i[0].eventable.options.holdRepeatInterval;o<=0||(n.holdIntervalHandle=setTimeout((function(){t.pointerEvents.fire({interaction:n,eventTarget:a,type:"hold",pointer:r,event:r},t)}),o))}}})};Ca.default=Na;var Ha={};function Xa(e){return(0,P.default)(this.events.options,e),this}Object.defineProperty(Ha,"__esModule",{value:!0}),Ha.default=void 0;var Fa={id:"pointer-events/interactableTargets",install:function(e){var t=e.Interactable;t.prototype.pointerEvents=Xa;var n=t.prototype._backCompatOption;t.prototype._backCompatOption=function(e,t){var r=n.call(this,e,t);return r===this&&(this.events.options[e]=t),r}},listeners:{"pointerEvents:collect-targets":function(e,t){var n=e.targets,r=e.node,a=e.type,i=e.eventTarget;t.interactables.forEachMatch(r,(function(e){var t=e.events,o=t.options;t.types[a]&&t.types[a].length&&e.testIgnoreAllow(o,r,i)&&n.push({node:r,eventable:t,props:{interactable:e}})}))},"interactable:new":function(e){var t=e.interactable;t.events.getRect=function(e){return t.getRect(e)}},"interactable:set":function(e,t){var n=e.interactable,r=e.options;(0,P.default)(n.events.options,t.pointerEvents.defaults),(0,P.default)(n.events.options,r.pointerEvents||{})}}};Ha.default=Fa;var za={};Object.defineProperty(za,"__esModule",{value:!0}),Object.defineProperty(za,"holdRepeat",{enumerable:!0,get:function(){return Ca.default}}),Object.defineProperty(za,"interactableTargets",{enumerable:!0,get:function(){return Ha.default}}),za.pointerEvents=za.default=void 0,za.pointerEvents=Ba;var qa={id:"pointer-events",install:function(e){e.usePlugin(Ba),e.usePlugin(Ca.default),e.usePlugin(Ha.default)}};za.default=qa;var Ya={};Object.defineProperty(Ya,"__esModule",{value:!0}),Ya.default=void 0,Ya.default={};var Ua={};function Ga(e){var t=e.Interactable;e.actions.phases.reflow=!0,t.prototype.reflow=function(t){return function(e,t,n){for(var r=o.default.string(e.target)?$.from(e._context.querySelectorAll(e.target)):[e.target],a=n.window.Promise,i=a?[]:null,s=function(){var o=r[l],s=e.getRect(o);if(!s)return"break";var c=$.find(n.interactions.list,(function(n){return n.interacting()&&n.interactable===e&&n.element===o&&n.prepared.name===t.name})),u=void 0;if(c)c.move(),i&&(u=c._reflowPromise||new a((function(e){c._reflowResolve=e})));else{var f=(0,B.tlbrToXywh)(s),p={page:{x:f.x,y:f.y},client:{x:f.x,y:f.y},timeStamp:n.now()},_=X.coordsToEvent(p);u=function(e,t,n,r,a){var i=e.interactions.new({pointerType:"reflow"}),o={interaction:i,event:a,pointer:a,eventTarget:n,phase:"reflow"};i.interactable=t,i.element=n,i.prepared=(0,P.default)({},r),i.prevEvent=a,i.updatePointer(a,a,n,!0),i._doPhase(o);var s=e.window.Promise,l=s?new s((function(e){i._reflowResolve=e})):null;return i._reflowPromise=l,i.start(r,t,n),i._interacting?(i.move(o),i.end(a)):i.stop(),i.removePointer(a,a),i.pointerIsDown=!1,l}(n,e,o,t,_)}i&&i.push(u)},l=0;l<r.length;l++)if("break"===s())break;return i&&a.all(i).then((function(){return e}))}(this,t,e)}}Object.defineProperty(Ua,"__esModule",{value:!0}),Ua.install=Ga,Ua.default=void 0;var Ka={id:"reflow",install:Ga,listeners:{"interactions:stop":function(e,t){var n=e.interaction;"reflow"===n.pointerType&&(n._reflowResolve&&n._reflowResolve(),$.remove(t.interactions.list,n))}}};Ua.default=Ka;var Wa={};Object.defineProperty(Wa,"__esModule",{value:!0}),Wa.default=void 0,Wa.default={};var Za={};Object.defineProperty(Za,"__esModule",{value:!0}),Za.exchange=void 0,Za.exchange={};var Qa={};Object.defineProperty(Qa,"__esModule",{value:!0}),Qa.default=void 0,Qa.default={};var $a={exports:{}};function Ja(e){return(Ja="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty($a.exports,"__esModule",{value:!0}),$a.exports.default=void 0,_r.default.use(wa.default),_r.default.use(ct.default),_r.default.use(en.default),_r.default.use(lt.default),_r.default.use(Te.default),_r.default.use(za.default),_r.default.use(ln.default),_r.default.use(ga.default),_r.default.use(ot.default),_r.default.use(Re.default),_r.default.use(De.default),_r.default.use(Ua.default),_r.default.use(xt.default),_r.default.use(Qa.default),_r.default.use(Ya.default),_r.default.__utils={exchange:Za.exchange,displace:Wa,pointer:X},_r.default.use(ht.default);var ei=_r.default;if($a.exports.default=ei,"object"===Ja($a)&&$a)try{$a.exports=_r.default}catch(e){}_r.default.default=_r.default,$a=$a.exports;var ti={exports:{}};function ni(e){return(ni="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(ti.exports,"__esModule",{value:!0}),ti.exports.default=void 0;var ri=$a.default;if(ti.exports.default=ri,"object"===ni(ti)&&ti)try{ti.exports=$a.default}catch(e){}return $a.default.default=$a.default,ti.exports}))},"574a":function(e,t,n){var r=n("74ce"),a=n("6858"),i=[32,40,48,56,64,96,128,192,256,320];e.exports=function(e,t,n,o){if(!t||"WAV"===t)return r(e,o);if(t=~~t,-1===i.indexOf(t))throw new Error("Invalid encoding");return a(e,{bitrate:t},n,o)}},5899:function(e,t){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(e,t,n){var r=n("1d80"),a=n("5899"),i="["+a+"]",o=RegExp("^"+i+i+"*"),s=RegExp(i+i+"*$"),l=function(e){return function(t){var n=String(r(t));return 1&e&&(n=n.replace(o,"")),2&e&&(n=n.replace(s,"")),n}};e.exports={start:l(1),end:l(2),trim:l(3)}},"58b1":function(e,t,n){var r=n("0206"),a=r.assert;function i(){var e;this.setModules=function(t){e=t},this.ResvFrameBegin=function(t,n){var r,i=t.internal_flags,o=i.l3_side,s=e.getframebits(t);n.bits=(s-8*i.sideinfo_len)/i.mode_gr;var l=2048*i.mode_gr-8;t.brate>320?r=8*int(1e3*t.brate/(t.out_samplerate/1152)/8+.5):(r=11520,t.strict_ISO&&(r=8*int(32e4/(t.out_samplerate/1152)/8+.5))),i.ResvMax=r-s,i.ResvMax>l&&(i.ResvMax=l),(i.ResvMax<0||t.disable_reservoir)&&(i.ResvMax=0);var c=n.bits*i.mode_gr+Math.min(i.ResvSize,i.ResvMax);return c>r&&(c=r),a(0==i.ResvMax%8),a(i.ResvMax>=0),o.resvDrain_pre=0,null!=i.pinfo&&(i.pinfo.mean_bits=n.bits/2,i.pinfo.resvsize=i.ResvSize),c},this.ResvMaxBits=function(e,t,n,r){var a,i=e.internal_flags,o=i.ResvSize,s=i.ResvMax;0!=r&&(o+=t),0!=(1&i.substep_shaping)&&(s*=.9),n.bits=t,10*o>9*s?(a=o-9*s/10,n.bits+=a,i.substep_shaping|=128):(a=0,i.substep_shaping&=127,e.disable_reservoir||0!=(1&i.substep_shaping)||(n.bits-=.1*t));var l=o<6*i.ResvMax/10?o:6*i.ResvMax/10;return l-=a,l<0&&(l=0),l},this.ResvAdjust=function(e,t){e.ResvSize-=t.part2_3_length+t.part2_length},this.ResvFrameEnd=function(e,t){var n,r=e.l3_side;e.ResvSize+=t*e.mode_gr;var i=0;r.resvDrain_post=0,r.resvDrain_pre=0,0!=(n=e.ResvSize%8)&&(i+=n),n=e.ResvSize-i-e.ResvMax,n>0&&(a(0==n%8),a(n>=0),i+=n);var o=Math.min(8*r.main_data_begin,i)/8;r.resvDrain_pre+=8*o,i-=8*o,e.ResvSize-=8*o,r.main_data_begin-=o,r.resvDrain_post+=i,e.ResvSize-=i}}e.exports=i},"5f84":function(e,t){function n(e,t,n,r){this.xlen=e,this.linmax=t,this.table=n,this.hlen=r}var r={t1HB:[1,1,1,0],t2HB:[1,2,1,3,1,1,3,2,0],t3HB:[3,2,1,1,1,1,3,2,0],t5HB:[1,2,6,5,3,1,4,4,7,5,7,1,6,1,1,0],t6HB:[7,3,5,1,6,2,3,2,5,4,4,1,3,3,2,0],t7HB:[1,2,10,19,16,10,3,3,7,10,5,3,11,4,13,17,8,4,12,11,18,15,11,2,7,6,9,14,3,1,6,4,5,3,2,0],t8HB:[3,4,6,18,12,5,5,1,2,16,9,3,7,3,5,14,7,3,19,17,15,13,10,4,13,5,8,11,5,1,12,4,4,1,1,0],t9HB:[7,5,9,14,15,7,6,4,5,5,6,7,7,6,8,8,8,5,15,6,9,10,5,1,11,7,9,6,4,1,14,4,6,2,6,0],t10HB:[1,2,10,23,35,30,12,17,3,3,8,12,18,21,12,7,11,9,15,21,32,40,19,6,14,13,22,34,46,23,18,7,20,19,33,47,27,22,9,3,31,22,41,26,21,20,5,3,14,13,10,11,16,6,5,1,9,8,7,8,4,4,2,0],t11HB:[3,4,10,24,34,33,21,15,5,3,4,10,32,17,11,10,11,7,13,18,30,31,20,5,25,11,19,59,27,18,12,5,35,33,31,58,30,16,7,5,28,26,32,19,17,15,8,14,14,12,9,13,14,9,4,1,11,4,6,6,6,3,2,0],t12HB:[9,6,16,33,41,39,38,26,7,5,6,9,23,16,26,11,17,7,11,14,21,30,10,7,17,10,15,12,18,28,14,5,32,13,22,19,18,16,9,5,40,17,31,29,17,13,4,2,27,12,11,15,10,7,4,1,27,12,8,12,6,3,1,0],t13HB:[1,5,14,21,34,51,46,71,42,52,68,52,67,44,43,19,3,4,12,19,31,26,44,33,31,24,32,24,31,35,22,14,15,13,23,36,59,49,77,65,29,40,30,40,27,33,42,16,22,20,37,61,56,79,73,64,43,76,56,37,26,31,25,14,35,16,60,57,97,75,114,91,54,73,55,41,48,53,23,24,58,27,50,96,76,70,93,84,77,58,79,29,74,49,41,17,47,45,78,74,115,94,90,79,69,83,71,50,59,38,36,15,72,34,56,95,92,85,91,90,86,73,77,65,51,44,43,42,43,20,30,44,55,78,72,87,78,61,46,54,37,30,20,16,53,25,41,37,44,59,54,81,66,76,57,54,37,18,39,11,35,33,31,57,42,82,72,80,47,58,55,21,22,26,38,22,53,25,23,38,70,60,51,36,55,26,34,23,27,14,9,7,34,32,28,39,49,75,30,52,48,40,52,28,18,17,9,5,45,21,34,64,56,50,49,45,31,19,12,15,10,7,6,3,48,23,20,39,36,35,53,21,16,23,13,10,6,1,4,2,16,15,17,27,25,20,29,11,17,12,16,8,1,1,0,1],t15HB:[7,12,18,53,47,76,124,108,89,123,108,119,107,81,122,63,13,5,16,27,46,36,61,51,42,70,52,83,65,41,59,36,19,17,15,24,41,34,59,48,40,64,50,78,62,80,56,33,29,28,25,43,39,63,55,93,76,59,93,72,54,75,50,29,52,22,42,40,67,57,95,79,72,57,89,69,49,66,46,27,77,37,35,66,58,52,91,74,62,48,79,63,90,62,40,38,125,32,60,56,50,92,78,65,55,87,71,51,73,51,70,30,109,53,49,94,88,75,66,122,91,73,56,42,64,44,21,25,90,43,41,77,73,63,56,92,77,66,47,67,48,53,36,20,71,34,67,60,58,49,88,76,67,106,71,54,38,39,23,15,109,53,51,47,90,82,58,57,48,72,57,41,23,27,62,9,86,42,40,37,70,64,52,43,70,55,42,25,29,18,11,11,118,68,30,55,50,46,74,65,49,39,24,16,22,13,14,7,91,44,39,38,34,63,52,45,31,52,28,19,14,8,9,3,123,60,58,53,47,43,32,22,37,24,17,12,15,10,2,1,71,37,34,30,28,20,17,26,21,16,10,6,8,6,2,0],t16HB:[1,5,14,44,74,63,110,93,172,149,138,242,225,195,376,17,3,4,12,20,35,62,53,47,83,75,68,119,201,107,207,9,15,13,23,38,67,58,103,90,161,72,127,117,110,209,206,16,45,21,39,69,64,114,99,87,158,140,252,212,199,387,365,26,75,36,68,65,115,101,179,164,155,264,246,226,395,382,362,9,66,30,59,56,102,185,173,265,142,253,232,400,388,378,445,16,111,54,52,100,184,178,160,133,257,244,228,217,385,366,715,10,98,48,91,88,165,157,148,261,248,407,397,372,380,889,884,8,85,84,81,159,156,143,260,249,427,401,392,383,727,713,708,7,154,76,73,141,131,256,245,426,406,394,384,735,359,710,352,11,139,129,67,125,247,233,229,219,393,743,737,720,885,882,439,4,243,120,118,115,227,223,396,746,742,736,721,712,706,223,436,6,202,224,222,218,216,389,386,381,364,888,443,707,440,437,1728,4,747,211,210,208,370,379,734,723,714,1735,883,877,876,3459,865,2,377,369,102,187,726,722,358,711,709,866,1734,871,3458,870,434,0,12,10,7,11,10,17,11,9,13,12,10,7,5,3,1,3],t24HB:[15,13,46,80,146,262,248,434,426,669,653,649,621,517,1032,88,14,12,21,38,71,130,122,216,209,198,327,345,319,297,279,42,47,22,41,74,68,128,120,221,207,194,182,340,315,295,541,18,81,39,75,70,134,125,116,220,204,190,178,325,311,293,271,16,147,72,69,135,127,118,112,210,200,188,352,323,306,285,540,14,263,66,129,126,119,114,214,202,192,180,341,317,301,281,262,12,249,123,121,117,113,215,206,195,185,347,330,308,291,272,520,10,435,115,111,109,211,203,196,187,353,332,313,298,283,531,381,17,427,212,208,205,201,193,186,177,169,320,303,286,268,514,377,16,335,199,197,191,189,181,174,333,321,305,289,275,521,379,371,11,668,184,183,179,175,344,331,314,304,290,277,530,383,373,366,10,652,346,171,168,164,318,309,299,287,276,263,513,375,368,362,6,648,322,316,312,307,302,292,284,269,261,512,376,370,364,359,4,620,300,296,294,288,282,273,266,515,380,374,369,365,361,357,2,1033,280,278,274,267,264,259,382,378,372,367,363,360,358,356,0,43,20,19,17,15,13,11,9,7,6,4,7,5,3,1,3],t32HB:[1,10,8,20,12,20,16,32,14,12,24,0,28,16,24,16],t33HB:[15,28,26,48,22,40,36,64,14,24,20,32,12,16,8,0],t1l:[1,4,3,5],t2l:[1,4,7,4,5,7,6,7,8],t3l:[2,3,7,4,4,7,6,7,8],t5l:[1,4,7,8,4,5,8,9,7,8,9,10,8,8,9,10],t6l:[3,4,6,8,4,4,6,7,5,6,7,8,7,7,8,9],t7l:[1,4,7,9,9,10,4,6,8,9,9,10,7,7,9,10,10,11,8,9,10,11,11,11,8,9,10,11,11,12,9,10,11,12,12,12],t8l:[2,4,7,9,9,10,4,4,6,10,10,10,7,6,8,10,10,11,9,10,10,11,11,12,9,9,10,11,12,12,10,10,11,11,13,13],t9l:[3,4,6,7,9,10,4,5,6,7,8,10,5,6,7,8,9,10,7,7,8,9,9,10,8,8,9,9,10,11,9,9,10,10,11,11],t10l:[1,4,7,9,10,10,10,11,4,6,8,9,10,11,10,10,7,8,9,10,11,12,11,11,8,9,10,11,12,12,11,12,9,10,11,12,12,12,12,12,10,11,12,12,13,13,12,13,9,10,11,12,12,12,13,13,10,10,11,12,12,13,13,13],t11l:[2,4,6,8,9,10,9,10,4,5,6,8,10,10,9,10,6,7,8,9,10,11,10,10,8,8,9,11,10,12,10,11,9,10,10,11,11,12,11,12,9,10,11,12,12,13,12,13,9,9,9,10,11,12,12,12,9,9,10,11,12,12,12,12],t12l:[4,4,6,8,9,10,10,10,4,5,6,7,9,9,10,10,6,6,7,8,9,10,9,10,7,7,8,8,9,10,10,10,8,8,9,9,10,10,10,11,9,9,10,10,10,11,10,11,9,9,9,10,10,11,11,12,10,10,10,11,11,11,11,12],t13l:[1,5,7,8,9,10,10,11,10,11,12,12,13,13,14,14,4,6,8,9,10,10,11,11,11,11,12,12,13,14,14,14,7,8,9,10,11,11,12,12,11,12,12,13,13,14,15,15,8,9,10,11,11,12,12,12,12,13,13,13,13,14,15,15,9,9,11,11,12,12,13,13,12,13,13,14,14,15,15,16,10,10,11,12,12,12,13,13,13,13,14,13,15,15,16,16,10,11,12,12,13,13,13,13,13,14,14,14,15,15,16,16,11,11,12,13,13,13,14,14,14,14,15,15,15,16,18,18,10,10,11,12,12,13,13,14,14,14,14,15,15,16,17,17,11,11,12,12,13,13,13,15,14,15,15,16,16,16,18,17,11,12,12,13,13,14,14,15,14,15,16,15,16,17,18,19,12,12,12,13,14,14,14,14,15,15,15,16,17,17,17,18,12,13,13,14,14,15,14,15,16,16,17,17,17,18,18,18,13,13,14,15,15,15,16,16,16,16,16,17,18,17,18,18,14,14,14,15,15,15,17,16,16,19,17,17,17,19,18,18,13,14,15,16,16,16,17,16,17,17,18,18,21,20,21,18],t15l:[3,5,6,8,8,9,10,10,10,11,11,12,12,12,13,14,5,5,7,8,9,9,10,10,10,11,11,12,12,12,13,13,6,7,7,8,9,9,10,10,10,11,11,12,12,13,13,13,7,8,8,9,9,10,10,11,11,11,12,12,12,13,13,13,8,8,9,9,10,10,11,11,11,11,12,12,12,13,13,13,9,9,9,10,10,10,11,11,11,11,12,12,13,13,13,14,10,9,10,10,10,11,11,11,11,12,12,12,13,13,14,14,10,10,10,11,11,11,11,12,12,12,12,12,13,13,13,14,10,10,10,11,11,11,11,12,12,12,12,13,13,14,14,14,10,10,11,11,11,11,12,12,12,13,13,13,13,14,14,14,11,11,11,11,12,12,12,12,12,13,13,13,13,14,15,14,11,11,11,11,12,12,12,12,13,13,13,13,14,14,14,15,12,12,11,12,12,12,13,13,13,13,13,13,14,14,15,15,12,12,12,12,12,13,13,13,13,14,14,14,14,14,15,15,13,13,13,13,13,13,13,13,14,14,14,14,15,15,14,15,13,13,13,13,13,13,13,14,14,14,14,14,15,15,15,15],t16_5l:[1,5,7,9,10,10,11,11,12,12,12,13,13,13,14,11,4,6,8,9,10,11,11,11,12,12,12,13,14,13,14,11,7,8,9,10,11,11,12,12,13,12,13,13,13,14,14,12,9,9,10,11,11,12,12,12,13,13,14,14,14,15,15,13,10,10,11,11,12,12,13,13,13,14,14,14,15,15,15,12,10,10,11,11,12,13,13,14,13,14,14,15,15,15,16,13,11,11,11,12,13,13,13,13,14,14,14,14,15,15,16,13,11,11,12,12,13,13,13,14,14,15,15,15,15,17,17,13,11,12,12,13,13,13,14,14,15,15,15,15,16,16,16,13,12,12,12,13,13,14,14,15,15,15,15,16,15,16,15,14,12,13,12,13,14,14,14,14,15,16,16,16,17,17,16,13,13,13,13,13,14,14,15,16,16,16,16,16,16,15,16,14,13,14,14,14,14,15,15,15,15,17,16,16,16,16,18,14,15,14,14,14,15,15,16,16,16,18,17,17,17,19,17,14,14,15,13,14,16,16,15,16,16,17,18,17,19,17,16,14,11,11,11,12,12,13,13,13,14,14,14,14,14,14,14,12],t16l:[1,5,7,9,10,10,11,11,12,12,12,13,13,13,14,10,4,6,8,9,10,11,11,11,12,12,12,13,14,13,14,10,7,8,9,10,11,11,12,12,13,12,13,13,13,14,14,11,9,9,10,11,11,12,12,12,13,13,14,14,14,15,15,12,10,10,11,11,12,12,13,13,13,14,14,14,15,15,15,11,10,10,11,11,12,13,13,14,13,14,14,15,15,15,16,12,11,11,11,12,13,13,13,13,14,14,14,14,15,15,16,12,11,11,12,12,13,13,13,14,14,15,15,15,15,17,17,12,11,12,12,13,13,13,14,14,15,15,15,15,16,16,16,12,12,12,12,13,13,14,14,15,15,15,15,16,15,16,15,13,12,13,12,13,14,14,14,14,15,16,16,16,17,17,16,12,13,13,13,13,14,14,15,16,16,16,16,16,16,15,16,13,13,14,14,14,14,15,15,15,15,17,16,16,16,16,18,13,15,14,14,14,15,15,16,16,16,18,17,17,17,19,17,13,14,15,13,14,16,16,15,16,16,17,18,17,19,17,16,13,10,10,10,11,11,12,12,12,13,13,13,13,13,13,13,10],t24l:[4,5,7,8,9,10,10,11,11,12,12,12,12,12,13,10,5,6,7,8,9,10,10,11,11,11,12,12,12,12,12,10,7,7,8,9,9,10,10,11,11,11,11,12,12,12,13,9,8,8,9,9,10,10,10,11,11,11,11,12,12,12,12,9,9,9,9,10,10,10,10,11,11,11,12,12,12,12,13,9,10,9,10,10,10,10,11,11,11,11,12,12,12,12,12,9,10,10,10,10,10,11,11,11,11,12,12,12,12,12,13,9,11,10,10,10,11,11,11,11,12,12,12,12,12,13,13,10,11,11,11,11,11,11,11,11,11,12,12,12,12,13,13,10,11,11,11,11,11,11,11,12,12,12,12,12,13,13,13,10,12,11,11,11,11,12,12,12,12,12,12,13,13,13,13,10,12,12,11,11,11,12,12,12,12,12,12,13,13,13,13,10,12,12,12,12,12,12,12,12,12,12,13,13,13,13,13,10,12,12,12,12,12,12,12,12,13,13,13,13,13,13,13,10,13,12,12,12,12,12,12,13,13,13,13,13,13,13,13,10,9,9,9,9,9,9,9,9,9,9,9,10,10,10,10,6],t32l:[1,5,5,7,5,8,7,9,5,7,7,9,7,9,9,10],t33l:[4,5,5,6,5,6,6,7,5,6,6,7,6,7,7,8]};r.ht=[new n(0,0,null,null),new n(2,0,r.t1HB,r.t1l),new n(3,0,r.t2HB,r.t2l),new n(3,0,r.t3HB,r.t3l),new n(0,0,null,null),new n(4,0,r.t5HB,r.t5l),new n(4,0,r.t6HB,r.t6l),new n(6,0,r.t7HB,r.t7l),new n(6,0,r.t8HB,r.t8l),new n(6,0,r.t9HB,r.t9l),new n(8,0,r.t10HB,r.t10l),new n(8,0,r.t11HB,r.t11l),new n(8,0,r.t12HB,r.t12l),new n(16,0,r.t13HB,r.t13l),new n(0,0,null,r.t16_5l),new n(16,0,r.t15HB,r.t15l),new n(1,1,r.t16HB,r.t16l),new n(2,3,r.t16HB,r.t16l),new n(3,7,r.t16HB,r.t16l),new n(4,15,r.t16HB,r.t16l),new n(6,63,r.t16HB,r.t16l),new n(8,255,r.t16HB,r.t16l),new n(10,1023,r.t16HB,r.t16l),new n(13,8191,r.t16HB,r.t16l),new n(4,15,r.t24HB,r.t24l),new n(5,31,r.t24HB,r.t24l),new n(6,63,r.t24HB,r.t24l),new n(7,127,r.t24HB,r.t24l),new n(8,255,r.t24HB,r.t24l),new n(9,511,r.t24HB,r.t24l),new n(11,2047,r.t24HB,r.t24l),new n(13,8191,r.t24HB,r.t24l),new n(0,0,r.t32HB,r.t32l),new n(0,0,r.t33HB,r.t33l)],r.largetbl=[65540,327685,458759,589832,655369,655370,720906,720907,786443,786444,786444,851980,851980,851980,917517,655370,262149,393222,524295,589832,655369,720906,720906,720907,786443,786443,786444,851980,917516,851980,917516,655370,458759,524295,589832,655369,720905,720906,786442,786443,851979,786443,851979,851980,851980,917516,917517,720905,589832,589832,655369,720905,720906,786442,786442,786443,851979,851979,917515,917516,917516,983052,983052,786441,655369,655369,720905,720906,786442,786442,851978,851979,851979,917515,917516,917516,983052,983052,983053,720905,655370,655369,720906,720906,786442,851978,851979,917515,851979,917515,917516,983052,983052,983052,1048588,786441,720906,720906,720906,786442,851978,851979,851979,851979,917515,917516,917516,917516,983052,983052,1048589,786441,720907,720906,786442,786442,851979,851979,851979,917515,917516,983052,983052,983052,983052,1114125,1114125,786442,720907,786443,786443,851979,851979,851979,917515,917515,983051,983052,983052,983052,1048588,1048589,1048589,786442,786443,786443,786443,851979,851979,917515,917515,983052,983052,983052,983052,1048588,983053,1048589,983053,851978,786444,851979,786443,851979,917515,917516,917516,917516,983052,1048588,1048588,1048589,1114125,1114125,1048589,786442,851980,851980,851979,851979,917515,917516,983052,1048588,1048588,1048588,1048588,1048589,1048589,983053,1048589,851978,851980,917516,917516,917516,917516,983052,983052,983052,983052,1114124,1048589,1048589,1048589,1048589,1179661,851978,983052,917516,917516,917516,983052,983052,1048588,1048588,1048589,1179661,1114125,1114125,1114125,1245197,1114125,851978,917517,983052,851980,917516,1048588,1048588,983052,1048589,1048589,1114125,1179661,1114125,1245197,1114125,1048589,851978,655369,655369,655369,720905,720905,786441,786441,786441,851977,851977,851977,851978,851978,851978,851978,655366],r.table23=[65538,262147,458759,262148,327684,458759,393222,458759,524296],r.table56=[65539,262148,458758,524296,262148,327684,524294,589831,458757,524294,589831,655368,524295,524295,589832,655369],r.bitrate_table=[[0,8,16,24,32,40,48,56,64,80,96,112,128,144,160,-1],[0,32,40,48,56,64,80,96,112,128,160,192,224,256,320,-1],[0,8,16,24,32,40,48,56,64,-1,-1,-1,-1,-1,-1,-1]],r.samplerate_table=[[22050,24e3,16e3,-1],[44100,48e3,32e3,-1],[11025,12e3,8e3,-1]],r.scfsi_band=[0,6,11,16,21],e.exports=r},"5fb2":function(e,t,n){"use strict";var r=2147483647,a=36,i=1,o=26,s=38,l=700,c=72,u=128,f="-",p=/[^\0-\u007E]/,_=/[.\u3002\uFF0E\uFF61]/g,d="Overflow: input needs wider integers to process",h=a-i,v=Math.floor,m=String.fromCharCode,b=function(e){var t=[],n=0,r=e.length;while(n<r){var a=e.charCodeAt(n++);if(a>=55296&&a<=56319&&n<r){var i=e.charCodeAt(n++);56320==(64512&i)?t.push(((1023&a)<<10)+(1023&i)+65536):(t.push(a),n--)}else t.push(a)}return t},g=function(e){return e+22+75*(e<26)},y=function(e,t,n){var r=0;for(e=n?v(e/l):e>>1,e+=v(e/t);e>h*o>>1;r+=a)e=v(e/h);return v(r+(h+1)*e/(e+s))},w=function(e){var t=[];e=b(e);var n,s,l=e.length,p=u,_=0,h=c;for(n=0;n<e.length;n++)s=e[n],s<128&&t.push(m(s));var w=t.length,S=w;w&&t.push(f);while(S<l){var x=r;for(n=0;n<e.length;n++)s=e[n],s>=p&&s<x&&(x=s);var M=S+1;if(x-p>v((r-_)/M))throw RangeError(d);for(_+=(x-p)*M,p=x,n=0;n<e.length;n++){if(s=e[n],s<p&&++_>r)throw RangeError(d);if(s==p){for(var E=_,A=a;;A+=a){var R=A<=h?i:A>=h+o?o:A-h;if(E<R)break;var k=E-R,T=a-R;t.push(m(g(R+k%T))),E=v(k/T)}t.push(m(g(E))),h=y(_,M,S==w),_=0,++S}}++_,++p}return t.join("")};e.exports=function(e){var t,n,r=[],a=e.toLowerCase().replace(_,".").split(".");for(t=0;t<a.length;t++)n=a[t],r.push(p.test(n)?"xn--"+w(n):n);return r.join(".")}},"67b2":function(e,t){function n(e){var t=e;this.ordinal=function(){return t}}n.STEREO=new n(0),n.JOINT_STEREO=new n(1),n.DUAL_CHANNEL=new n(2),n.MONO=new n(3),n.NOT_SET=new n(4),e.exports=n},6858:function(e,t,n){var r=n("db3f"),a=32767;function i(e,t,n,i){if(44100!==e.sampleRate)throw new Error("Expecting 44100 Hz sample rate");var o=e.numberOfChannels;if(1!==o&&2!==o)throw new Error("Expecting mono or stereo audioBuffer");var s=t.bitrate||128;s<96&&(o=1);for(var l=e.length,c=[],u=0;u<o;u++){for(var f=e.getChannelData(u),p=new Int16Array(l),_=0;_<l;++_){var d=f[_];d=Math.min(1,Math.max(-1,d)),d=Math.round(d*a),p[_]=d}c.push(p)}BLOCK_SIZE=1152,mp3encoder=new r.Mp3Encoder(o,44100,s);var h=[],v=0;function m(){if(1===o){var e=c[0].subarray(v,v+BLOCK_SIZE);t=mp3encoder.encodeBuffer(e)}else{chunkL=c[0].subarray(v,v+BLOCK_SIZE),chunkR=c[1].subarray(v,v+BLOCK_SIZE);var t=mp3encoder.encodeBuffer(chunkL,chunkR)}t.length>0&&h.push(t),v+=BLOCK_SIZE}function b(){if(v>=l){var e=mp3encoder.flush();return e.length>0&&h.push(e),i(new Blob(h,{type:"audio/mp3"}))}var t=performance.now();while(v<l&&performance.now()-t<15)m();n&&n(v/l),setTimeout(b,16.7)}b()}e.exports=i},"69b2":function(e,t,n){var r=n("0206"),a=r.System,i=(r.VbrMode,r.Float,r.ShortBlock,r.Util,r.Arrays),o=(r.new_array_n,r.new_byte),s=(r.new_double,r.new_float,r.new_float_n),l=r.new_int,c=(r.new_int_n,r.assert),u=n("d9be"),f=n("5f84"),p=n("4b5e"),_=n("bd8b");function d(){var e=this,t=32773,n=32,r=null,d=null,h=null,v=null;this.setModules=function(e,t,n,a){r=e,d=t,h=n,v=a};var m=null,b=0,g=0,y=0;function w(e){a.arraycopy(e.header[e.w_ptr].buf,0,m,g,e.sideinfo_len),g+=e.sideinfo_len,b+=8*e.sideinfo_len,e.w_ptr=e.w_ptr+1&_.MAX_HEADER_BUF-1}function S(e,t,r){c(r<n-2);while(r>0){var a;0==y&&(y=8,g++,c(g<Lame.LAME_MAXMP3BUFFER),c(e.header[e.w_ptr].write_timing>=b),e.header[e.w_ptr].write_timing==b&&w(e),m[g]=0),a=Math.min(r,y),r-=a,y-=a,c(r<n),c(y<n),m[g]|=t>>r<<y,b+=a}}function x(e,t,r){c(r<n-2);while(r>0){var a;0==y&&(y=8,g++,c(g<Lame.LAME_MAXMP3BUFFER),m[g]=0),a=Math.min(r,y),r-=a,y-=a,c(r<n),c(y<n),m[g]|=t>>r<<y,b+=a}}function M(e,t){var n,r=e.internal_flags;if(c(t>=0),t>=8&&(S(r,76,8),t-=8),t>=8&&(S(r,65,8),t-=8),t>=8&&(S(r,77,8),t-=8),t>=8&&(S(r,69,8),t-=8),t>=32){var a=h.getLameShortVersion();if(t>=32)for(n=0;n<a.length&&t>=8;++n)t-=8,S(r,a.charAt(n),8)}for(;t>=1;t-=1)S(r,r.ancillary_flag,1),r.ancillary_flag^=e.disable_reservoir?0:1;c(0==t)}function E(e,t,r){var a=e.header[e.h_ptr].ptr;while(r>0){var i=Math.min(r,8-(7&a));r-=i,c(r<n),e.header[e.h_ptr].buf[a>>3]|=t>>r<<8-(7&a)-i,a+=i}e.header[e.h_ptr].ptr=a}function A(e,n){e<<=8;for(var r=0;r<8;r++)e<<=1,n<<=1,0!=(65536&(n^e))&&(n^=t);return n}function R(e,t){var n,r,o,s=e.internal_flags;if(n=s.l3_side,s.header[s.h_ptr].ptr=0,i.fill(s.header[s.h_ptr].buf,0,s.sideinfo_len,0),e.out_samplerate<16e3?E(s,4094,12):E(s,4095,12),E(s,e.version,1),E(s,1,2),E(s,e.error_protection?0:1,1),E(s,s.bitrate_index,4),E(s,s.samplerate_index,2),E(s,s.padding,1),E(s,e.extension,1),E(s,e.mode.ordinal(),2),E(s,s.mode_ext,2),E(s,e.copyright,1),E(s,e.original,1),E(s,e.emphasis,2),e.error_protection&&E(s,0,16),1==e.version){for(c(n.main_data_begin>=0),E(s,n.main_data_begin,9),2==s.channels_out?E(s,n.private_bits,3):E(s,n.private_bits,5),o=0;o<s.channels_out;o++){var l;for(l=0;l<4;l++)E(s,n.scfsi[o][l],1)}for(r=0;r<2;r++)for(o=0;o<s.channels_out;o++){var u=n.tt[r][o];E(s,u.part2_3_length+u.part2_length,12),E(s,u.big_values/2,9),E(s,u.global_gain,8),E(s,u.scalefac_compress,4),u.block_type!=p.NORM_TYPE?(E(s,1,1),E(s,u.block_type,2),E(s,u.mixed_block_flag,1),14==u.table_select[0]&&(u.table_select[0]=16),E(s,u.table_select[0],5),14==u.table_select[1]&&(u.table_select[1]=16),E(s,u.table_select[1],5),E(s,u.subblock_gain[0],3),E(s,u.subblock_gain[1],3),E(s,u.subblock_gain[2],3)):(E(s,0,1),14==u.table_select[0]&&(u.table_select[0]=16),E(s,u.table_select[0],5),14==u.table_select[1]&&(u.table_select[1]=16),E(s,u.table_select[1],5),14==u.table_select[2]&&(u.table_select[2]=16),E(s,u.table_select[2],5),c(0<=u.region0_count&&u.region0_count<16),c(0<=u.region1_count&&u.region1_count<8),E(s,u.region0_count,4),E(s,u.region1_count,3)),E(s,u.preflag,1),E(s,u.scalefac_scale,1),E(s,u.count1table_select,1)}}else for(c(n.main_data_begin>=0),E(s,n.main_data_begin,8),E(s,n.private_bits,s.channels_out),r=0,o=0;o<s.channels_out;o++){u=n.tt[r][o];E(s,u.part2_3_length+u.part2_length,12),E(s,u.big_values/2,9),E(s,u.global_gain,8),E(s,u.scalefac_compress,9),u.block_type!=p.NORM_TYPE?(E(s,1,1),E(s,u.block_type,2),E(s,u.mixed_block_flag,1),14==u.table_select[0]&&(u.table_select[0]=16),E(s,u.table_select[0],5),14==u.table_select[1]&&(u.table_select[1]=16),E(s,u.table_select[1],5),E(s,u.subblock_gain[0],3),E(s,u.subblock_gain[1],3),E(s,u.subblock_gain[2],3)):(E(s,0,1),14==u.table_select[0]&&(u.table_select[0]=16),E(s,u.table_select[0],5),14==u.table_select[1]&&(u.table_select[1]=16),E(s,u.table_select[1],5),14==u.table_select[2]&&(u.table_select[2]=16),E(s,u.table_select[2],5),c(0<=u.region0_count&&u.region0_count<16),c(0<=u.region1_count&&u.region1_count<8),E(s,u.region0_count,4),E(s,u.region1_count,3)),E(s,u.scalefac_scale,1),E(s,u.count1table_select,1)}e.error_protection&&CRC_writeheader(s,s.header[s.h_ptr].buf);var f=s.h_ptr;c(s.header[f].ptr==8*s.sideinfo_len),s.h_ptr=f+1&_.MAX_HEADER_BUF-1,s.header[s.h_ptr].write_timing=s.header[f].write_timing+t,s.h_ptr==s.w_ptr&&a.err.println("Error: MAX_HEADER_BUF too small in bitstream.c \n")}function k(e,t){var n,r=f.ht[t.count1table_select+32],a=0,i=t.big_values,o=t.big_values;for(c(t.count1table_select<2),n=(t.count1-t.big_values)/4;n>0;--n){var s,l=0,u=0;s=t.l3_enc[i+0],0!=s&&(u+=8,t.xr[o+0]<0&&l++,c(s<=1)),s=t.l3_enc[i+1],0!=s&&(u+=4,l*=2,t.xr[o+1]<0&&l++,c(s<=1)),s=t.l3_enc[i+2],0!=s&&(u+=2,l*=2,t.xr[o+2]<0&&l++,c(s<=1)),s=t.l3_enc[i+3],0!=s&&(u++,l*=2,t.xr[o+3]<0&&l++,c(s<=1)),i+=4,o+=4,S(e,l+r.table[u],r.hlen[u]),a+=r.hlen[u]}return a}function T(e,t,r,a,i){var o=f.ht[t],s=0;if(c(t<32),0==t)return s;for(var l=r;l<a;l+=2){var u=0,p=0,_=o.xlen,d=o.xlen,h=0,v=i.l3_enc[l],m=i.l3_enc[l+1];if(0!=v&&(i.xr[l]<0&&h++,u--),t>15){if(v>14){var b=v-15;c(b<=o.linmax),h|=b<<1,p=_,v=15}if(m>14){var g=m-15;c(g<=o.linmax),h<<=_,h|=g,p+=_,m=15}d=16}0!=m&&(h<<=1,i.xr[l+1]<0&&h++,u--),c((v|m)<16),v=v*d+m,p-=u,u+=o.hlen[v],c(u<=n),c(p<=n),S(e,o.table[v],u),S(e,h,p),s+=u+p}return s}function P(e,t){var n=3*e.scalefac_band.s[3];n>t.big_values&&(n=t.big_values);var r=T(e,t.table_select[0],0,n,t);return r+=T(e,t.table_select[1],n,t.big_values,t),r}function B(e,t){var n,r,a,i;n=t.big_values,c(0<=n&&n<=576);var o=t.region0_count+1;return c(0<=o),c(o<e.scalefac_band.l.length),a=e.scalefac_band.l[o],o+=t.region1_count+1,c(0<=o),c(o<e.scalefac_band.l.length),i=e.scalefac_band.l[o],a>n&&(a=n),i>n&&(i=n),r=T(e,t.table_select[0],0,a,t),r+=T(e,t.table_select[1],a,i,t),r+=T(e,t.table_select[2],i,n,t),r}function O(e){var t,n,r,a,i=0,o=e.internal_flags,s=o.l3_side;if(1==e.version)for(t=0;t<2;t++)for(n=0;n<o.channels_out;n++){var l=s.tt[t][n],f=u.slen1_tab[l.scalefac_compress],_=u.slen2_tab[l.scalefac_compress];for(a=0,r=0;r<l.sfbdivide;r++)-1!=l.scalefac[r]&&(S(o,l.scalefac[r],f),a+=f);for(;r<l.sfbmax;r++)-1!=l.scalefac[r]&&(S(o,l.scalefac[r],_),a+=_);c(a==l.part2_length),l.block_type==p.SHORT_TYPE?a+=P(o,l):a+=B(o,l),a+=k(o,l),c(a==l.part2_3_length+l.part2_length),i+=a}else for(t=0,n=0;n<o.channels_out;n++){l=s.tt[t][n];var d,h,v=0;if(c(null!=l.sfb_partition_table),a=0,r=0,h=0,l.block_type==p.SHORT_TYPE){for(;h<4;h++){var m=l.sfb_partition_table[h]/3,b=l.slen[h];for(d=0;d<m;d++,r++)S(o,Math.max(l.scalefac[3*r+0],0),b),S(o,Math.max(l.scalefac[3*r+1],0),b),S(o,Math.max(l.scalefac[3*r+2],0),b),v+=3*b}a+=P(o,l)}else{for(;h<4;h++){m=l.sfb_partition_table[h],b=l.slen[h];for(d=0;d<m;d++,r++)S(o,Math.max(l.scalefac[r],0),b),v+=b}a+=B(o,l)}a+=k(o,l),c(a==l.part2_3_length),c(v==l.part2_length),i+=v+a}return i}function I(){this.total=0}function j(t,n){var r,i,o,s,l,c=t.internal_flags;return l=c.w_ptr,s=c.h_ptr-1,-1==s&&(s=_.MAX_HEADER_BUF-1),r=c.header[s].write_timing-b,n.total=r,r>=0&&(i=1+s-l,s<l&&(i=1+s-l+_.MAX_HEADER_BUF),r-=8*i*c.sideinfo_len),o=e.getframebits(t),r+=o,n.total+=o,n.total%8!=0?n.total=1+n.total/8:n.total=n.total/8,n.total+=g+1,r<0&&a.err.println("strange error flushing buffer ... \n"),r}this.getframebits=function(e){var t,n=e.internal_flags;t=0!=n.bitrate_index?f.bitrate_table[e.version][n.bitrate_index]:e.brate,c(8<=t&&t<=640);var r=0|72e3*(e.version+1)*t/e.out_samplerate+n.padding;return 8*r},this.CRC_writeheader=function(e,t){var n=65535;n=A(255&t[2],n),n=A(255&t[3],n);for(var r=6;r<e.sideinfo_len;r++)n=A(255&t[r],n);t[4]=byte(n>>8),t[5]=byte(255&n)},this.flush_bitstream=function(e){var t,n,a=e.internal_flags,i=a.h_ptr-1;if(-1==i&&(i=_.MAX_HEADER_BUF-1),t=a.l3_side,!((n=j(e,new I))<0)){if(M(e,n),c(a.header[i].write_timing+this.getframebits(e)==b),a.ResvSize=0,t.main_data_begin=0,a.findReplayGain){var o=r.GetTitleGain(a.rgdata);c(NEQ(o,GainAnalysis.GAIN_NOT_ENOUGH_SAMPLES)),a.RadioGain=0|Math.floor(10*o+.5)}a.findPeakSample&&(a.noclipGainChange=0|Math.ceil(20*Math.log10(a.PeakSample/32767)*10),a.noclipGainChange>0&&(EQ(e.scale,1)||EQ(e.scale,0))?a.noclipScale=Math.floor(32767/a.PeakSample*100)/100:a.noclipScale=-1)}},this.add_dummy_byte=function(e,t,n){var r,a=e.internal_flags;while(n-- >0)for(x(a,t,8),r=0;r<_.MAX_HEADER_BUF;++r)a.header[r].write_timing+=8},this.format_bitstream=function(e){var t,n=e.internal_flags;t=n.l3_side;var r=this.getframebits(e);M(e,t.resvDrain_pre),R(e,r);var i=8*n.sideinfo_len;if(i+=O(e),M(e,t.resvDrain_post),i+=t.resvDrain_post,t.main_data_begin+=(r-i)/8,j(e,new I)!=n.ResvSize&&a.err.println("Internal buffer inconsistency. flushbits <> ResvSize"),8*t.main_data_begin!=n.ResvSize&&(a.err.printf("bit reservoir error: \nl3_side.main_data_begin: %d \nResvoir size:             %d \nresv drain (post)         %d \nresv drain (pre)          %d \nheader and sideinfo:      %d \ndata bits:                %d \ntotal bits:               %d (remainder: %d) \nbitsperframe:             %d \n",8*t.main_data_begin,n.ResvSize,t.resvDrain_post,t.resvDrain_pre,8*n.sideinfo_len,i-t.resvDrain_post-8*n.sideinfo_len,i,i%8,r),a.err.println("This is a fatal error.  It has several possible causes:"),a.err.println("90%%  LAME compiled with buggy version of gcc using advanced optimizations"),a.err.println(" 9%%  Your system is overclocked"),a.err.println(" 1%%  bug in LAME encoding library"),n.ResvSize=8*t.main_data_begin),c(b%8==0),b>1e9){var o;for(o=0;o<_.MAX_HEADER_BUF;++o)n.header[o].write_timing-=b;b=0}return 0},this.copy_buffer=function(e,t,n,i,o){var u=g+1;if(u<=0)return 0;if(0!=i&&u>i)return-1;if(a.arraycopy(m,0,t,n,u),g=-1,y=0,0!=o){var f=l(1);if(f[0]=e.nMusicCRC,v.updateMusicCRC(f,t,n,u),e.nMusicCRC=f[0],u>0&&(e.VBR_seek_table.nBytesWritten+=u),e.decode_on_the_fly){var p,_=s([2,1152]),h=u,b=-1;while(0!=b)if(b=d.hip_decode1_unclipped(e.hip,t,n,h,_[0],_[1]),h=0,-1==b&&(b=0),b>0){if(c(b<=1152),e.findPeakSample){for(p=0;p<b;p++)_[0][p]>e.PeakSample?e.PeakSample=_[0][p]:-_[0][p]>e.PeakSample&&(e.PeakSample=-_[0][p]);if(e.channels_out>1)for(p=0;p<b;p++)_[1][p]>e.PeakSample?e.PeakSample=_[1][p]:-_[1][p]>e.PeakSample&&(e.PeakSample=-_[1][p])}if(e.findReplayGain&&r.AnalyzeSamples(e.rgdata,_[0],0,_[1],0,b,e.channels_out)==GainAnalysis.GAIN_ANALYSIS_ERROR)return-6}}}return u},this.init_bit_stream_w=function(e){m=o(Lame.LAME_MAXMP3BUFFER),e.h_ptr=e.w_ptr=0,e.header[e.h_ptr].write_timing=0,g=-1,y=0,b=0}}d.EQ=function(e,t){return Math.abs(e)>Math.abs(t)?Math.abs(e-t)<=1e-6*Math.abs(e):Math.abs(e-t)<=1e-6*Math.abs(t)},d.NEQ=function(e,t){return!d.EQ(e,t)},e.exports=d},"6f53":function(e,t,n){var r=n("83ab"),a=n("df75"),i=n("fc6a"),o=n("d1e7").f,s=function(e){return function(t){var n,s=i(t),l=a(s),c=l.length,u=0,f=[];while(c>u)n=l[u++],r&&!o.call(s,n)||f.push(e?[n,s[n]]:s[n]);return f}};e.exports={entries:s(!0),values:s(!1)}},7156:function(e,t,n){var r=n("861d"),a=n("d2bb");e.exports=function(e,t,n){var i,o;return a&&"function"==typeof(i=t.constructor)&&i!==n&&r(o=i.prototype)&&o!==n.prototype&&a(e,o),e}},"725d":function(e,t,n){var r=n("0206"),a=(r.System,r.VbrMode,r.Float,r.ShortBlock,r.Util,r.Arrays,r.new_array_n,r.new_byte,r.new_double,r.new_float),i=(r.new_float_n,r.new_int),o=(r.new_int_n,r.assert,n("2f21"));function s(){this.linprebuf=a(2*o.MAX_ORDER),this.linpre=0,this.lstepbuf=a(o.MAX_SAMPLES_PER_WINDOW+o.MAX_ORDER),this.lstep=0,this.loutbuf=a(o.MAX_SAMPLES_PER_WINDOW+o.MAX_ORDER),this.lout=0,this.rinprebuf=a(2*o.MAX_ORDER),this.rinpre=0,this.rstepbuf=a(o.MAX_SAMPLES_PER_WINDOW+o.MAX_ORDER),this.rstep=0,this.routbuf=a(o.MAX_SAMPLES_PER_WINDOW+o.MAX_ORDER),this.rout=0,this.sampleWindow=0,this.totsamp=0,this.lsum=0,this.rsum=0,this.freqindex=0,this.first=0,this.A=i(0|o.STEPS_per_dB*o.MAX_dB),this.B=i(0|o.STEPS_per_dB*o.MAX_dB)}e.exports=s},7276:function(e,t){function n(){this.over_noise=0,this.tot_noise=0,this.max_noise=0,this.over_count=0,this.over_SSD=0,this.bits=0}e.exports=n},"74ce":function(e,t){var n=44,r=32767;function a(e,t){if(44100!==e.sampleRate)throw new Error("Expecting 44100 Hz sample rate");var a=e.numberOfChannels;if(1!==a&&2!==a)throw new Error("Expecting mono or stereo audioBuffer");var i=e.length,o=new ArrayBuffer(n+2*i*a),s=new Int16Array(o),l=new Uint8Array(o),c=i*a*2,u=c+36,f=44100*a*2;l.set([82,73,70,70,255&u,u>>8&255,u>>16&255,u>>24&255,87,65,86,69,102,109,116,32,16,0,0,0,1,0,a,0,68,172,0,0,255&f,f>>8&255,f>>16&255,f>>24&255,4,0,16,0,100,97,116,97,255&c,c>>8&255,c>>16&255,c>>24&255]);for(var p=[],_=0;_<a;_++)p.push(e.getChannelData(_));for(var d=0,h=n/2;d<i;d++)for(_=0;_<a;_++){var v=p[_][d];v=Math.min(1,Math.max(-1,v)),v=Math.round(v*r),s[h++]=v}var m=new Blob([l],{type:"audio/x-wav"});setTimeout((function(){return t(m)}),30)}e.exports=a},"7e12":function(e,t,n){var r=n("da84"),a=n("58a8").trim,i=n("5899"),o=r.parseFloat,s=1/o(i+"-0")!==-1/0;e.exports=s?function(e){var t=a(String(e)),n=o(t);return 0===n&&"-"==t.charAt(0)?-0:n}:o},"7faa":function(e,t,n){},8100:function(e,t,n){var r=n("0206"),a=(r.System,r.VbrMode,r.Float,r.ShortBlock,r.Util),i=(r.Arrays,r.new_array_n,r.new_byte,r.new_double,r.new_float),o=(r.new_float_n,r.new_int,r.new_int_n,r.assert,n("4b5e"));function s(){var e=i(o.BLKSIZE),t=i(o.BLKSIZE_s/2),n=[.9238795325112867,.3826834323650898,.9951847266721969,.0980171403295606,.9996988186962042,.02454122852291229,.9999811752826011,.006135884649154475];function r(e,t,r){var i,o,s,l=0;r<<=1;var c=t+r;i=4;do{var u,f,p,_,d,h,v;v=i>>1,_=i,d=i<<1,h=d+_,i=d<<1,o=t,s=o+v;do{x=e[o+0]-e[o+_],S=e[o+0]+e[o+_],R=e[o+d]-e[o+h],E=e[o+d]+e[o+h],e[o+d]=S-E,e[o+0]=S+E,e[o+h]=x-R,e[o+_]=x+R,x=e[s+0]-e[s+_],S=e[s+0]+e[s+_],R=a.SQRT2*e[s+h],E=a.SQRT2*e[s+d],e[s+d]=S-E,e[s+0]=S+E,e[s+h]=x-R,e[s+_]=x+R,s+=i,o+=i}while(o<c);for(f=n[l+0],u=n[l+1],p=1;p<v;p++){var m,b;m=1-2*u*u,b=2*u*f,o=t+p,s=t+_-p;do{var g,y,w,S,x,M,E,A,R,k;y=b*e[o+_]-m*e[s+_],g=m*e[o+_]+b*e[s+_],x=e[o+0]-g,S=e[o+0]+g,M=e[s+0]-y,w=e[s+0]+y,y=b*e[o+h]-m*e[s+h],g=m*e[o+h]+b*e[s+h],R=e[o+d]-g,E=e[o+d]+g,k=e[s+d]-y,A=e[s+d]+y,y=u*E-f*k,g=f*E+u*k,e[o+d]=S-g,e[o+0]=S+g,e[s+h]=M-y,e[s+_]=M+y,y=f*A-u*R,g=u*A+f*R,e[s+d]=w-g,e[s+0]=w+g,e[o+h]=x-y,e[o+_]=x+y,s+=i,o+=i}while(o<c);m=f,f=m*n[l+0]-u*n[l+1],u=m*n[l+1]+u*n[l+0]}l+=2}while(i<r)}var s=[0,128,64,192,32,160,96,224,16,144,80,208,48,176,112,240,8,136,72,200,40,168,104,232,24,152,88,216,56,184,120,248,4,132,68,196,36,164,100,228,20,148,84,212,52,180,116,244,12,140,76,204,44,172,108,236,28,156,92,220,60,188,124,252,2,130,66,194,34,162,98,226,18,146,82,210,50,178,114,242,10,138,74,202,42,170,106,234,26,154,90,218,58,186,122,250,6,134,70,198,38,166,102,230,22,150,86,214,54,182,118,246,14,142,78,206,46,174,110,238,30,158,94,222,62,190,126,254];this.fft_short=function(e,n,a,i,l){for(var c=0;c<3;c++){var u=o.BLKSIZE_s/2,f=65535&192*(c+1),p=o.BLKSIZE_s/8-1;do{var _,d,h,v,m,b=255&s[p<<2];_=t[b]*i[a][l+b+f],m=t[127-b]*i[a][l+b+f+128],d=_-m,_+=m,h=t[b+64]*i[a][l+b+f+64],m=t[63-b]*i[a][l+b+f+192],v=h-m,h+=m,u-=4,n[c][u+0]=_+h,n[c][u+2]=_-h,n[c][u+1]=d+v,n[c][u+3]=d-v,_=t[b+1]*i[a][l+b+f+1],m=t[126-b]*i[a][l+b+f+129],d=_-m,_+=m,h=t[b+65]*i[a][l+b+f+65],m=t[62-b]*i[a][l+b+f+193],v=h-m,h+=m,n[c][u+o.BLKSIZE_s/2+0]=_+h,n[c][u+o.BLKSIZE_s/2+2]=_-h,n[c][u+o.BLKSIZE_s/2+1]=d+v,n[c][u+o.BLKSIZE_s/2+3]=d-v}while(--p>=0);r(n[c],u,o.BLKSIZE_s/2)}},this.fft_long=function(t,n,a,i,l){var c=o.BLKSIZE/8-1,u=o.BLKSIZE/2;do{var f,p,_,d,h,v=255&s[c];f=e[v]*i[a][l+v],h=e[v+512]*i[a][l+v+512],p=f-h,f+=h,_=e[v+256]*i[a][l+v+256],h=e[v+768]*i[a][l+v+768],d=_-h,_+=h,u-=4,n[u+0]=f+_,n[u+2]=f-_,n[u+1]=p+d,n[u+3]=p-d,f=e[v+1]*i[a][l+v+1],h=e[v+513]*i[a][l+v+513],p=f-h,f+=h,_=e[v+257]*i[a][l+v+257],h=e[v+769]*i[a][l+v+769],d=_-h,_+=h,n[u+o.BLKSIZE/2+0]=f+_,n[u+o.BLKSIZE/2+2]=f-_,n[u+o.BLKSIZE/2+1]=p+d,n[u+o.BLKSIZE/2+3]=p-d}while(--c>=0);r(n,u,o.BLKSIZE/2)},this.init_fft=function(n){for(var r=0;r<o.BLKSIZE;r++)e[r]=.42-.5*Math.cos(2*Math.PI*(r+.5)/o.BLKSIZE)+.08*Math.cos(4*Math.PI*(r+.5)/o.BLKSIZE);for(r=0;r<o.BLKSIZE_s/2;r++)t[r]=.5*(1-Math.cos(2*Math.PI*(r+.5)/o.BLKSIZE_s))}}e.exports=s},"8cba":function(e,t){function n(){var e="http://www.mp3dev.org/",t=3,n=98,r=4,a=0,i=93;this.getLameVersion=function(){return t+"."+n+"."+r},this.getLameShortVersion=function(){return t+"."+n+"."+r},this.getLameVeryShortVersion=function(){return"LAME"+t+"."+n+"r"},this.getPsyVersion=function(){return a+"."+i},this.getLameUrl=function(){return e},this.getLameOsBitness=function(){return"32bits"}}e.exports=n},"947f":function(e,t,n){var r=n("67b2");function a(){this.class_id=0,this.num_samples=0,this.num_channels=0,this.in_samplerate=0,this.out_samplerate=0,this.scale=0,this.scale_left=0,this.scale_right=0,this.analysis=!1,this.bWriteVbrTag=!1,this.decode_only=!1,this.quality=0,this.mode=r.STEREO,this.force_ms=!1,this.free_format=!1,this.findReplayGain=!1,this.decode_on_the_fly=!1,this.write_id3tag_automatic=!1,this.brate=0,this.compression_ratio=0,this.copyright=0,this.original=0,this.extension=0,this.emphasis=0,this.error_protection=0,this.strict_ISO=!1,this.disable_reservoir=!1,this.quant_comp=0,this.quant_comp_short=0,this.experimentalY=!1,this.experimentalZ=0,this.exp_nspsytune=0,this.preset=0,this.VBR=null,this.VBR_q_frac=0,this.VBR_q=0,this.VBR_mean_bitrate_kbps=0,this.VBR_min_bitrate_kbps=0,this.VBR_max_bitrate_kbps=0,this.VBR_hard_min=0,this.lowpassfreq=0,this.highpassfreq=0,this.lowpasswidth=0,this.highpasswidth=0,this.maskingadjust=0,this.maskingadjust_short=0,this.ATHonly=!1,this.ATHshort=!1,this.noATH=!1,this.ATHtype=0,this.ATHcurve=0,this.ATHlower=0,this.athaa_type=0,this.athaa_loudapprox=0,this.athaa_sensitivity=0,this.short_blocks=null,this.useTemporal=!1,this.interChRatio=0,this.msfix=0,this.tune=!1,this.tune_value_a=0,this.version=0,this.encoder_delay=0,this.encoder_padding=0,this.framesize=0,this.frameNum=0,this.lame_allocated_gfp=0,this.internal_flags=null}e.exports=a},9828:function(e,t,n){var r=n("4b5e"),a={};a.SFBMAX=3*r.SBMAX_s,e.exports=a},9861:function(e,t,n){"use strict";n("e260");var r=n("23e7"),a=n("d066"),i=n("0d3b"),o=n("6eeb"),s=n("e2cc"),l=n("d44e"),c=n("9ed3"),u=n("69f3"),f=n("19aa"),p=n("5135"),_=n("0366"),d=n("f5df"),h=n("825a"),v=n("861d"),m=n("7c73"),b=n("5c6c"),g=n("9a1f"),y=n("35a1"),w=n("b622"),S=a("fetch"),x=a("Headers"),M=w("iterator"),E="URLSearchParams",A=E+"Iterator",R=u.set,k=u.getterFor(E),T=u.getterFor(A),P=/\+/g,B=Array(4),O=function(e){return B[e-1]||(B[e-1]=RegExp("((?:%[\\da-f]{2}){"+e+"})","gi"))},I=function(e){try{return decodeURIComponent(e)}catch(t){return e}},j=function(e){var t=e.replace(P," "),n=4;try{return decodeURIComponent(t)}catch(r){while(n)t=t.replace(O(n--),I);return t}},D=/[!'()~]|%20/g,L={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},C=function(e){return L[e]},V=function(e){return encodeURIComponent(e).replace(D,C)},N=function(e,t){if(t){var n,r,a=t.split("&"),i=0;while(i<a.length)n=a[i++],n.length&&(r=n.split("="),e.push({key:j(r.shift()),value:j(r.join("="))}))}},H=function(e){this.entries.length=0,N(this.entries,e)},X=function(e,t){if(e<t)throw TypeError("Not enough arguments")},F=c((function(e,t){R(this,{type:A,iterator:g(k(e).entries),kind:t})}),"Iterator",(function(){var e=T(this),t=e.kind,n=e.iterator.next(),r=n.value;return n.done||(n.value="keys"===t?r.key:"values"===t?r.value:[r.key,r.value]),n})),z=function(){f(this,z,E);var e,t,n,r,a,i,o,s,l,c=arguments.length>0?arguments[0]:void 0,u=this,_=[];if(R(u,{type:E,entries:_,updateURL:function(){},updateSearchParams:H}),void 0!==c)if(v(c))if(e=y(c),"function"===typeof e){t=e.call(c),n=t.next;while(!(r=n.call(t)).done){if(a=g(h(r.value)),i=a.next,(o=i.call(a)).done||(s=i.call(a)).done||!i.call(a).done)throw TypeError("Expected sequence with length 2");_.push({key:o.value+"",value:s.value+""})}}else for(l in c)p(c,l)&&_.push({key:l,value:c[l]+""});else N(_,"string"===typeof c?"?"===c.charAt(0)?c.slice(1):c:c+"")},q=z.prototype;s(q,{append:function(e,t){X(arguments.length,2);var n=k(this);n.entries.push({key:e+"",value:t+""}),n.updateURL()},delete:function(e){X(arguments.length,1);var t=k(this),n=t.entries,r=e+"",a=0;while(a<n.length)n[a].key===r?n.splice(a,1):a++;t.updateURL()},get:function(e){X(arguments.length,1);for(var t=k(this).entries,n=e+"",r=0;r<t.length;r++)if(t[r].key===n)return t[r].value;return null},getAll:function(e){X(arguments.length,1);for(var t=k(this).entries,n=e+"",r=[],a=0;a<t.length;a++)t[a].key===n&&r.push(t[a].value);return r},has:function(e){X(arguments.length,1);var t=k(this).entries,n=e+"",r=0;while(r<t.length)if(t[r++].key===n)return!0;return!1},set:function(e,t){X(arguments.length,1);for(var n,r=k(this),a=r.entries,i=!1,o=e+"",s=t+"",l=0;l<a.length;l++)n=a[l],n.key===o&&(i?a.splice(l--,1):(i=!0,n.value=s));i||a.push({key:o,value:s}),r.updateURL()},sort:function(){var e,t,n,r=k(this),a=r.entries,i=a.slice();for(a.length=0,n=0;n<i.length;n++){for(e=i[n],t=0;t<n;t++)if(a[t].key>e.key){a.splice(t,0,e);break}t===n&&a.push(e)}r.updateURL()},forEach:function(e){var t,n=k(this).entries,r=_(e,arguments.length>1?arguments[1]:void 0,3),a=0;while(a<n.length)t=n[a++],r(t.value,t.key,this)},keys:function(){return new F(this,"keys")},values:function(){return new F(this,"values")},entries:function(){return new F(this,"entries")}},{enumerable:!0}),o(q,M,q.entries),o(q,"toString",(function(){var e,t=k(this).entries,n=[],r=0;while(r<t.length)e=t[r++],n.push(V(e.key)+"="+V(e.value));return n.join("&")}),{enumerable:!0}),l(z,E),r({global:!0,forced:!i},{URLSearchParams:z}),i||"function"!=typeof S||"function"!=typeof x||r({global:!0,enumerable:!0,forced:!0},{fetch:function(e){var t,n,r,a=[e];return arguments.length>1&&(t=arguments[1],v(t)&&(n=t.body,d(n)===E&&(r=t.headers?new x(t.headers):new x,r.has("content-type")||r.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),t=m(t,{body:b(0,String(n)),headers:b(0,r)}))),a.push(t)),S.apply(this,a)}}),e.exports={URLSearchParams:z,getState:k}},"99af":function(e,t,n){"use strict";var r=n("23e7"),a=n("d039"),i=n("e8b5"),o=n("861d"),s=n("7b0b"),l=n("50c4"),c=n("8418"),u=n("65f0"),f=n("1dde"),p=n("b622"),_=n("2d00"),d=p("isConcatSpreadable"),h=9007199254740991,v="Maximum allowed index exceeded",m=_>=51||!a((function(){var e=[];return e[d]=!1,e.concat()[0]!==e})),b=f("concat"),g=function(e){if(!o(e))return!1;var t=e[d];return void 0!==t?!!t:i(e)},y=!m||!b;r({target:"Array",proto:!0,forced:y},{concat:function(e){var t,n,r,a,i,o=s(this),f=u(o,0),p=0;for(t=-1,r=arguments.length;t<r;t++)if(i=-1===t?o:arguments[t],g(i)){if(a=l(i.length),p+a>h)throw TypeError(v);for(n=0;n<a;n++,p++)n in i&&c(f,p,i[n])}else{if(p>=h)throw TypeError(v);c(f,p++,i)}return f.length=p,f}})},"9a1f":function(e,t,n){var r=n("825a"),a=n("35a1");e.exports=function(e){var t=a(e);if("function"!=typeof t)throw TypeError(String(e)+" is not iterable");return r(t.call(e))}},"9b60":function(e,t,n){"use strict";var r=n("7faa"),a=n.n(r);a.a},a1b7:function(e,t,n){var r=n("4b5e"),a=n("0206"),i=a.System,o=(a.VbrMode,a.Float,a.ShortBlock,a.Util,a.Arrays,a.new_array_n,a.new_byte,a.new_double,a.new_float),s=a.new_float_n;a.new_int,a.new_int_n,a.assert;function l(){this.l=o(r.SBMAX_l),this.s=s([r.SBMAX_s,3]);var e=this;this.assign=function(t){i.arraycopy(t.l,0,e.l,0,r.SBMAX_l);for(var n=0;n<r.SBMAX_s;n++)for(var a=0;a<3;a++)e.s[n][a]=t.s[n][a]}}e.exports=l},a26a:function(e,t){function n(){this.setModules=function(e,t){e,t}}e.exports=n},a9e3:function(e,t,n){"use strict";var r=n("83ab"),a=n("da84"),i=n("94ca"),o=n("6eeb"),s=n("5135"),l=n("c6b6"),c=n("7156"),u=n("c04e"),f=n("d039"),p=n("7c73"),_=n("241c").f,d=n("06cf").f,h=n("9bf2").f,v=n("58a8").trim,m="Number",b=a[m],g=b.prototype,y=l(p(g))==m,w=function(e){var t,n,r,a,i,o,s,l,c=u(e,!1);if("string"==typeof c&&c.length>2)if(c=v(c),t=c.charCodeAt(0),43===t||45===t){if(n=c.charCodeAt(2),88===n||120===n)return NaN}else if(48===t){switch(c.charCodeAt(1)){case 66:case 98:r=2,a=49;break;case 79:case 111:r=8,a=55;break;default:return+c}for(i=c.slice(2),o=i.length,s=0;s<o;s++)if(l=i.charCodeAt(s),l<48||l>a)return NaN;return parseInt(i,r)}return+c};if(i(m,!b(" 0o1")||!b("0b1")||b("+0x1"))){for(var S,x=function(e){var t=arguments.length<1?0:e,n=this;return n instanceof x&&(y?f((function(){g.valueOf.call(n)})):l(n)!=m)?c(new b(w(t)),n,x):w(t)},M=r?_(b):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),E=0;M.length>E;E++)s(b,S=M[E])&&!s(x,S)&&h(x,S,d(b,S));x.prototype=g,g.constructor=x,o(a,m,x)}},abf5:function(e,t,n){var r=n("0206"),a=(r.System,r.VbrMode,r.Float,r.ShortBlock,r.Util,r.Arrays,r.new_array_n,r.new_byte,r.new_double,r.new_float),i=(r.new_float_n,r.new_int,r.new_int_n,r.assert,n("4b5e"));function o(){this.useAdjust=0,this.aaSensitivityP=0,this.adjust=0,this.adjustLimit=0,this.decay=0,this.floor=0,this.l=a(i.SBMAX_l),this.s=a(i.SBMAX_s),this.psfb21=a(i.PSFB21),this.psfb12=a(i.PSFB12),this.cb_l=a(i.CBANDS),this.cb_s=a(i.CBANDS),this.eql_w=a(i.BLKSIZE/2)}e.exports=o},acd8:function(e,t,n){var r=n("23e7"),a=n("7e12");r({global:!0,forced:parseFloat!=a},{parseFloat:a})},b64b:function(e,t,n){var r=n("23e7"),a=n("7b0b"),i=n("df75"),o=n("d039"),s=o((function(){i(1)}));r({target:"Object",stat:!0,forced:s},{keys:function(e){return i(a(e))}})},bb22:function(e,t,n){var r=n("ff81"),a=n("0206"),i=(a.System,a.VbrMode),o=a.Float,s=(a.ShortBlock,a.Util),l=(a.Arrays,a.new_array_n,a.new_byte,a.new_double,a.new_float),c=(a.new_float_n,a.new_int),u=(a.new_int_n,a.assert),f=n("4b5e"),p=n("f052"),_=n("bd8b");function d(){var e=null,t=null,n=null;function a(e){return u(0<=e+d.Q_MAX2&&e<d.Q_MAX),S[e+d.Q_MAX2]}this.setModules=function(r,a,i){e=r,t=a,n=i},this.IPOW20=function(e){return u(0<=e&&e<d.Q_MAX),x[e]};var h=2220446049250313e-31,v=d.IXMAX_VAL,m=v+2,b=d.Q_MAX,g=d.Q_MAX2,y=(d.LARGE_BITS,100);this.nr_of_sfb_block=[[[6,5,5,5],[9,9,9,9],[6,9,9,9]],[[6,5,7,3],[9,9,12,6],[6,9,12,6]],[[11,10,0,0],[18,18,0,0],[15,18,0,0]],[[7,7,7,0],[12,12,12,0],[6,15,12,0]],[[6,6,6,3],[12,9,9,6],[6,12,9,6]],[[8,8,5,0],[15,12,9,0],[6,18,9,0]]];var w=[0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,2,2,3,3,3,2,0];this.pretab=w,this.sfBandIndex=[new r([0,6,12,18,24,30,36,44,54,66,80,96,116,140,168,200,238,284,336,396,464,522,576],[0,4,8,12,18,24,32,42,56,74,100,132,174,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new r([0,6,12,18,24,30,36,44,54,66,80,96,114,136,162,194,232,278,332,394,464,540,576],[0,4,8,12,18,26,36,48,62,80,104,136,180,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new r([0,6,12,18,24,30,36,44,54,66,80,96,116,140,168,200,238,284,336,396,464,522,576],[0,4,8,12,18,26,36,48,62,80,104,134,174,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new r([0,4,8,12,16,20,24,30,36,44,52,62,74,90,110,134,162,196,238,288,342,418,576],[0,4,8,12,16,22,30,40,52,66,84,106,136,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new r([0,4,8,12,16,20,24,30,36,42,50,60,72,88,106,128,156,190,230,276,330,384,576],[0,4,8,12,16,22,28,38,50,64,80,100,126,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new r([0,4,8,12,16,20,24,30,36,44,54,66,82,102,126,156,194,240,296,364,448,550,576],[0,4,8,12,16,22,30,42,58,78,104,138,180,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new r([0,6,12,18,24,30,36,44,54,66,80,96,116,140,168,200,238,284,336,396,464,522,576],[0,4,8,12,18,26,36,48,62,80,104,134,174,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new r([0,6,12,18,24,30,36,44,54,66,80,96,116,140,168,200,238,284,336,396,464,522,576],[0,4,8,12,18,26,36,48,62,80,104,134,174,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new r([0,12,24,36,48,60,72,88,108,132,160,192,232,280,336,400,476,566,568,570,572,574,576],[0,8,16,24,36,52,72,96,124,160,162,164,166,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0])];var S=l(b+g+1),x=l(b),M=l(m),E=l(m);function A(e,t){var r=n.ATHformula(t,e);return r-=y,r=Math.pow(10,r/10+e.ATHlower),r}function R(e){for(var t=e.internal_flags.ATH.l,n=e.internal_flags.ATH.psfb21,r=e.internal_flags.ATH.s,a=e.internal_flags.ATH.psfb12,i=e.internal_flags,s=e.out_samplerate,l=0;l<f.SBMAX_l;l++){var c=i.scalefac_band.l[l],u=i.scalefac_band.l[l+1];t[l]=o.MAX_VALUE;for(var p=c;p<u;p++){var _=p*s/1152,d=A(e,_);t[l]=Math.min(t[l],d)}}for(l=0;l<f.PSFB21;l++){c=i.scalefac_band.psfb21[l],u=i.scalefac_band.psfb21[l+1];n[l]=o.MAX_VALUE;for(p=c;p<u;p++){_=p*s/1152,d=A(e,_);n[l]=Math.min(n[l],d)}}for(l=0;l<f.SBMAX_s;l++){c=i.scalefac_band.s[l],u=i.scalefac_band.s[l+1];r[l]=o.MAX_VALUE;for(p=c;p<u;p++){_=p*s/384,d=A(e,_);r[l]=Math.min(r[l],d)}r[l]*=i.scalefac_band.s[l+1]-i.scalefac_band.s[l]}for(l=0;l<f.PSFB12;l++){c=i.scalefac_band.psfb12[l],u=i.scalefac_band.psfb12[l+1];a[l]=o.MAX_VALUE;for(p=c;p<u;p++){_=p*s/384,d=A(e,_);a[l]=Math.min(a[l],d)}a[l]*=i.scalefac_band.s[13]-i.scalefac_band.s[12]}if(e.noATH){for(l=0;l<f.SBMAX_l;l++)t[l]=1e-20;for(l=0;l<f.PSFB21;l++)n[l]=1e-20;for(l=0;l<f.SBMAX_s;l++)r[l]=1e-20;for(l=0;l<f.PSFB12;l++)a[l]=1e-20}i.ATH.floor=10*Math.log10(A(e,-1))}function k(e){this.s=e}this.adj43=E,this.iteration_init=function(t){var n,r=t.internal_flags,a=r.l3_side;if(0==r.iteration_init_init){for(r.iteration_init_init=1,a.main_data_begin=0,R(t),M[0]=0,n=1;n<m;n++)M[n]=Math.pow(n,4/3);for(n=0;n<m-1;n++)E[n]=n+1-Math.pow(.5*(M[n]+M[n+1]),.75);for(E[n]=.5,n=0;n<b;n++)x[n]=Math.pow(2,-.1875*(n-210));for(n=0;n<=b+g;n++)S[n]=Math.pow(2,.25*(n-210-g));var i,o,s,l;for(e.huffman_init(r),n=t.exp_nspsytune>>2&63,n>=32&&(n-=64),i=Math.pow(10,n/4/10),n=t.exp_nspsytune>>8&63,n>=32&&(n-=64),o=Math.pow(10,n/4/10),n=t.exp_nspsytune>>14&63,n>=32&&(n-=64),s=Math.pow(10,n/4/10),n=t.exp_nspsytune>>20&63,n>=32&&(n-=64),l=s*Math.pow(10,n/4/10),n=0;n<f.SBMAX_l;n++){c=n<=6?i:n<=13?o:n<=20?s:l,r.nsPsy.longfact[n]=c}for(n=0;n<f.SBMAX_s;n++){var c;c=n<=5?i:n<=10?o:n<=11?s:l,r.nsPsy.shortfact[n]=c}}},this.on_pe=function(e,n,r,a,i,o){var s,l,f=e.internal_flags,d=0,h=c(2),v=new p(d),m=t.ResvMaxBits(e,a,v,o);d=v.bits;var b=d+m;for(b>_.MAX_BITS_PER_GRANULE&&(b=_.MAX_BITS_PER_GRANULE),s=0,l=0;l<f.channels_out;++l)r[l]=Math.min(_.MAX_BITS_PER_CHANNEL,d/f.channels_out),h[l]=0|r[l]*n[i][l]/700-r[l],h[l]>3*a/4&&(h[l]=3*a/4),h[l]<0&&(h[l]=0),h[l]+r[l]>_.MAX_BITS_PER_CHANNEL&&(h[l]=Math.max(0,_.MAX_BITS_PER_CHANNEL-r[l])),s+=h[l];if(s>m)for(l=0;l<f.channels_out;++l)h[l]=m*h[l]/s;for(l=0;l<f.channels_out;++l)r[l]+=h[l],m-=h[l];for(s=0,l=0;l<f.channels_out;++l)s+=r[l];if(s>_.MAX_BITS_PER_GRANULE){var g=0;for(l=0;l<f.channels_out;++l)r[l]*=_.MAX_BITS_PER_GRANULE,r[l]/=s,g+=r[l];u(g<=_.MAX_BITS_PER_GRANULE)}return b},this.reduce_side=function(e,t,n,r){u(r<=_.MAX_BITS_PER_GRANULE),u(e[0]+e[1]<=_.MAX_BITS_PER_GRANULE);var a=.33*(.5-t)/.5;a<0&&(a=0),a>.5&&(a=.5);var i=0|.5*a*(e[0]+e[1]);i>_.MAX_BITS_PER_CHANNEL-e[0]&&(i=_.MAX_BITS_PER_CHANNEL-e[0]),i<0&&(i=0),e[1]>=125&&(e[1]-i>125?(e[0]<n&&(e[0]+=i),e[1]-=i):(e[0]+=e[1]-125,e[1]=125)),i=e[0]+e[1],i>r&&(e[0]=r*e[0]/i,e[1]=r*e[1]/i),u(e[0]<=_.MAX_BITS_PER_CHANNEL),u(e[1]<=_.MAX_BITS_PER_CHANNEL),u(e[0]+e[1]<=_.MAX_BITS_PER_GRANULE)},this.athAdjust=function(e,t,n){var r=90.30873362,a=94.82444863,i=s.FAST_LOG10_X(t,10),o=e*e,l=0;return i-=n,o>1e-20&&(l=1+s.FAST_LOG10_X(o,10/r)),l<0&&(l=0),i*=l,i+=n+r-a,Math.pow(10,.1*i)},this.calc_xmin=function(e,t,n,r){var a,o=0,s=e.internal_flags,l=0,c=0,u=s.ATH,p=n.xr,_=e.VBR==i.vbr_mtrh?1:0,d=s.masking_lower;for(e.VBR!=i.vbr_mtrh&&e.VBR!=i.vbr_mt||(d=1),a=0;a<n.psy_lmax;a++){M=e.VBR==i.vbr_rh||e.VBR==i.vbr_mtrh?athAdjust(u.adjust,u.l[a],u.floor):u.adjust*u.l[a],w=n.width[a],E=M/w,A=h,k=w>>1,R=0;do{T=p[l]*p[l],R+=T,A+=T<E?T:E,l++,P=p[l]*p[l],R+=P,A+=P<E?P:E,l++}while(--k>0);if(R>M&&c++,a==f.SBPSY_l){var v=M*s.nsPsy.longfact[a];A<v&&(A=v)}if(0!=_&&(M=A),!e.ATHonly){var m=t.en.l[a];if(m>0)v=R*t.thm.l[a]*d/m,0!=_&&(v*=s.nsPsy.longfact[a]),M<v&&(M=v)}r[o++]=0!=_?M:M*s.nsPsy.longfact[a]}var b=575;if(n.block_type!=f.SHORT_TYPE){var g=576;while(0!=g--&&BitStream.EQ(p[g],0))b=g}n.max_nonzero_coeff=b;for(var y=n.sfb_smin;a<n.psymax;y++,a+=3){var w,S,x;for(x=e.VBR==i.vbr_rh||e.VBR==i.vbr_mtrh?athAdjust(u.adjust,u.s[y],u.floor):u.adjust*u.s[y],w=n.width[a],S=0;S<3;S++){var M,E,A,R=0,k=w>>1;E=x/w,A=h;do{var T,P;T=p[l]*p[l],R+=T,A+=T<E?T:E,l++,P=p[l]*p[l],R+=P,A+=P<E?P:E,l++}while(--k>0);if(R>x&&c++,y==f.SBPSY_s){v=x*s.nsPsy.shortfact[y];A<v&&(A=v)}if(M=0!=_?A:x,!e.ATHonly&&!e.ATHshort){m=t.en.s[y][S];if(m>0)v=R*t.thm.s[y][S]*d/m,0!=_&&(v*=s.nsPsy.shortfact[y]),M<v&&(M=v)}r[o++]=0!=_?M:M*s.nsPsy.shortfact[y]}e.useTemporal&&(r[o-3]>r[o-3+1]&&(r[o-3+1]+=(r[o-3]-r[o-3+1])*s.decay),r[o-3+1]>r[o-3+2]&&(r[o-3+2]+=(r[o-3+1]-r[o-3+2])*s.decay))}return c},this.calc_noise_core=function(e,t,n,r){var a=0,i=t.s,o=e.l3_enc;if(i>e.count1)while(0!=n--){c=e.xr[i],i++,a+=c*c,c=e.xr[i],i++,a+=c*c}else if(i>e.big_values){var s=l(2);s[0]=0,s[1]=r;while(0!=n--){c=Math.abs(e.xr[i])-s[o[i]],i++,a+=c*c,c=Math.abs(e.xr[i])-s[o[i]],i++,a+=c*c}}else while(0!=n--){var c;c=Math.abs(e.xr[i])-M[o[i]]*r,i++,a+=c*c,c=Math.abs(e.xr[i])-M[o[i]]*r,i++,a+=c*c}return t.s=i,a},this.calc_noise=function(e,t,n,r,i){var o,l,c=0,u=0,f=0,p=0,_=0,d=-20,h=0,v=e.scalefac,m=0;for(r.over_SSD=0,o=0;o<e.psymax;o++){var b,g=e.global_gain-(v[m++]+(0!=e.preflag?w[o]:0)<<e.scalefac_scale+1)-8*e.subblock_gain[e.window[o]],y=0;if(null!=i&&i.step[o]==g)y=i.noise[o],h+=e.width[o],n[c++]=y/t[u++],y=i.noise_log[o];else{var S,x=a(g);if(l=e.width[o]>>1,h+e.width[o]>e.max_nonzero_coeff)S=e.max_nonzero_coeff-h+1,l=S>0?S>>1:0;var M=new k(h);y=this.calc_noise_core(e,M,l,x),h=M.s,null!=i&&(i.step[o]=g,i.noise[o]=y),y=n[c++]=y/t[u++],y=s.FAST_LOG10(Math.max(y,1e-20)),null!=i&&(i.noise_log[o]=y)}if(null!=i&&(i.global_gain=e.global_gain),_+=y,y>0)b=Math.max(0|10*y+.5,1),r.over_SSD+=b*b,f++,p+=y;d=Math.max(d,y)}return r.over_count=f,r.tot_noise=_,r.over_noise=p,r.max_noise=d,f},this.set_pinfo=function(e,t,n,r,a){var i,o,s,c,p,_=e.internal_flags,d=0==t.scalefac_scale?.5:1,h=t.scalefac,v=l(L3Side.SFBMAX),m=l(L3Side.SFBMAX),b=new CalcNoiseResult;calc_xmin(e,n,t,v),calc_noise(t,v,m,b,null);var g=0;for(o=t.sfb_lmax,t.block_type!=f.SHORT_TYPE&&0==t.mixed_block_flag&&(o=22),i=0;i<o;i++){var y=_.scalefac_band.l[i],S=_.scalefac_band.l[i+1],x=S-y;for(c=0;g<S;g++)c+=t.xr[g]*t.xr[g];c/=x,p=1e15,_.pinfo.en[r][a][i]=p*c,_.pinfo.xfsf[r][a][i]=p*v[i]*m[i]/x,n.en.l[i]>0&&!e.ATHonly?c/=n.en.l[i]:c=0,_.pinfo.thr[r][a][i]=p*Math.max(c*n.thm.l[i],_.ATH.l[i]),_.pinfo.LAMEsfb[r][a][i]=0,0!=t.preflag&&i>=11&&(_.pinfo.LAMEsfb[r][a][i]=-d*w[i]),i<f.SBPSY_l&&(u(h[i]>=0),_.pinfo.LAMEsfb[r][a][i]-=d*h[i])}if(t.block_type==f.SHORT_TYPE)for(o=i,i=t.sfb_smin;i<f.SBMAX_s;i++){y=_.scalefac_band.s[i],S=_.scalefac_band.s[i+1],x=S-y;for(var M=0;M<3;M++){for(c=0,s=y;s<S;s++)c+=t.xr[g]*t.xr[g],g++;c=Math.max(c/x,1e-20),p=1e15,_.pinfo.en_s[r][a][3*i+M]=p*c,_.pinfo.xfsf_s[r][a][3*i+M]=p*v[o]*m[o]/x,n.en.s[i][M]>0?c/=n.en.s[i][M]:c=0,(e.ATHonly||e.ATHshort)&&(c=0),_.pinfo.thr_s[r][a][3*i+M]=p*Math.max(c*n.thm.s[i][M],_.ATH.s[i]),_.pinfo.LAMEsfb_s[r][a][3*i+M]=-2*t.subblock_gain[M],i<f.SBPSY_s&&(_.pinfo.LAMEsfb_s[r][a][3*i+M]-=d*h[o]),o++}}_.pinfo.LAMEqss[r][a]=t.global_gain,_.pinfo.LAMEmainbits[r][a]=t.part2_3_length+t.part2_length,_.pinfo.LAMEsfbits[r][a]=t.part2_length,_.pinfo.over[r][a]=b.over_count,_.pinfo.max_noise[r][a]=10*b.max_noise,_.pinfo.over_noise[r][a]=10*b.over_noise,_.pinfo.tot_noise[r][a]=10*b.tot_noise,_.pinfo.over_SSD[r][a]=b.over_SSD}}d.Q_MAX=257,d.Q_MAX2=116,d.LARGE_BITS=1e5,d.IXMAX_VAL=8206,e.exports=d},bd8b:function(e,t,n){var r=n("0206"),a=(r.System,r.VbrMode,r.Float,r.ShortBlock,r.Util,r.Arrays,r.new_array_n,r.new_byte),i=r.new_double,o=r.new_float,s=r.new_float_n,l=r.new_int,c=r.new_int_n,u=(r.assert,n("2695")),f=n("ff81"),p=n("c0be"),_=n("2466"),d=n("a1b7"),h=n("4b5e"),v=n("9828");function m(){var e=40;function t(){this.write_timing=0,this.ptr=0,this.buf=a(e)}this.Class_ID=0,this.lame_encode_frame_init=0,this.iteration_init_init=0,this.fill_buffer_resample_init=0,this.mfbuf=s([2,m.MFSIZE]),this.mode_gr=0,this.channels_in=0,this.channels_out=0,this.resample_ratio=0,this.mf_samples_to_encode=0,this.mf_size=0,this.VBR_min_bitrate=0,this.VBR_max_bitrate=0,this.bitrate_index=0,this.samplerate_index=0,this.mode_ext=0,this.lowpass1=0,this.lowpass2=0,this.highpass1=0,this.highpass2=0,this.noise_shaping=0,this.noise_shaping_amp=0,this.substep_shaping=0,this.psymodel=0,this.noise_shaping_stop=0,this.subblock_gain=0,this.use_best_huffman=0,this.full_outer_loop=0,this.l3_side=new u,this.ms_ratio=o(2),this.padding=0,this.frac_SpF=0,this.slot_lag=0,this.tag_spec=null,this.nMusicCRC=0,this.OldValue=l(2),this.CurrentStep=l(2),this.masking_lower=0,this.bv_scf=l(576),this.pseudohalf=l(v.SFBMAX),this.sfb21_extra=!1,this.inbuf_old=new Array(2),this.blackfilt=new Array(2*m.BPC+1),this.itime=i(2),this.sideinfo_len=0,this.sb_sample=s([2,2,18,h.SBLIMIT]),this.amp_filter=o(32),this.header=new Array(m.MAX_HEADER_BUF),this.h_ptr=0,this.w_ptr=0,this.ancillary_flag=0,this.ResvSize=0,this.ResvMax=0,this.scalefac_band=new f,this.minval_l=o(h.CBANDS),this.minval_s=o(h.CBANDS),this.nb_1=s([4,h.CBANDS]),this.nb_2=s([4,h.CBANDS]),this.nb_s1=s([4,h.CBANDS]),this.nb_s2=s([4,h.CBANDS]),this.s3_ss=null,this.s3_ll=null,this.decay=0,this.thm=new Array(4),this.en=new Array(4),this.tot_ener=o(4),this.loudness_sq=s([2,2]),this.loudness_sq_save=o(2),this.mld_l=o(h.SBMAX_l),this.mld_s=o(h.SBMAX_s),this.bm_l=l(h.SBMAX_l),this.bo_l=l(h.SBMAX_l),this.bm_s=l(h.SBMAX_s),this.bo_s=l(h.SBMAX_s),this.npart_l=0,this.npart_s=0,this.s3ind=c([h.CBANDS,2]),this.s3ind_s=c([h.CBANDS,2]),this.numlines_s=l(h.CBANDS),this.numlines_l=l(h.CBANDS),this.rnumlines_l=o(h.CBANDS),this.mld_cb_l=o(h.CBANDS),this.mld_cb_s=o(h.CBANDS),this.numlines_s_num1=0,this.numlines_l_num1=0,this.pe=o(4),this.ms_ratio_s_old=0,this.ms_ratio_l_old=0,this.ms_ener_ratio_old=0,this.blocktype_old=l(2),this.nsPsy=new p,this.VBR_seek_table=new _,this.ATH=null,this.PSY=null,this.nogap_total=0,this.nogap_current=0,this.decode_on_the_fly=!0,this.findReplayGain=!0,this.findPeakSample=!0,this.PeakSample=0,this.RadioGain=0,this.AudiophileGain=0,this.rgdata=null,this.noclipGainChange=0,this.noclipScale=0,this.bitrate_stereoMode_Hist=c([16,5]),this.bitrate_blockType_Hist=c([16,6]),this.pinfo=null,this.hip=null,this.in_buffer_nsamples=0,this.in_buffer_0=null,this.in_buffer_1=null,this.iteration_loop=null;for(var n=0;n<this.en.length;n++)this.en[n]=new d;for(n=0;n<this.thm.length;n++)this.thm[n]=new d;for(n=0;n<this.header.length;n++)this.header[n]=new t}m.MFSIZE=3456+h.ENCDELAY-h.MDCTDELAY,m.MAX_HEADER_BUF=256,m.MAX_BITS_PER_CHANNEL=4095,m.MAX_BITS_PER_GRANULE=7680,m.BPC=320,e.exports=m},c0be:function(e,t,n){var r=n("0206"),a=(r.System,r.VbrMode,r.Float,r.ShortBlock,r.Util,r.Arrays,r.new_array_n,r.new_byte,r.new_double,r.new_float),i=r.new_float_n,o=r.new_int,s=(r.new_int_n,r.assert,n("4b5e"));function l(){this.last_en_subshort=i([4,9]),this.lastAttacks=o(4),this.pefirbuf=a(19),this.longfact=a(s.SBMAX_l),this.shortfact=a(s.SBMAX_s),this.attackthre=0,this.attackthre_s=0}e.exports=l},d9be:function(e,t,n){var r=n("0206"),a=r.System,i=(r.VbrMode,r.Float,r.ShortBlock,r.Util,r.Arrays),o=(r.new_array_n,r.new_byte,r.new_double,r.new_float,r.new_float_n,r.new_int),s=(r.new_int_n,r.assert),l=n("4b5e"),c=n("5f84"),u=n("f3b5"),f=n("bb22");function p(){var e=null;function t(e){this.bits=0|e}this.qupvt=null,this.setModules=function(t){this.qupvt=t,e=t};var n=[[0,0],[0,0],[0,0],[0,0],[0,0],[0,1],[1,1],[1,1],[1,2],[2,2],[2,3],[2,3],[3,4],[3,4],[3,4],[4,5],[4,5],[4,6],[5,6],[5,6],[5,7],[6,7],[6,7]];function r(e,t,n,r,a,i){var o=.5946/t;s(e>0),e>>=1;while(0!=e--)a[i++]=o>n[r++]?0:1,a[i++]=o>n[r++]?0:1}function _(t,n,r,a,i,o){s(t>0),t>>=1;var l=t%2;t>>=1;while(0!=t--){var c,u,f,p,_,d,h,v;c=r[a++]*n,u=r[a++]*n,_=0|c,f=r[a++]*n,d=0|u,p=r[a++]*n,h=0|f,c+=e.adj43[_],v=0|p,u+=e.adj43[d],i[o++]=0|c,f+=e.adj43[h],i[o++]=0|u,p+=e.adj43[v],i[o++]=0|f,i[o++]=0|p}0!=l&&(c=r[a++]*n,u=r[a++]*n,_=0|c,d=0|u,c+=e.adj43[_],u+=e.adj43[d],i[o++]=0|c,i[o++]=0|u)}function d(t,n,a,o,c){var u,f,p,d=0,h=0,v=0,m=0,b=n,g=0,y=b,w=0,S=t,x=0;for(p=null!=c&&o.global_gain==c.global_gain,f=o.block_type==l.SHORT_TYPE?38:21,u=0;u<=f;u++){var M=-1;if((p||o.block_type==l.NORM_TYPE)&&(M=o.global_gain-(o.scalefac[u]+(0!=o.preflag?e.pretab[u]:0)<<o.scalefac_scale+1)-8*o.subblock_gain[o.window[u]]),s(o.width[u]>=0),p&&c.step[u]==M)0!=h&&(_(h,a,S,x,y,w),h=0),0!=v&&(r(v,a,S,x,y,w),v=0);else{var E,A=o.width[u];if(d+o.width[u]>o.max_nonzero_coeff)E=o.max_nonzero_coeff-d+1,i.fill(n,o.max_nonzero_coeff,576,0),A=E,A<0&&(A=0),u=f+1;if(0==h&&0==v&&(y=b,w=g,S=t,x=m),null!=c&&c.sfb_count1>0&&u>=c.sfb_count1&&c.step[u]>0&&M>=c.step[u]?(0!=h&&(_(h,a,S,x,y,w),h=0,y=b,w=g,S=t,x=m),v+=A):(0!=v&&(r(v,a,S,x,y,w),v=0,y=b,w=g,S=t,x=m),h+=A),A<=0){0!=v&&(r(v,a,S,x,y,w),v=0),0!=h&&(_(h,a,S,x,y,w),h=0);break}}u<=f&&(g+=o.width[u],m+=o.width[u],d+=o.width[u])}0!=h&&(_(h,a,S,x,y,w),h=0),0!=v&&(r(v,a,S,x,y,w),v=0)}function h(e,t,n){var r=0,a=0;do{var i=e[t++],o=e[t++];r<i&&(r=i),a<o&&(a=o)}while(t<n);return r<a&&(r=a),r}function v(e,t,n,r,a,i){var o,s=65536*c.ht[r].xlen+c.ht[a].xlen,l=0;do{var u=e[t++],f=e[t++];0!=u&&(u>14&&(u=15,l+=s),u*=16),0!=f&&(f>14&&(f=15,l+=s),u+=f),l+=c.largetbl[u]}while(t<n);return o=65535&l,l>>=16,l>o&&(l=o,r=a),i.bits+=l,r}function m(e,t,n,r){var a=0,i=c.ht[1].hlen;do{var o=2*e[t+0]+e[t+1];t+=2,a+=i[o]}while(t<n);return r.bits+=a,1}function b(e,t,n,r,a){var i,o,s=0,l=c.ht[r].xlen;o=2==r?c.table23:c.table56;do{var u=e[t+0]*l+e[t+1];t+=2,s+=o[u]}while(t<n);return i=65535&s,s>>=16,s>i&&(s=i,r++),a.bits+=s,r}function g(e,t,n,r,a){var i=0,o=0,s=0,l=c.ht[r].xlen,u=c.ht[r].hlen,f=c.ht[r+1].hlen,p=c.ht[r+2].hlen;do{var _=e[t+0]*l+e[t+1];t+=2,i+=u[_],o+=f[_],s+=p[_]}while(t<n);var d=r;return i>o&&(i=o,d++),i>s&&(i=s,d=r+2),a.bits+=i,d}var y=[1,2,5,7,7,10,10,13,13,13,13,13,13,13,13];function w(e,t,n,r){var a=h(e,t,n);switch(a){case 0:return a;case 1:return m(e,t,n,r);case 2:case 3:return b(e,t,n,y[a-1],r);case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 12:case 13:case 14:case 15:return g(e,t,n,y[a-1],r);default:if(a>f.IXMAX_VAL)return r.bits=f.LARGE_BITS,-1;var i,o;for(a-=15,i=24;i<32;i++)if(c.ht[i].linmax>=a)break;for(o=i-8;o<24;o++)if(c.ht[o].linmax>=a)break;return v(e,t,n,o,i,r)}}function S(e,n,r,a,i,o,s){for(var l=n.big_values,c=0;c<=22;c++)a[c]=f.LARGE_BITS;for(c=0;c<16;c++){var u=e.scalefac_band.l[c+1];if(u>=l)break;var p=0,_=new t(p),d=w(r,0,u,_);p=_.bits;for(var h=0;h<8;h++){var v=e.scalefac_band.l[c+h+2];if(v>=l)break;var m=p;_=new t(m);var b=w(r,u,v,_);m=_.bits,a[c+h]>m&&(a[c+h]=m,i[c+h]=c,o[c+h]=d,s[c+h]=b)}}}function x(e,n,r,a,i,o,s,c){for(var u=n.big_values,f=2;f<l.SBMAX_l+1;f++){var p=e.scalefac_band.l[f];if(p>=u)break;var _=i[f-2]+n.count1bits;if(r.part2_3_length<=_)break;var d=new t(_),h=w(a,p,u,d);_=d.bits,r.part2_3_length<=_||(r.assign(n),r.part2_3_length=_,r.region0_count=o[f-2],r.region1_count=f-2-o[f-2],r.table_select[0]=s[f-2],r.table_select[1]=c[f-2],r.table_select[2]=h)}}this.noquant_count_bits=function(e,n,r){var a=n.l3_enc,i=Math.min(576,n.max_nonzero_coeff+2>>1<<1);for(null!=r&&(r.sfb_count1=0);i>1;i-=2)if(0!=(a[i-1]|a[i-2]))break;n.count1=i;for(var o=0,u=0;i>3;i-=4){var f;if((2147483647&(a[i-1]|a[i-2]|a[i-3]|a[i-4]))>1)break;f=2*(2*(2*a[i-4]+a[i-3])+a[i-2])+a[i-1],o+=c.t32l[f],u+=c.t33l[f]}var p=o;if(n.count1table_select=0,o>u&&(p=u,n.count1table_select=1),n.count1bits=p,n.big_values=i,0==i)return p;if(n.block_type==l.SHORT_TYPE)o=3*e.scalefac_band.s[3],o>n.big_values&&(o=n.big_values),u=n.big_values;else if(n.block_type==l.NORM_TYPE){if(s(i<=576),o=n.region0_count=e.bv_scf[i-2],u=n.region1_count=e.bv_scf[i-1],s(o+u+2<l.SBPSY_l),u=e.scalefac_band.l[o+u+2],o=e.scalefac_band.l[o+1],u<i){var _=new t(p);n.table_select[2]=w(a,u,i,_),p=_.bits}}else n.region0_count=7,n.region1_count=l.SBMAX_l-1-7-1,o=e.scalefac_band.l[8],u=i,o>u&&(o=u);if(o=Math.min(o,i),u=Math.min(u,i),s(o>=0),s(u>=0),0<o){_=new t(p);n.table_select[0]=w(a,0,o,_),p=_.bits}if(o<u){_=new t(p);n.table_select[1]=w(a,o,u,_),p=_.bits}if(2==e.use_best_huffman&&(n.part2_3_length=p,best_huffman_divide(e,n),p=n.part2_3_length),null!=r&&n.block_type==l.NORM_TYPE){var d=0;while(e.scalefac_band.l[d]<n.big_values)d++;r.sfb_count1=d}return p},this.count_bits=function(t,n,r,a){var i=r.l3_enc,o=f.IXMAX_VAL/e.IPOW20(r.global_gain);if(r.xrpow_max>o)return f.LARGE_BITS;if(d(n,i,e.IPOW20(r.global_gain),r,a),0!=(2&t.substep_shaping))for(var l=0,c=r.global_gain+r.scalefac_scale,u=.634521682242439/e.IPOW20(c),p=0;p<r.sfbmax;p++){var _,h=r.width[p];if(s(h>=0),0==t.pseudohalf[p])l+=h;else for(_=l,l+=h;_<l;++_)i[_]=n[_]>=u?i[_]:0}return this.noquant_count_bits(t,r,a)},this.best_huffman_divide=function(e,n){var r=new u,a=n.l3_enc,i=o(23),f=o(23),p=o(23),_=o(23);if(n.block_type!=l.SHORT_TYPE||1!=e.mode_gr){r.assign(n),n.block_type==l.NORM_TYPE&&(S(e,n,a,i,f,p,_),x(e,r,n,a,i,f,p,_));var d=r.big_values;if(!(0==d||(a[d-2]|a[d-1])>1)&&(d=n.count1+2,!(d>576))){r.assign(n),r.count1=d;var h=0,v=0;for(s(d<=576);d>r.big_values;d-=4){var m=2*(2*(2*a[d-4]+a[d-3])+a[d-2])+a[d-1];h+=c.t32l[m],v+=c.t33l[m]}if(r.big_values=d,r.count1table_select=0,h>v&&(h=v,r.count1table_select=1),r.count1bits=h,r.block_type==l.NORM_TYPE)x(e,r,n,a,i,f,p,_);else{if(r.part2_3_length=h,h=e.scalefac_band.l[8],h>d&&(h=d),h>0){var b=new t(r.part2_3_length);r.table_select[0]=w(a,0,h,b),r.part2_3_length=b.bits}if(d>h){b=new t(r.part2_3_length);r.table_select[1]=w(a,h,d,b),r.part2_3_length=b.bits}n.part2_3_length>r.part2_3_length&&n.assign(r)}}}};var M=[1,1,1,1,8,2,2,2,4,4,4,8,8,8,16,16],E=[1,2,4,8,1,2,4,8,2,4,8,2,4,8,4,8],A=[0,0,0,0,3,1,1,1,2,2,2,3,3,3,4,4],R=[0,1,2,3,0,1,2,3,1,2,3,1,2,3,2,3];function k(e,t){for(var n,r=t.tt[1][e],a=t.tt[0][e],i=0;i<c.scfsi_band.length-1;i++){for(n=c.scfsi_band[i];n<c.scfsi_band[i+1];n++)if(a.scalefac[n]!=r.scalefac[n]&&r.scalefac[n]>=0)break;if(n==c.scfsi_band[i+1]){for(n=c.scfsi_band[i];n<c.scfsi_band[i+1];n++)r.scalefac[n]=-1;t.scfsi[e][i]=1}}var o=0,s=0;for(n=0;n<11;n++)-1!=r.scalefac[n]&&(s++,o<r.scalefac[n]&&(o=r.scalefac[n]));for(var u=0,f=0;n<l.SBPSY_l;n++)-1!=r.scalefac[n]&&(f++,u<r.scalefac[n]&&(u=r.scalefac[n]));for(i=0;i<16;i++)if(o<M[i]&&u<E[i]){var p=A[i]*s+R[i]*f;r.part2_length>p&&(r.part2_length=p,r.scalefac_compress=i)}}function T(e,t){for(var n=0;n<t;++n)if(e[n]<0)return!1;return!0}p.slen1_tab=A,p.slen2_tab=R,this.best_scalefac_store=function(t,n,r,a){var i,o,c,u,f=a.tt[n][r],p=0;for(c=0,i=0;i<f.sfbmax;i++){var _=f.width[i];for(s(_>=0),c+=_,u=-_;u<0;u++)if(0!=f.l3_enc[u+c])break;0==u&&(f.scalefac[i]=p=-2)}if(0==f.scalefac_scale&&0==f.preflag){var d=0;for(i=0;i<f.sfbmax;i++)f.scalefac[i]>0&&(d|=f.scalefac[i]);if(0==(1&d)&&0!=d){for(i=0;i<f.sfbmax;i++)f.scalefac[i]>0&&(f.scalefac[i]>>=1);f.scalefac_scale=p=1}}if(0==f.preflag&&f.block_type!=l.SHORT_TYPE&&2==t.mode_gr){for(i=11;i<l.SBPSY_l;i++)if(f.scalefac[i]<e.pretab[i]&&-2!=f.scalefac[i])break;if(i==l.SBPSY_l){for(i=11;i<l.SBPSY_l;i++)f.scalefac[i]>0&&(f.scalefac[i]-=e.pretab[i]);f.preflag=p=1}}for(o=0;o<4;o++)a.scfsi[r][o]=0;for(2==t.mode_gr&&1==n&&a.tt[0][r].block_type!=l.SHORT_TYPE&&a.tt[1][r].block_type!=l.SHORT_TYPE&&(k(r,a),p=0),i=0;i<f.sfbmax;i++)-2==f.scalefac[i]&&(f.scalefac[i]=0);0!=p&&(2==t.mode_gr?this.scale_bitcount(f):this.scale_bitcount_lsf(t,f))};var P=[0,18,36,54,54,36,54,72,54,72,90,72,90,108,108,126],B=[0,18,36,54,51,35,53,71,52,70,88,69,87,105,104,122],O=[0,10,20,30,33,21,31,41,32,42,52,43,53,63,64,74];this.scale_bitcount=function(t){var n,r,a,i=0,o=0,c=t.scalefac;if(s(T(c,t.sfbmax)),t.block_type==l.SHORT_TYPE)a=P,0!=t.mixed_block_flag&&(a=B);else if(a=O,0==t.preflag){for(r=11;r<l.SBPSY_l;r++)if(c[r]<e.pretab[r])break;if(r==l.SBPSY_l)for(t.preflag=1,r=11;r<l.SBPSY_l;r++)c[r]-=e.pretab[r]}for(r=0;r<t.sfbdivide;r++)i<c[r]&&(i=c[r]);for(;r<t.sfbmax;r++)o<c[r]&&(o=c[r]);for(t.part2_length=f.LARGE_BITS,n=0;n<16;n++)i<M[n]&&o<E[n]&&t.part2_length>a[n]&&(t.part2_length=a[n],t.scalefac_compress=n);return t.part2_length==f.LARGE_BITS};var I=[[15,15,7,7],[15,15,7,0],[7,3,0,0],[15,31,31,0],[7,7,7,0],[3,3,0,0]];this.scale_bitcount_lsf=function(t,n){var r,i,c,u,f,p,_,d,h=o(4),v=n.scalefac;for(r=0!=n.preflag?2:0,_=0;_<4;_++)h[_]=0;if(n.block_type==l.SHORT_TYPE){i=1;var m=e.nr_of_sfb_block[r][i];for(d=0,c=0;c<4;c++)for(u=m[c]/3,_=0;_<u;_++,d++)for(f=0;f<3;f++)v[3*d+f]>h[c]&&(h[c]=v[3*d+f])}else{i=0;m=e.nr_of_sfb_block[r][i];for(d=0,c=0;c<4;c++)for(u=m[c],_=0;_<u;_++,d++)v[d]>h[c]&&(h[c]=v[d])}for(p=!1,c=0;c<4;c++)h[c]>I[r][c]&&(p=!0);if(!p){var b,g,y,w;for(n.sfb_partition_table=e.nr_of_sfb_block[r][i],c=0;c<4;c++)n.slen[c]=j[h[c]];switch(b=n.slen[0],g=n.slen[1],y=n.slen[2],w=n.slen[3],r){case 0:n.scalefac_compress=(5*b+g<<4)+(y<<2)+w;break;case 1:n.scalefac_compress=400+(5*b+g<<2)+y;break;case 2:n.scalefac_compress=500+3*b+g;break;default:a.err.printf("intensity stereo not implemented yet\n");break}}if(!p)for(s(null!=n.sfb_partition_table),n.part2_length=0,c=0;c<4;c++)n.part2_length+=n.slen[c]*n.sfb_partition_table[c];return p};var j=[0,1,2,2,3,3,3,3,4,4,4,4,4,4,4,4];this.huffman_init=function(e){for(var t=2;t<=576;t+=2){var r,a=0;while(e.scalefac_band.l[++a]<t);r=n[a][0];while(e.scalefac_band.l[r+1]>t)r--;r<0&&(r=n[a][0]),e.bv_scf[t-2]=r,r=n[a][1];while(e.scalefac_band.l[r+e.bv_scf[t-2]+2]>t)r--;r<0&&(r=n[a][1]),e.bv_scf[t-1]=r}}}e.exports=p},db3f:function(e,t,n){var r=n("0206"),a=(r.System,r.VbrMode,r.Float,r.ShortBlock,r.Util,r.Arrays,r.new_array_n,r.new_byte),i=(r.new_double,r.new_float,r.new_float_n,r.new_int,r.new_int_n,r.assert);Lame=n("dead"),Presets=n("3967"),GainAnalysis=n("2f21"),QuantizePVT=n("bb22"),Quantize=n("dbb1"),Takehiro=n("d9be"),Reservoir=n("58b1"),MPEGMode=n("67b2"),BitStream=n("69b2");n("4b5e");var o=n("8cba"),s=n("e107");function l(){this.setModules=function(e,t){e,t}}function c(){this.setModules=function(e,t,n){e,t,n}}function u(){}function f(){this.setModules=function(e,t){e,t}}function p(e,t,n){3!=arguments.length&&(console.error("WARN: Mp3Encoder(channels, samplerate, kbps) not specified"),e=1,t=44100,n=128);var r=new Lame,p=new l,_=new GainAnalysis,d=new BitStream,h=new Presets,v=new QuantizePVT,m=new Quantize,b=new s,g=new o,y=new f,w=new Reservoir,S=new Takehiro,x=new c,M=new u;r.setModules(_,d,h,v,m,b,g,y,M),d.setModules(_,M,g,b),y.setModules(d,g),h.setModules(r),m.setModules(d,w,v,S),v.setModules(S,w,r.enc.psy),w.setModules(d),S.setModules(v),b.setModules(r,d,g),p.setModules(x,M),x.setModules(g,y,h);var E=r.lame_init();E.num_channels=e,E.in_samplerate=t,E.brate=n,E.mode=MPEGMode.STEREO,E.quality=3,E.bWriteVbrTag=!1,E.disable_reservoir=!0,E.write_id3tag_automatic=!1;var A=r.lame_init_params(E);i(0==A);var R=1152,k=0|1.25*R+7200,T=a(k);this.encodeBuffer=function(t,n){1==e&&(n=t),i(t.length==n.length),t.length>R&&(R=t.length,k=0|1.25*R+7200,T=a(k));var o=r.lame_encode_buffer(E,t,n,t.length,T,0,k);return new Int8Array(T.subarray(0,o))},this.flush=function(){var e=r.lame_encode_flush(E,T,0,k);return new Int8Array(T.subarray(0,e))}}function _(){this.dataOffset=0,this.dataLen=0,this.channels=0,this.sampleRate=0}function d(e){return e.charCodeAt(0)<<24|e.charCodeAt(1)<<16|e.charCodeAt(2)<<8|e.charCodeAt(3)}_.RIFF=d("RIFF"),_.WAVE=d("WAVE"),_.fmt_=d("fmt "),_.data=d("data"),_.readHeader=function(e){var t=new _,n=e.getUint32(0,!1);if(_.RIFF==n){e.getUint32(4,!0);if(_.WAVE==e.getUint32(8,!1)&&_.fmt_==e.getUint32(12,!1)){var r=e.getUint32(16,!0),a=20;switch(r){case 16:case 18:t.channels=e.getUint16(a+2,!0),t.sampleRate=e.getUint32(a+4,!0);break;default:throw"extended fmt chunk not implemented"}a+=r;var i=_.data,o=0;while(i!=n){if(n=e.getUint32(a,!1),o=e.getUint32(a+4,!0),i==n)break;a+=o+8}return t.dataLen=o,t.dataOffset=a+8,t}}},e.exports.Mp3Encoder=p,e.exports.WavHeader=_},dbb1:function(e,t,n){var r=n("0206"),a=r.System,i=r.VbrMode,o=(r.Float,r.ShortBlock,r.Util),s=r.Arrays,l=(r.new_array_n,r.new_byte,r.new_double,r.new_float),c=(r.new_float_n,r.new_int,r.new_int_n,r.assert),u=n("a26a"),f=n("7276"),p=n("09e6"),_=n("4b5e"),d=n("f3b5"),h=n("9828");function v(){var e,t,n;this.rv=null,this.qupvt=null;var r,v=new u;function m(e,t,n,r){r=0;for(var a=0;a<=n;++a){var i=Math.abs(e.xr[a]);r+=i,t[a]=Math.sqrt(i*Math.sqrt(i)),t[a]>e.xrpow_max&&(e.xrpow_max=t[a])}return r}function b(e,t){var r=e.ATH,a=t.xr;if(t.block_type!=_.SHORT_TYPE)for(var i=!1,o=_.PSFB21-1;o>=0&&!i;o--){var s=e.scalefac_band.psfb21[o],l=e.scalefac_band.psfb21[o+1],c=n.athAdjust(r.adjust,r.psfb21[o],r.floor);e.nsPsy.longfact[21]>1e-12&&(c*=e.nsPsy.longfact[21]);for(var u=l-1;u>=s;u--){if(!(Math.abs(a[u])<c)){i=!0;break}a[u]=0}}else for(var f=0;f<3;f++)for(i=!1,o=_.PSFB12-1;o>=0&&!i;o--){s=3*e.scalefac_band.s[12]+(e.scalefac_band.s[13]-e.scalefac_band.s[12])*f+(e.scalefac_band.psfb12[o]-e.scalefac_band.psfb12[0]),l=s+(e.scalefac_band.psfb12[o+1]-e.scalefac_band.psfb12[o]);var p=n.athAdjust(r.adjust,r.psfb12[o],r.floor);e.nsPsy.shortfact[12]>1e-12&&(p*=e.nsPsy.shortfact[12]);for(u=l-1;u>=s;u--){if(!(Math.abs(a[u])<p)){i=!0;break}a[u]=0}}}function g(e){this.ordinal=e}function y(e,t,n,a,i){var o,s=e.CurrentStep[a],l=!1,u=e.OldValue[a],f=g.BINSEARCH_NONE;for(t.global_gain=u,n-=t.part2_length,c(0!=s);;){var p;if(o=r.count_bits(e,i,t,null),1==s||o==n)break;o>n?(f==g.BINSEARCH_DOWN&&(l=!0),l&&(s/=2),f=g.BINSEARCH_UP,p=s):(f==g.BINSEARCH_UP&&(l=!0),l&&(s/=2),f=g.BINSEARCH_DOWN,p=-s),t.global_gain+=p,t.global_gain<0&&(t.global_gain=0,l=!0),t.global_gain>255&&(t.global_gain=255,l=!0)}c(t.global_gain>=0),c(t.global_gain<256);while(o>n&&t.global_gain<255)t.global_gain++,o=r.count_bits(e,i,t,null);return e.CurrentStep[a]=u-t.global_gain>=4?4:2,e.OldValue[a]=t.global_gain,t.part2_3_length=o,o}function w(e){for(var t=0;t<e.sfbmax;t++)if(e.scalefac[t]+e.subblock_gain[e.window[t]]==0)return!1;return!0}function S(e){return o.FAST_LOG10(.368+.632*e*e*e)}function x(e,t){for(var n=1e-37,r=0;r<t.psymax;r++)n+=S(e[r]);return Math.max(1e-20,n)}function M(e,t,n,r,a){var i;switch(e){default:case 9:t.over_count>0?(i=n.over_SSD<=t.over_SSD,n.over_SSD==t.over_SSD&&(i=n.bits<t.bits)):i=n.max_noise<0&&10*n.max_noise+n.bits<=10*t.max_noise+t.bits;break;case 0:i=n.over_count<t.over_count||n.over_count==t.over_count&&n.over_noise<t.over_noise||n.over_count==t.over_count&&BitStream.EQ(n.over_noise,t.over_noise)&&n.tot_noise<t.tot_noise;break;case 8:n.max_noise=x(a,r);case 1:i=n.max_noise<t.max_noise;break;case 2:i=n.tot_noise<t.tot_noise;break;case 3:i=n.tot_noise<t.tot_noise&&n.max_noise<t.max_noise;break;case 4:i=n.max_noise<=0&&t.max_noise>.2||n.max_noise<=0&&t.max_noise<0&&t.max_noise>n.max_noise-.2&&n.tot_noise<t.tot_noise||n.max_noise<=0&&t.max_noise>0&&t.max_noise>n.max_noise-.2&&n.tot_noise<t.tot_noise+t.over_noise||n.max_noise>0&&t.max_noise>-.05&&t.max_noise>n.max_noise-.1&&n.tot_noise+n.over_noise<t.tot_noise+t.over_noise||n.max_noise>0&&t.max_noise>-.1&&t.max_noise>n.max_noise-.15&&n.tot_noise+n.over_noise+n.over_noise<t.tot_noise+t.over_noise+t.over_noise;break;case 5:i=n.over_noise<t.over_noise||BitStream.EQ(n.over_noise,t.over_noise)&&n.tot_noise<t.tot_noise;break;case 6:i=n.over_noise<t.over_noise||BitStream.EQ(n.over_noise,t.over_noise)&&(n.max_noise<t.max_noise||BitStream.EQ(n.max_noise,t.max_noise)&&n.tot_noise<=t.tot_noise);break;case 7:i=n.over_count<t.over_count||n.over_noise<t.over_noise;break}return 0==t.over_count&&(i=i&&n.bits<t.bits),i}function E(e,t,n,r,a){var i,o=e.internal_flags;i=0==t.scalefac_scale?1.2968395546510096:1.6817928305074292;for(var s=0,l=0;l<t.sfbmax;l++)s<n[l]&&(s=n[l]);var c=o.noise_shaping_amp;switch(3==c&&(c=a?2:1),c){case 2:break;case 1:s>1?s=Math.pow(s,.5):s*=.95;break;case 0:default:s>1?s=1:s*=.95;break}var u=0;for(l=0;l<t.sfbmax;l++){var f,p=t.width[l];if(u+=p,!(n[l]<s)){if(0!=(2&o.substep_shaping)&&(o.pseudohalf[l]=0==o.pseudohalf[l]?1:0,0==o.pseudohalf[l]&&2==o.noise_shaping_amp))return;for(t.scalefac[l]++,f=-p;f<0;f++)r[u+f]*=i,r[u+f]>t.xrpow_max&&(t.xrpow_max=r[u+f]);if(2==o.noise_shaping_amp)return}}}function A(e,t){for(var r=1.2968395546510096,a=0,i=0;i<e.sfbmax;i++){var o=e.width[i],s=e.scalefac[i];if(0!=e.preflag&&(s+=n.pretab[i]),a+=o,0!=(1&s)){s++;for(var l=-o;l<0;l++)t[a+l]*=r,t[a+l]>e.xrpow_max&&(e.xrpow_max=t[a+l])}e.scalefac[i]=s>>1}e.preflag=0,e.scalefac_scale=1}function R(e,t,r){var a,i=t.scalefac;for(a=0;a<t.sfb_lmax;a++)if(i[a]>=16)return!0;for(var o=0;o<3;o++){var s=0,l=0;for(a=t.sfb_lmax+o;a<t.sfbdivide;a+=3)s<i[a]&&(s=i[a]);for(;a<t.sfbmax;a+=3)l<i[a]&&(l=i[a]);if(!(s<16&&l<8)){if(t.subblock_gain[o]>=7)return!0;t.subblock_gain[o]++;var u=e.scalefac_band.l[t.sfb_lmax];for(a=t.sfb_lmax+o;a<t.sfbmax;a+=3){var f=t.width[a],p=i[a];if(c(p>=0),p-=4>>t.scalefac_scale,p>=0)i[a]=p,u+=3*f;else{i[a]=0;var _=210+(p<<t.scalefac_scale+1);h=n.IPOW20(_),u+=f*(o+1);for(var d=-f;d<0;d++)r[u+d]*=h,r[u+d]>t.xrpow_max&&(t.xrpow_max=r[u+d]);u+=f*(3-o-1)}}var h=n.IPOW20(202);u+=t.width[a]*(o+1);for(d=-t.width[a];d<0;d++)r[u+d]*=h,r[u+d]>t.xrpow_max&&(t.xrpow_max=r[u+d])}}return!1}function k(e,t,n,a,i){var o=e.internal_flags;E(e,t,n,a,i);var l=w(t);return!l&&(l=2==o.mode_gr?r.scale_bitcount(t):r.scale_bitcount_lsf(o,t),!l||(o.noise_shaping>1&&(s.fill(o.pseudohalf,0),0==t.scalefac_scale?(A(t,a),l=!1):t.block_type==_.SHORT_TYPE&&o.subblock_gain>0&&(l=R(o,t,a)||w(t))),l||(l=2==o.mode_gr?r.scale_bitcount(t):r.scale_bitcount_lsf(o,t)),!l))}this.setModules=function(a,i,o,s){e=a,t=i,this.rv=i,n=o,this.qupvt=o,r=s,v.setModules(n,r)},this.ms_convert=function(e,t){for(var n=0;n<576;++n){var r=e.tt[t][0].xr[n],a=e.tt[t][1].xr[n];e.tt[t][0].xr[n]=(r+a)*(.5*o.SQRT2),e.tt[t][1].xr[n]=(r-a)*(.5*o.SQRT2)}},this.init_xrpow=function(e,t,n){var r=0,a=0|t.max_nonzero_coeff;if(c(null!=n),t.xrpow_max=0,c(0<=a&&a<=575),s.fill(n,a,576,0),r=m(t,n,a,r),r>1e-20){var i=0;0!=(2&e.substep_shaping)&&(i=1);for(var o=0;o<t.psymax;o++)e.pseudohalf[o]=i;return!0}return s.fill(t.l3_enc,0,576,0),!1},this.init_outer_loop=function(e,t){t.part2_3_length=0,t.big_values=0,t.count1=0,t.global_gain=210,t.scalefac_compress=0,t.table_select[0]=0,t.table_select[1]=0,t.table_select[2]=0,t.subblock_gain[0]=0,t.subblock_gain[1]=0,t.subblock_gain[2]=0,t.subblock_gain[3]=0,t.region0_count=0,t.region1_count=0,t.preflag=0,t.scalefac_scale=0,t.count1table_select=0,t.part2_length=0,t.sfb_lmax=_.SBPSY_l,t.sfb_smin=_.SBPSY_s,t.psy_lmax=e.sfb21_extra?_.SBMAX_l:_.SBPSY_l,t.psymax=t.psy_lmax,t.sfbmax=t.sfb_lmax,t.sfbdivide=11;for(var r=0;r<_.SBMAX_l;r++)t.width[r]=e.scalefac_band.l[r+1]-e.scalefac_band.l[r],t.window[r]=3;if(t.block_type==_.SHORT_TYPE){var i=l(576);t.sfb_smin=0,t.sfb_lmax=0,0!=t.mixed_block_flag&&(t.sfb_smin=3,t.sfb_lmax=2*e.mode_gr+4),t.psymax=t.sfb_lmax+3*((e.sfb21_extra?_.SBMAX_s:_.SBPSY_s)-t.sfb_smin),t.sfbmax=t.sfb_lmax+3*(_.SBPSY_s-t.sfb_smin),t.sfbdivide=t.sfbmax-18,t.psy_lmax=t.sfb_lmax;var o=e.scalefac_band.l[t.sfb_lmax];a.arraycopy(t.xr,0,i,0,576);for(r=t.sfb_smin;r<_.SBMAX_s;r++)for(var c=e.scalefac_band.s[r],u=e.scalefac_band.s[r+1],f=0;f<3;f++)for(var p=c;p<u;p++)t.xr[o++]=i[3*p+f];var d=t.sfb_lmax;for(r=t.sfb_smin;r<_.SBMAX_s;r++)t.width[d]=t.width[d+1]=t.width[d+2]=e.scalefac_band.s[r+1]-e.scalefac_band.s[r],t.window[d]=0,t.window[d+1]=1,t.window[d+2]=2,d+=3}t.count1bits=0,t.sfb_partition_table=n.nr_of_sfb_block[0][0],t.slen[0]=0,t.slen[1]=0,t.slen[2]=0,t.slen[3]=0,t.max_nonzero_coeff=575,s.fill(t.scalefac,0),b(e,t)},g.BINSEARCH_NONE=new g(0),g.BINSEARCH_UP=new g(1),g.BINSEARCH_DOWN=new g(2),this.trancate_smallspectrums=function(e,t,a,i){var o=l(h.SFBMAX);if((0!=(4&e.substep_shaping)||t.block_type!=_.SHORT_TYPE)&&0==(128&e.substep_shaping)){n.calc_noise(t,a,o,new f,null);for(var c=0;c<576;c++){var u=0;0!=t.l3_enc[c]&&(u=Math.abs(t.xr[c])),i[c]=u}c=0;var p=8;t.block_type==_.SHORT_TYPE&&(p=6);do{var d,v,m,b,g=t.width[p];if(c+=g,!(o[p]>=1)&&(s.sort(i,c-g,g),!BitStream.EQ(i[c-1],0))){d=(1-o[p])*a[p],v=0,b=0;do{var y;for(m=1;b+m<g;m++)if(BitStream.NEQ(i[b+c-g],i[b+c+m-g]))break;if(y=i[b+c-g]*i[b+c-g]*m,d<y){0!=b&&(v=i[b+c-g-1]);break}d-=y,b+=m}while(b<g);if(!BitStream.EQ(v,0))do{Math.abs(t.xr[c-g])<=v&&(t.l3_enc[c-g]=0)}while(--g>0)}}while(++p<t.psymax);t.part2_3_length=r.noquant_count_bits(e,t,null)}},this.outer_loop=function(e,t,o,s,u,v){var m,b=e.internal_flags,g=new d,w=l(576),S=l(h.SFBMAX),x=new f,E=new p,A=9999999,R=!1,T=!1,P=0;if(y(b,t,v,u,s),0==b.noise_shaping)return 100;n.calc_noise(t,o,S,x,E),x.bits=t.part2_3_length,g.assign(t);var B=0;a.arraycopy(s,0,w,0,576);while(!R){do{var O,I=new f,j=255;if(O=0!=(2&b.substep_shaping)?20:3,b.sfb21_extra){if(S[g.sfbmax]>1)break;if(g.block_type==_.SHORT_TYPE&&(S[g.sfbmax+1]>1||S[g.sfbmax+2]>1))break}if(!k(e,g,S,s,T))break;0!=g.scalefac_scale&&(j=254);var D=v-g.part2_length;if(D<=0)break;while((g.part2_3_length=r.count_bits(b,s,g,E))>D&&g.global_gain<=j)g.global_gain++;if(g.global_gain>j)break;if(0==x.over_count){while((g.part2_3_length=r.count_bits(b,s,g,E))>A&&g.global_gain<=j)g.global_gain++;if(g.global_gain>j)break}if(n.calc_noise(g,o,S,I,E),I.bits=g.part2_3_length,m=t.block_type!=_.SHORT_TYPE?e.quant_comp:e.quant_comp_short,m=M(m,x,I,g,S)?1:0,0!=m)A=t.part2_3_length,x=I,t.assign(g),B=0,a.arraycopy(s,0,w,0,576);else if(0==b.full_outer_loop){if(++B>O&&0==x.over_count)break;if(3==b.noise_shaping_amp&&T&&B>30)break;if(3==b.noise_shaping_amp&&T&&g.global_gain-P>15)break}}while(g.global_gain+g.scalefac_scale<255);3==b.noise_shaping_amp?T?R=!0:(g.assign(t),a.arraycopy(w,0,s,0,576),B=0,P=g.global_gain,T=!0):R=!0}return c(t.global_gain+t.scalefac_scale<=255),e.VBR==i.vbr_rh||e.VBR==i.vbr_mtrh?a.arraycopy(w,0,s,0,576):0!=(1&b.substep_shaping)&&trancate_smallspectrums(b,t,o,s),x.over_count},this.iteration_finish_one=function(e,n,a){var i=e.l3_side,o=i.tt[n][a];r.best_scalefac_store(e,n,a,i),1==e.use_best_huffman&&r.best_huffman_divide(e,o),t.ResvAdjust(e,o)},this.VBR_encode_granule=function(e,t,n,r,i,o,u){var f,p,_=e.internal_flags,h=new d,v=l(576),m=u,b=u+1,g=(u+o)/2,y=0,w=_.sfb21_extra;c(m<=LameInternalFlags.MAX_BITS_PER_CHANNEL),s.fill(h.l3_enc,0);do{c(g>=o),c(g<=u),c(o<=u),_.sfb21_extra=!(g>m-42)&&w,p=outer_loop(e,t,n,r,i,g),p<=0?(y=1,b=t.part2_3_length,h.assign(t),a.arraycopy(r,0,v,0,576),u=b-32,f=u-o,g=(u+o)/2):(o=g+32,f=u-o,g=(u+o)/2,0!=y&&(y=2,t.assign(h),a.arraycopy(v,0,r,0,576)))}while(f>12);_.sfb21_extra=w,2==y&&a.arraycopy(h.l3_enc,0,t.l3_enc,0,576),c(t.part2_3_length<=m)},this.get_framebits=function(n,r){var a=n.internal_flags;a.bitrate_index=a.VBR_min_bitrate;var i=e.getframebits(n);a.bitrate_index=1,i=e.getframebits(n);for(var o=1;o<=a.VBR_max_bitrate;o++){a.bitrate_index=o;var s=new MeanBits(i);r[o]=t.ResvFrameBegin(n,s),i=s.bits}},this.VBR_old_prepare=function(e,r,a,i,o,s,l,c,u){var f,p=e.internal_flags,d=0,h=1,v=0;p.bitrate_index=p.VBR_max_bitrate;var m=t.ResvFrameBegin(e,new MeanBits(0))/p.mode_gr;get_framebits(e,s);for(var b=0;b<p.mode_gr;b++){var g=n.on_pe(e,r,c[b],m,b,0);p.mode_ext==_.MPG_MD_MS_LR&&(ms_convert(p.l3_side,b),n.reduce_side(c[b],a[b],m,g));for(var y=0;y<p.channels_out;++y){var w=p.l3_side.tt[b][y];w.block_type!=_.SHORT_TYPE?(d=1.28/(1+Math.exp(3.5-r[b][y]/300))-.05,f=p.PSY.mask_adjust-d):(d=2.56/(1+Math.exp(3.5-r[b][y]/300))-.14,f=p.PSY.mask_adjust_short-d),p.masking_lower=Math.pow(10,.1*f),init_outer_loop(p,w),u[b][y]=n.calc_xmin(e,i[b][y],w,o[b][y]),0!=u[b][y]&&(h=0),l[b][y]=126,v+=c[b][y]}}for(b=0;b<p.mode_gr;b++)for(y=0;y<p.channels_out;y++)v>s[p.VBR_max_bitrate]&&(c[b][y]*=s[p.VBR_max_bitrate],c[b][y]/=v),l[b][y]>c[b][y]&&(l[b][y]=c[b][y]);return h},this.bitpressure_strategy=function(e,t,n,r){for(var a=0;a<e.mode_gr;a++)for(var i=0;i<e.channels_out;i++){for(var o=e.l3_side.tt[a][i],s=t[a][i],l=0,c=0;c<o.psy_lmax;c++)s[l++]*=1+.029*c*c/_.SBMAX_l/_.SBMAX_l;if(o.block_type==_.SHORT_TYPE)for(c=o.sfb_smin;c<_.SBMAX_s;c++)s[l++]*=1+.029*c*c/_.SBMAX_s/_.SBMAX_s,s[l++]*=1+.029*c*c/_.SBMAX_s/_.SBMAX_s,s[l++]*=1+.029*c*c/_.SBMAX_s/_.SBMAX_s;r[a][i]=0|Math.max(n[a][i],.9*r[a][i])}},this.VBR_new_prepare=function(e,r,a,i,o,s){var l,c=e.internal_flags,u=1,f=0,p=0;if(e.free_format){c.bitrate_index=0;d=new MeanBits(f);l=t.ResvFrameBegin(e,d),f=d.bits,o[0]=l}else{c.bitrate_index=c.VBR_max_bitrate;var d=new MeanBits(f);t.ResvFrameBegin(e,d),f=d.bits,get_framebits(e,o),l=o[c.VBR_max_bitrate]}for(var h=0;h<c.mode_gr;h++){n.on_pe(e,r,s[h],f,h,0),c.mode_ext==_.MPG_MD_MS_LR&&ms_convert(c.l3_side,h);for(var v=0;v<c.channels_out;++v){var m=c.l3_side.tt[h][v];c.masking_lower=Math.pow(10,.1*c.PSY.mask_adjust),init_outer_loop(c,m),0!=n.calc_xmin(e,a[h][v],m,i[h][v])&&(u=0),p+=s[h][v]}}for(h=0;h<c.mode_gr;h++)for(v=0;v<c.channels_out;v++)p>l&&(s[h][v]*=l,s[h][v]/=p);return u},this.calc_target_bits=function(r,a,i,o,s,l){var c,u,f,p,d=r.internal_flags,h=d.l3_side,v=0;d.bitrate_index=d.VBR_max_bitrate;var m=new MeanBits(v);for(l[0]=t.ResvFrameBegin(r,m),v=m.bits,d.bitrate_index=1,v=e.getframebits(r)-8*d.sideinfo_len,s[0]=v/(d.mode_gr*d.channels_out),v=r.VBR_mean_bitrate_kbps*r.framesize*1e3,0!=(1&d.substep_shaping)&&(v*=1.09),v/=r.out_samplerate,v-=8*d.sideinfo_len,v/=d.mode_gr*d.channels_out,c=.93+.07*(11-r.compression_ratio)/5.5,c<.9&&(c=.9),c>1&&(c=1),u=0;u<d.mode_gr;u++){var b=0;for(f=0;f<d.channels_out;f++){if(o[u][f]=int(c*v),a[u][f]>700){var g=int((a[u][f]-700)/1.4),y=h.tt[u][f];o[u][f]=int(c*v),y.block_type==_.SHORT_TYPE&&g<v/2&&(g=v/2),g>3*v/2?g=3*v/2:g<0&&(g=0),o[u][f]+=g}o[u][f]>LameInternalFlags.MAX_BITS_PER_CHANNEL&&(o[u][f]=LameInternalFlags.MAX_BITS_PER_CHANNEL),b+=o[u][f]}if(b>LameInternalFlags.MAX_BITS_PER_GRANULE)for(f=0;f<d.channels_out;++f)o[u][f]*=LameInternalFlags.MAX_BITS_PER_GRANULE,o[u][f]/=b}if(d.mode_ext==_.MPG_MD_MS_LR)for(u=0;u<d.mode_gr;u++)n.reduce_side(o[u],i[u],v*d.channels_out,LameInternalFlags.MAX_BITS_PER_GRANULE);for(p=0,u=0;u<d.mode_gr;u++)for(f=0;f<d.channels_out;f++)o[u][f]>LameInternalFlags.MAX_BITS_PER_CHANNEL&&(o[u][f]=LameInternalFlags.MAX_BITS_PER_CHANNEL),p+=o[u][f];if(p>l[0])for(u=0;u<d.mode_gr;u++)for(f=0;f<d.channels_out;f++)o[u][f]*=l[0],o[u][f]/=p}}e.exports=v},dbb4:function(e,t,n){var r=n("23e7"),a=n("83ab"),i=n("56ef"),o=n("fc6a"),s=n("06cf"),l=n("8418");r({target:"Object",stat:!0,sham:!a},{getOwnPropertyDescriptors:function(e){var t,n,r=o(e),a=s.f,c=i(r),u={},f=0;while(c.length>f)n=a(r,t=c[f++]),void 0!==n&&l(u,t,n);return u}})},dead:function(e,t,n){var r=n("0206"),a=r.System,i=r.VbrMode,o=(r.Float,r.ShortBlock),s=(r.Util,r.Arrays,r.new_array_n,r.new_byte,r.new_double,r.new_float),l=(r.new_float_n,r.new_int,r.new_int_n),c=r.new_short_n,u=r.assert,f=n("2474"),p=n("947f"),_=n("bd8b"),d=n("abf5"),h=n("725d"),v=n("4a65"),m=n("69b2"),b=n("5f84"),g=n("4b5e");function y(){var e=this,t=131072;y.V9=410,y.V8=420,y.V7=430,y.V6=440,y.V5=450,y.V4=460,y.V3=470,y.V2=480,y.V1=490,y.V0=500,y.R3MIX=1e3,y.STANDARD=1001,y.EXTREME=1002,y.INSANE=1003,y.STANDARD_FAST=1004,y.EXTREME_FAST=1005,y.MEDIUM=1006,y.MEDIUM_FAST=1007;var n,r,w,S,x,M=16384+t;y.LAME_MAXMP3BUFFER=M;var E,A,R,k=new f;function T(){this.mask_adjust=0,this.mask_adjust_short=0,this.bo_l_weight=s(g.SBMAX_l),this.bo_s_weight=s(g.SBMAX_s)}function P(){this.lowerlimit=0}function B(e,t){this.lowpass=t}this.enc=new g,this.setModules=function(e,t,a,i,o,s,l,c,u){n=e,r=t,w=a,S=i,x=o,E=s,l,A=c,R=u,this.enc.setModules(r,k,S,E)};var O=4294479419;function I(e){var t;return e.class_id=O,t=e.internal_flags=new _,e.mode=MPEGMode.NOT_SET,e.original=1,e.in_samplerate=44100,e.num_channels=2,e.num_samples=-1,e.bWriteVbrTag=!0,e.quality=-1,e.short_blocks=null,t.subblock_gain=-1,e.lowpassfreq=0,e.highpassfreq=0,e.lowpasswidth=-1,e.highpasswidth=-1,e.VBR=i.vbr_off,e.VBR_q=4,e.ATHcurve=-1,e.VBR_mean_bitrate_kbps=128,e.VBR_min_bitrate_kbps=0,e.VBR_max_bitrate_kbps=0,e.VBR_hard_min=0,t.VBR_min_bitrate=1,t.VBR_max_bitrate=13,e.quant_comp=-1,e.quant_comp_short=-1,e.msfix=-1,t.resample_ratio=1,t.OldValue[0]=180,t.OldValue[1]=180,t.CurrentStep[0]=4,t.CurrentStep[1]=4,t.masking_lower=1,t.nsPsy.attackthre=-1,t.nsPsy.attackthre_s=-1,e.scale=-1,e.athaa_type=-1,e.ATHtype=-1,e.athaa_loudapprox=-1,e.athaa_sensitivity=0,e.useTemporal=null,e.interChRatio=-1,t.mf_samples_to_encode=g.ENCDELAY+g.POSTDELAY,e.encoder_padding=0,t.mf_size=g.ENCDELAY-g.MDCTDELAY,e.findReplayGain=!1,e.decode_on_the_fly=!1,t.decode_on_the_fly=!1,t.findReplayGain=!1,t.findPeakSample=!1,t.RadioGain=0,t.AudiophileGain=0,t.noclipGainChange=0,t.noclipScale=-1,e.preset=0,e.write_id3tag_automatic=!0,0}function j(e){return e>1?0:e<=0?1:Math.cos(Math.PI/2*e)}function D(e,t){var n=44100;return t>=48e3?n=48e3:t>=44100?n=44100:t>=32e3?n=32e3:t>=24e3?n=24e3:t>=22050?n=22050:t>=16e3?n=16e3:t>=12e3?n=12e3:t>=11025?n=11025:t>=8e3&&(n=8e3),-1==e?n:(e<=15960&&(n=44100),e<=15250&&(n=32e3),e<=11220&&(n=24e3),e<=9970&&(n=22050),e<=7230&&(n=16e3),e<=5420&&(n=12e3),e<=4510&&(n=11025),e<=3970&&(n=8e3),t<n?t>44100?48e3:t>32e3?44100:t>24e3?32e3:t>22050?24e3:t>16e3?22050:t>12e3?16e3:t>11025?12e3:t>8e3?11025:8e3:n)}function L(e,t){switch(e){case 44100:return t.version=1,0;case 48e3:return t.version=1,1;case 32e3:return t.version=1,2;case 22050:return t.version=0,0;case 24e3:return t.version=0,1;case 16e3:return t.version=0,2;case 11025:return t.version=0,0;case 12e3:return t.version=0,1;case 8e3:return t.version=0,2;default:return t.version=0,-1}}function C(e,t,n){n<16e3&&(t=2);for(var r=b.bitrate_table[t][1],a=2;a<=14;a++)b.bitrate_table[t][a]>0&&Math.abs(b.bitrate_table[t][a]-e)<Math.abs(r-e)&&(r=b.bitrate_table[t][a]);return r}function V(e,t,n){n<16e3&&(t=2);for(var r=0;r<=14;r++)if(b.bitrate_table[t][r]>0&&b.bitrate_table[t][r]==e)return r;return-1}function N(t,n){var r=[new B(8,2e3),new B(16,3700),new B(24,3900),new B(32,5500),new B(40,7e3),new B(48,7500),new B(56,1e4),new B(64,11e3),new B(80,13500),new B(96,15100),new B(112,15600),new B(128,17e3),new B(160,17500),new B(192,18600),new B(224,19400),new B(256,19700),new B(320,20500)],a=e.nearestBitrateFullIndex(n);t.lowerlimit=r[a].lowpass}function H(e){var t=e.internal_flags,n=32,r=-1;if(t.lowpass1>0){for(var i=999,o=0;o<=31;o++){var s=o/31;s>=t.lowpass2&&(n=Math.min(n,o)),t.lowpass1<s&&s<t.lowpass2&&(i=Math.min(i,o))}t.lowpass1=999==i?(n-.75)/31:(i-.75)/31,t.lowpass2=n/31}if(t.highpass2>0&&t.highpass2<.75/31*.9&&(t.highpass1=0,t.highpass2=0,a.err.println("Warning: highpass filter disabled.  highpass frequency too small\n")),t.highpass2>0){var l=-1;for(o=0;o<=31;o++){s=o/31;s<=t.highpass1&&(r=Math.max(r,o)),t.highpass1<s&&s<t.highpass2&&(l=Math.max(l,o))}t.highpass1=r/31,t.highpass2=-1==l?(r+.75)/31:(l+.75)/31}for(o=0;o<32;o++){var c,u;s=o/31;c=t.highpass2>t.highpass1?j((t.highpass2-s)/(t.highpass2-t.highpass1+1e-20)):1,u=t.lowpass2>t.lowpass1?j((s-t.lowpass1)/(t.lowpass2-t.lowpass1+1e-20)):1,t.amp_filter[o]=c*u}}function X(e){var t=e.internal_flags;switch(e.quality){default:case 9:t.psymodel=0,t.noise_shaping=0,t.noise_shaping_amp=0,t.noise_shaping_stop=0,t.use_best_huffman=0,t.full_outer_loop=0;break;case 8:e.quality=7;case 7:t.psymodel=1,t.noise_shaping=0,t.noise_shaping_amp=0,t.noise_shaping_stop=0,t.use_best_huffman=0,t.full_outer_loop=0;break;case 6:t.psymodel=1,0==t.noise_shaping&&(t.noise_shaping=1),t.noise_shaping_amp=0,t.noise_shaping_stop=0,-1==t.subblock_gain&&(t.subblock_gain=1),t.use_best_huffman=0,t.full_outer_loop=0;break;case 5:t.psymodel=1,0==t.noise_shaping&&(t.noise_shaping=1),t.noise_shaping_amp=0,t.noise_shaping_stop=0,-1==t.subblock_gain&&(t.subblock_gain=1),t.use_best_huffman=0,t.full_outer_loop=0;break;case 4:t.psymodel=1,0==t.noise_shaping&&(t.noise_shaping=1),t.noise_shaping_amp=0,t.noise_shaping_stop=0,-1==t.subblock_gain&&(t.subblock_gain=1),t.use_best_huffman=1,t.full_outer_loop=0;break;case 3:t.psymodel=1,0==t.noise_shaping&&(t.noise_shaping=1),t.noise_shaping_amp=1,t.noise_shaping_stop=1,-1==t.subblock_gain&&(t.subblock_gain=1),t.use_best_huffman=1,t.full_outer_loop=0;break;case 2:t.psymodel=1,0==t.noise_shaping&&(t.noise_shaping=1),0==t.substep_shaping&&(t.substep_shaping=2),t.noise_shaping_amp=1,t.noise_shaping_stop=1,-1==t.subblock_gain&&(t.subblock_gain=1),t.use_best_huffman=1,t.full_outer_loop=0;break;case 1:t.psymodel=1,0==t.noise_shaping&&(t.noise_shaping=1),0==t.substep_shaping&&(t.substep_shaping=2),t.noise_shaping_amp=2,t.noise_shaping_stop=1,-1==t.subblock_gain&&(t.subblock_gain=1),t.use_best_huffman=1,t.full_outer_loop=0;break;case 0:t.psymodel=1,0==t.noise_shaping&&(t.noise_shaping=1),0==t.substep_shaping&&(t.substep_shaping=2),t.noise_shaping_amp=2,t.noise_shaping_stop=1,-1==t.subblock_gain&&(t.subblock_gain=1),t.use_best_huffman=1,t.full_outer_loop=0;break}}function F(e){var t=e.internal_flags;e.frameNum=0,e.write_id3tag_automatic&&A.id3tag_write_v2(e),t.bitrate_stereoMode_Hist=l([16,5]),t.bitrate_blockType_Hist=l([16,6]),t.PeakSample=0,e.bWriteVbrTag&&E.InitVbrTag(e)}function z(e,t){(null==e.in_buffer_0||e.in_buffer_nsamples<t)&&(e.in_buffer_0=s(t),e.in_buffer_1=s(t),e.in_buffer_nsamples=t)}function q(e){var t=g.BLKSIZE+e.framesize-g.FFTOFFSET;return t=Math.max(t,512+e.framesize-32),u(_.MFSIZE>=t),t}function Y(e,t,a,i,o,s,l){var c,f,p,d,h,v=e.internal_flags,b=0,y=[null,null],w=[null,null];if(v.Class_ID!=O)return-3;if(0==i)return 0;if(h=r.copy_buffer(v,o,s,l,0),h<0)return h;if(s+=h,b+=h,w[0]=t,w[1]=a,m.NEQ(e.scale,0)&&m.NEQ(e.scale,1))for(f=0;f<i;++f)w[0][f]*=e.scale,2==v.channels_out&&(w[1][f]*=e.scale);if(m.NEQ(e.scale_left,0)&&m.NEQ(e.scale_left,1))for(f=0;f<i;++f)w[0][f]*=e.scale_left;if(m.NEQ(e.scale_right,0)&&m.NEQ(e.scale_right,1))for(f=0;f<i;++f)w[1][f]*=e.scale_right;if(2==e.num_channels&&1==v.channels_out)for(f=0;f<i;++f)w[0][f]=.5*(w[0][f]+w[1][f]),w[1][f]=0;d=q(e),y[0]=v.mfbuf[0],y[1]=v.mfbuf[1];var S=0;while(i>0){var x=[null,null],M=0,E=0;x[0]=w[0],x[1]=w[1];var A=new G;if($(e,y,x,S,i,A),M=A.n_in,E=A.n_out,v.findReplayGain&&!v.decode_on_the_fly&&n.AnalyzeSamples(v.rgdata,y[0],v.mf_size,y[1],v.mf_size,E,v.channels_out)==GainAnalysis.GAIN_ANALYSIS_ERROR)return-6;if(i-=M,S+=M,v.channels_out,v.mf_size+=E,u(v.mf_size<=_.MFSIZE),v.mf_samples_to_encode<1&&(v.mf_samples_to_encode=g.ENCDELAY+g.POSTDELAY),v.mf_samples_to_encode+=E,v.mf_size>=d){var R=l-b;if(0==l&&(R=0),c=U(e,y[0],y[1],o,s,R),c<0)return c;for(s+=c,b+=c,v.mf_size-=e.framesize,v.mf_samples_to_encode-=e.framesize,p=0;p<v.channels_out;p++)for(f=0;f<v.mf_size;f++)y[p][f]=y[p][f+e.framesize]}}return u(0==i),b}function U(t,n,r,a,i,o){var s=e.enc.lame_encode_mp3_frame(t,n,r,a,i,o);return t.frameNum++,s}function G(){this.n_in=0,this.n_out=0}function K(){this.num_used=0}function W(e,t){return 0!=t?W(t,e%t):e}function Z(e,t,n){var r=Math.PI*t;e/=n,e<0&&(e=0),e>1&&(e=1);var a=e-.5,i=.42-.5*Math.cos(2*e*Math.PI)+.08*Math.cos(4*e*Math.PI);return Math.abs(a)<1e-9?r/Math.PI:i*Math.sin(n*r*a)/(Math.PI*n*a)}function Q(e,t,n,r,a,i,o,l,c){var f,p,d=e.internal_flags,h=0,v=e.out_samplerate/W(e.out_samplerate,e.in_samplerate);v>_.BPC&&(v=_.BPC);var m=Math.abs(d.resample_ratio-Math.floor(.5+d.resample_ratio))<1e-4?1:0,b=1/d.resample_ratio;b>1&&(b=1);var g=31;0==g%2&&--g,g+=m;var y=g+1;if(0==d.fill_buffer_resample_init){for(d.inbuf_old[0]=s(y),d.inbuf_old[1]=s(y),f=0;f<=2*v;++f)d.blackfilt[f]=s(y);for(d.itime[0]=0,d.itime[1]=0,h=0;h<=2*v;h++){var w=0,S=(h-v)/(2*v);for(f=0;f<=g;f++)w+=d.blackfilt[h][f]=Z(f-S,b,g);for(f=0;f<=g;f++)d.blackfilt[h][f]/=w}d.fill_buffer_resample_init=1}var x=d.inbuf_old[c];for(p=0;p<r;p++){var M,E;if(M=p*d.resample_ratio,h=0|Math.floor(M-d.itime[c]),g+h-g/2>=o)break;S=M-d.itime[c]-(h+g%2*.5);u(Math.abs(S)<=.501),E=0|Math.floor(2*S*v+v+.5);var A=0;for(f=0;f<=g;++f){var R,k=f+h-g/2;u(k<o),u(k+y>=0),R=k<0?x[y+k]:a[i+k],A+=R*d.blackfilt[E][f]}t[n+p]=A}if(l.num_used=Math.min(o,g+h-g/2),d.itime[c]+=l.num_used-p*d.resample_ratio,l.num_used>=y)for(f=0;f<y;f++)x[f]=a[i+l.num_used+f-y];else{var T=y-l.num_used;for(f=0;f<T;++f)x[f]=x[f+l.num_used];for(h=0;f<y;++f,++h)x[f]=a[i+h];u(h==l.num_used)}return p}function $(e,t,n,r,a,i){var o=e.internal_flags;if(o.resample_ratio<.9999||o.resample_ratio>1.0001)for(var s=0;s<o.channels_out;s++){var l=new K;i.n_out=Q(e,t[s],o.mf_size,e.framesize,n[s],r,a,l,s),i.n_in=l.num_used}else{i.n_out=Math.min(e.framesize,a),i.n_in=i.n_out;for(var c=0;c<i.n_out;++c)t[0][o.mf_size+c]=n[0][r+c],2==o.channels_out&&(t[1][o.mf_size+c]=n[1][r+c])}}this.lame_init=function(){var e=new p,t=I(e);return 0!=t?null:(e.lame_allocated_gfp=1,e)},this.nearestBitrateFullIndex=function(e){var t=[8,16,24,32,40,48,56,64,80,96,112,128,160,192,224,256,320],n=0,r=0,a=0,i=0;i=t[16],a=16,r=t[16],n=16;for(var o=0;o<16;o++)if(Math.max(e,t[o+1])!=e){i=t[o+1],a=o+1,r=t[o],n=o;break}return i-e>e-r?n:a},this.lame_init_params=function(e){var t=e.internal_flags;if(t.Class_ID=0,null==t.ATH&&(t.ATH=new d),null==t.PSY&&(t.PSY=new T),null==t.rgdata&&(t.rgdata=new h),t.channels_in=e.num_channels,1==t.channels_in&&(e.mode=MPEGMode.MONO),t.channels_out=e.mode==MPEGMode.MONO?1:2,t.mode_ext=g.MPG_MD_MS_LR,e.mode==MPEGMode.MONO&&(e.force_ms=!1),e.VBR==i.vbr_off&&128!=e.VBR_mean_bitrate_kbps&&0==e.brate&&(e.brate=e.VBR_mean_bitrate_kbps),e.VBR==i.vbr_off||e.VBR==i.vbr_mtrh||e.VBR==i.vbr_mt||(e.free_format=!1),e.VBR==i.vbr_off&&0==e.brate&&m.EQ(e.compression_ratio,0)&&(e.compression_ratio=11.025),e.VBR==i.vbr_off&&e.compression_ratio>0&&(0==e.out_samplerate&&(e.out_samplerate=map2MP3Frequency(int(.97*e.in_samplerate))),e.brate=0|16*e.out_samplerate*t.channels_out/(1e3*e.compression_ratio),t.samplerate_index=L(e.out_samplerate,e),e.free_format||(e.brate=C(e.brate,e.version,e.out_samplerate))),0!=e.out_samplerate&&(e.out_samplerate<16e3?(e.VBR_mean_bitrate_kbps=Math.max(e.VBR_mean_bitrate_kbps,8),e.VBR_mean_bitrate_kbps=Math.min(e.VBR_mean_bitrate_kbps,64)):e.out_samplerate<32e3?(e.VBR_mean_bitrate_kbps=Math.max(e.VBR_mean_bitrate_kbps,8),e.VBR_mean_bitrate_kbps=Math.min(e.VBR_mean_bitrate_kbps,160)):(e.VBR_mean_bitrate_kbps=Math.max(e.VBR_mean_bitrate_kbps,32),e.VBR_mean_bitrate_kbps=Math.min(e.VBR_mean_bitrate_kbps,320))),0==e.lowpassfreq){var a=16e3;switch(e.VBR){case i.vbr_off:var s=new P;N(s,e.brate),a=s.lowerlimit;break;case i.vbr_abr:s=new P;N(s,e.VBR_mean_bitrate_kbps),a=s.lowerlimit;break;case i.vbr_rh:var l=[19500,19e3,18600,18e3,17500,16e3,15600,14900,12500,1e4,3950];if(0<=e.VBR_q&&e.VBR_q<=9){var c=l[e.VBR_q],p=l[e.VBR_q+1],_=e.VBR_q_frac;a=linear_int(c,p,_)}else a=19500;break;default:l=[19500,19e3,18500,18e3,17500,16500,15500,14500,12500,9500,3950];if(0<=e.VBR_q&&e.VBR_q<=9){c=l[e.VBR_q],p=l[e.VBR_q+1],_=e.VBR_q_frac;a=linear_int(c,p,_)}else a=19500}e.mode!=MPEGMode.MONO||e.VBR!=i.vbr_off&&e.VBR!=i.vbr_abr||(a*=1.5),e.lowpassfreq=0|a}if(0==e.out_samplerate&&(2*e.lowpassfreq>e.in_samplerate&&(e.lowpassfreq=e.in_samplerate/2),e.out_samplerate=D(0|e.lowpassfreq,e.in_samplerate)),e.lowpassfreq=Math.min(20500,e.lowpassfreq),e.lowpassfreq=Math.min(e.out_samplerate/2,e.lowpassfreq),e.VBR==i.vbr_off&&(e.compression_ratio=16*e.out_samplerate*t.channels_out/(1e3*e.brate)),e.VBR==i.vbr_abr&&(e.compression_ratio=16*e.out_samplerate*t.channels_out/(1e3*e.VBR_mean_bitrate_kbps)),e.bWriteVbrTag||(e.findReplayGain=!1,e.decode_on_the_fly=!1,t.findPeakSample=!1),t.findReplayGain=e.findReplayGain,t.decode_on_the_fly=e.decode_on_the_fly,t.decode_on_the_fly&&(t.findPeakSample=!0),t.findReplayGain&&n.InitGainAnalysis(t.rgdata,e.out_samplerate)==GainAnalysis.INIT_GAIN_ANALYSIS_ERROR)return e.internal_flags=null,-6;switch(t.decode_on_the_fly&&!e.decode_only&&(null!=t.hip&&R.hip_decode_exit(t.hip),t.hip=R.hip_decode_init()),t.mode_gr=e.out_samplerate<=24e3?1:2,e.framesize=576*t.mode_gr,e.encoder_delay=g.ENCDELAY,t.resample_ratio=e.in_samplerate/e.out_samplerate,e.VBR){case i.vbr_mt:case i.vbr_rh:case i.vbr_mtrh:var y=[5.7,6.5,7.3,8.2,10,11.9,13,14,15,16.5];e.compression_ratio=y[e.VBR_q];break;case i.vbr_abr:e.compression_ratio=16*e.out_samplerate*t.channels_out/(1e3*e.VBR_mean_bitrate_kbps);break;default:e.compression_ratio=16*e.out_samplerate*t.channels_out/(1e3*e.brate);break}if(e.mode==MPEGMode.NOT_SET&&(e.mode=MPEGMode.JOINT_STEREO),e.highpassfreq>0?(t.highpass1=2*e.highpassfreq,e.highpasswidth>=0?t.highpass2=2*(e.highpassfreq+e.highpasswidth):t.highpass2=2*e.highpassfreq,t.highpass1/=e.out_samplerate,t.highpass2/=e.out_samplerate):(t.highpass1=0,t.highpass2=0),e.lowpassfreq>0?(t.lowpass2=2*e.lowpassfreq,e.lowpasswidth>=0?(t.lowpass1=2*(e.lowpassfreq-e.lowpasswidth),t.lowpass1<0&&(t.lowpass1=0)):t.lowpass1=2*e.lowpassfreq,t.lowpass1/=e.out_samplerate,t.lowpass2/=e.out_samplerate):(t.lowpass1=0,t.lowpass2=0),H(e),t.samplerate_index=L(e.out_samplerate,e),t.samplerate_index<0)return e.internal_flags=null,-1;if(e.VBR==i.vbr_off){if(e.free_format)t.bitrate_index=0;else if(e.brate=C(e.brate,e.version,e.out_samplerate),t.bitrate_index=V(e.brate,e.version,e.out_samplerate),t.bitrate_index<=0)return e.internal_flags=null,-1}else t.bitrate_index=1;e.analysis&&(e.bWriteVbrTag=!1),null!=t.pinfo&&(e.bWriteVbrTag=!1),r.init_bit_stream_w(t);for(var M,E=t.samplerate_index+3*e.version+6*(e.out_samplerate<16e3?1:0),A=0;A<g.SBMAX_l+1;A++)t.scalefac_band.l[A]=S.sfBandIndex[E].l[A];for(A=0;A<g.PSFB21+1;A++){var B=(t.scalefac_band.l[22]-t.scalefac_band.l[21])/g.PSFB21,I=t.scalefac_band.l[21]+A*B;t.scalefac_band.psfb21[A]=I}t.scalefac_band.psfb21[g.PSFB21]=576;for(A=0;A<g.SBMAX_s+1;A++)t.scalefac_band.s[A]=S.sfBandIndex[E].s[A];for(A=0;A<g.PSFB12+1;A++){B=(t.scalefac_band.s[13]-t.scalefac_band.s[12])/g.PSFB12,I=t.scalefac_band.s[12]+A*B;t.scalefac_band.psfb12[A]=I}for(t.scalefac_band.psfb12[g.PSFB12]=192,1==e.version?t.sideinfo_len=1==t.channels_out?21:36:t.sideinfo_len=1==t.channels_out?13:21,e.error_protection&&(t.sideinfo_len+=2),F(e),t.Class_ID=O,M=0;M<19;M++)t.nsPsy.pefirbuf[M]=700*t.mode_gr*t.channels_out;switch(-1==e.ATHtype&&(e.ATHtype=4),u(e.VBR_q<=9),u(e.VBR_q>=0),e.VBR){case i.vbr_mt:e.VBR=i.vbr_mtrh;case i.vbr_mtrh:null==e.useTemporal&&(e.useTemporal=!1),w.apply_preset(e,500-10*e.VBR_q,0),e.quality<0&&(e.quality=LAME_DEFAULT_QUALITY),e.quality<5&&(e.quality=0),e.quality>5&&(e.quality=5),t.PSY.mask_adjust=e.maskingadjust,t.PSY.mask_adjust_short=e.maskingadjust_short,e.experimentalY?t.sfb21_extra=!1:t.sfb21_extra=e.out_samplerate>44e3,t.iteration_loop=new VBRNewIterationLoop(x);break;case i.vbr_rh:w.apply_preset(e,500-10*e.VBR_q,0),t.PSY.mask_adjust=e.maskingadjust,t.PSY.mask_adjust_short=e.maskingadjust_short,e.experimentalY?t.sfb21_extra=!1:t.sfb21_extra=e.out_samplerate>44e3,e.quality>6&&(e.quality=6),e.quality<0&&(e.quality=LAME_DEFAULT_QUALITY),t.iteration_loop=new VBROldIterationLoop(x);break;default:var j;t.sfb21_extra=!1,e.quality<0&&(e.quality=LAME_DEFAULT_QUALITY),j=e.VBR,j==i.vbr_off&&(e.VBR_mean_bitrate_kbps=e.brate),w.apply_preset(e,e.VBR_mean_bitrate_kbps,0),e.VBR=j,t.PSY.mask_adjust=e.maskingadjust,t.PSY.mask_adjust_short=e.maskingadjust_short,j==i.vbr_off?t.iteration_loop=new v(x):t.iteration_loop=new ABRIterationLoop(x);break}if(u(e.scale>=0),e.VBR!=i.vbr_off){if(t.VBR_min_bitrate=1,t.VBR_max_bitrate=14,e.out_samplerate<16e3&&(t.VBR_max_bitrate=8),0!=e.VBR_min_bitrate_kbps&&(e.VBR_min_bitrate_kbps=C(e.VBR_min_bitrate_kbps,e.version,e.out_samplerate),t.VBR_min_bitrate=V(e.VBR_min_bitrate_kbps,e.version,e.out_samplerate),t.VBR_min_bitrate<0))return-1;if(0!=e.VBR_max_bitrate_kbps&&(e.VBR_max_bitrate_kbps=C(e.VBR_max_bitrate_kbps,e.version,e.out_samplerate),t.VBR_max_bitrate=V(e.VBR_max_bitrate_kbps,e.version,e.out_samplerate),t.VBR_max_bitrate<0))return-1;e.VBR_min_bitrate_kbps=b.bitrate_table[e.version][t.VBR_min_bitrate],e.VBR_max_bitrate_kbps=b.bitrate_table[e.version][t.VBR_max_bitrate],e.VBR_mean_bitrate_kbps=Math.min(b.bitrate_table[e.version][t.VBR_max_bitrate],e.VBR_mean_bitrate_kbps),e.VBR_mean_bitrate_kbps=Math.max(b.bitrate_table[e.version][t.VBR_min_bitrate],e.VBR_mean_bitrate_kbps)}return e.tune&&(t.PSY.mask_adjust+=e.tune_value_a,t.PSY.mask_adjust_short+=e.tune_value_a),X(e),u(e.scale>=0),e.athaa_type<0?t.ATH.useAdjust=3:t.ATH.useAdjust=e.athaa_type,t.ATH.aaSensitivityP=Math.pow(10,e.athaa_sensitivity/-10),null==e.short_blocks&&(e.short_blocks=o.short_block_allowed),e.short_blocks!=o.short_block_allowed||e.mode!=MPEGMode.JOINT_STEREO&&e.mode!=MPEGMode.STEREO||(e.short_blocks=o.short_block_coupled),e.quant_comp<0&&(e.quant_comp=1),e.quant_comp_short<0&&(e.quant_comp_short=0),e.msfix<0&&(e.msfix=0),e.exp_nspsytune=1|e.exp_nspsytune,e.internal_flags.nsPsy.attackthre<0&&(e.internal_flags.nsPsy.attackthre=f.NSATTACKTHRE),e.internal_flags.nsPsy.attackthre_s<0&&(e.internal_flags.nsPsy.attackthre_s=f.NSATTACKTHRE_S),u(e.scale>=0),e.scale<0&&(e.scale=1),e.ATHtype<0&&(e.ATHtype=4),e.ATHcurve<0&&(e.ATHcurve=4),e.athaa_loudapprox<0&&(e.athaa_loudapprox=2),e.interChRatio<0&&(e.interChRatio=0),null==e.useTemporal&&(e.useTemporal=!0),t.slot_lag=t.frac_SpF=0,e.VBR==i.vbr_off&&(t.slot_lag=t.frac_SpF=72e3*(e.version+1)*e.brate%e.out_samplerate|0),S.iteration_init(e),k.psymodel_init(e),u(e.scale>=0),0},this.lame_encode_flush=function(e,t,n,a){var i,o,s,l,u=e.internal_flags,f=c([2,1152]),p=0,_=u.mf_samples_to_encode-g.POSTDELAY,d=q(e);if(u.mf_samples_to_encode<1)return 0;i=0,e.in_samplerate!=e.out_samplerate&&(_+=16*e.out_samplerate/e.in_samplerate),s=e.framesize-_%e.framesize,s<576&&(s+=e.framesize),e.encoder_padding=s,l=(_+s)/e.framesize;while(l>0&&p>=0){var h=d-u.mf_size,v=e.frameNum;h*=e.in_samplerate,h/=e.out_samplerate,h>1152&&(h=1152),h<1&&(h=1),o=a-i,0==a&&(o=0),p=this.lame_encode_buffer(e,f[0],f[1],h,t,n,o),n+=p,i+=p,l-=v!=e.frameNum?1:0}if(u.mf_samples_to_encode=0,p<0)return p;if(o=a-i,0==a&&(o=0),r.flush_bitstream(e),p=r.copy_buffer(u,t,n,o,1),p<0)return p;if(n+=p,i+=p,o=a-i,0==a&&(o=0),e.write_id3tag_automatic){if(A.id3tag_write_v1(e),p=r.copy_buffer(u,t,n,o,0),p<0)return p;i+=p}return i},this.lame_encode_buffer=function(e,t,n,r,a,i,o){var s=e.internal_flags,l=[null,null];if(s.Class_ID!=O)return-3;if(0==r)return 0;z(s,r),l[0]=s.in_buffer_0,l[1]=s.in_buffer_1;for(var c=0;c<r;c++)l[0][c]=t[c],s.channels_in>1&&(l[1][c]=n[c]);return Y(e,l[0],l[1],r,a,i,o)}}e.exports=y},e107:function(e,t,n){var r=n("0206"),a=r.System,i=r.VbrMode,o=(r.Float,r.ShortBlock),s=(r.Util,r.Arrays),l=(r.new_array_n,r.new_byte),c=(r.new_double,r.new_float,r.new_float_n,r.new_int,r.new_int_n,r.assert);function u(){var e,t,n;this.setModules=function(r,a,i){e=r,t=a,n=i};var r=1,f=2,p=4,_=8,d=u.NUMTOCENTRIES,h=u.MAXFRAMESIZE,v=d+4+4+4+4+4,m=v+9+1+1+8+1+1+3+1+1+2+4+2+2,b=128,g=64,y=32,w=null,S="Xing",x="Info",M=[0,49345,49537,320,49921,960,640,49729,50689,1728,1920,51009,1280,50625,50305,1088,52225,3264,3456,52545,3840,53185,52865,3648,2560,51905,52097,2880,51457,2496,2176,51265,55297,6336,6528,55617,6912,56257,55937,6720,7680,57025,57217,8e3,56577,7616,7296,56385,5120,54465,54657,5440,55041,6080,5760,54849,53761,4800,4992,54081,4352,53697,53377,4160,61441,12480,12672,61761,13056,62401,62081,12864,13824,63169,63361,14144,62721,13760,13440,62529,15360,64705,64897,15680,65281,16320,16e3,65089,64001,15040,15232,64321,14592,63937,63617,14400,10240,59585,59777,10560,60161,11200,10880,59969,60929,11968,12160,61249,11520,60865,60545,11328,58369,9408,9600,58689,9984,59329,59009,9792,8704,58049,58241,9024,57601,8640,8320,57409,40961,24768,24960,41281,25344,41921,41601,25152,26112,42689,42881,26432,42241,26048,25728,42049,27648,44225,44417,27968,44801,28608,28288,44609,43521,27328,27520,43841,26880,43457,43137,26688,30720,47297,47489,31040,47873,31680,31360,47681,48641,32448,32640,48961,32e3,48577,48257,31808,46081,29888,30080,46401,30464,47041,46721,30272,29184,45761,45953,29504,45313,29120,28800,45121,20480,37057,37249,20800,37633,21440,21120,37441,38401,22208,22400,38721,21760,38337,38017,21568,39937,23744,23936,40257,24320,40897,40577,24128,23040,39617,39809,23360,39169,22976,22656,38977,34817,18624,18816,35137,19200,35777,35457,19008,19968,36545,36737,20288,36097,19904,19584,35905,17408,33985,34177,17728,34561,18368,18048,34369,33281,17088,17280,33601,16640,33217,32897,16448];function E(e,t){if(e.nVbrNumFrames++,e.sum+=t,e.seen++,!(e.seen<e.want)&&(e.pos<e.size&&(e.bag[e.pos]=e.sum,e.pos++,e.seen=0),e.pos==e.size)){for(var n=1;n<e.size;n+=2)e.bag[n/2]=e.bag[n];e.want*=2,e.pos/=2}}function A(e,t){if(!(e.pos<=0))for(var n=1;n<d;++n){var r,a,i=n/d,o=0|Math.floor(i*e.pos);o>e.pos-1&&(o=e.pos-1),r=e.bag[o],a=e.sum;var s=0|256*r/a;s>255&&(s=255),t[n]=255&s}}function R(e,t){var n=255&e[t+0];return n<<=8,n|=255&e[t+1],n<<=8,n|=255&e[t+2],n<<=8,n|=255&e[t+3],n}function k(e,t,n){e[t+0]=255&n>>24,e[t+1]=255&n>>16,e[t+2]=255&n>>8,e[t+3]=255&n}function T(e,t,n){e[t+0]=255&n>>8,e[t+1]=255&n}function P(e,t){return new String(e,t,S.length(),w).equals(S)||new String(e,t,x.length(),w).equals(x)}function B(e,t,n){return 255&(e<<t|n&~(-1<<t))}function O(t,n){var r=t.internal_flags;n[0]=B(n[0],8,255),n[1]=B(n[1],3,7),n[1]=B(n[1],1,t.out_samplerate<16e3?0:1),n[1]=B(n[1],1,t.version),n[1]=B(n[1],2,1),n[1]=B(n[1],1,t.error_protection?0:1),n[2]=B(n[2],4,r.bitrate_index),n[2]=B(n[2],2,r.samplerate_index),n[2]=B(n[2],1,0),n[2]=B(n[2],1,t.extension),n[3]=B(n[3],2,t.mode.ordinal()),n[3]=B(n[3],2,r.mode_ext),n[3]=B(n[3],1,t.copyright),n[3]=B(n[3],1,t.original),n[3]=B(n[3],2,t.emphasis),n[0]=255;var a,o,s=241&n[1];a=1==t.version?b:t.out_samplerate<16e3?y:g,t.VBR==i.vbr_off&&(a=t.brate),o=t.free_format?0:255&16*e.BitrateIndex(a,t.version,t.out_samplerate),1==t.version?(n[1]=255&(10|s),s=13&n[2],n[2]=255&(o|s)):(n[1]=255&(2|s),s=13&n[2],n[2]=255&(o|s))}function I(e,t){var n=t^e;return t=t>>8^M[255&n],t}function j(e,t,r,a,i){var s,l,c,u=e.internal_flags,f=0,p=e.encoder_delay,_=e.encoder_padding,d=100-10*e.VBR_q-e.quality,h=n.getLameVeryShortVersion(),v=0,m=[1,5,3,2,4,0,3],b=0|(e.lowpassfreq/100+.5>255?255:e.lowpassfreq/100+.5),g=0,y=0,w=0,S=e.internal_flags.noise_shaping,x=0,M=0,E=0,A=0,R=0,P=0!=(1&e.exp_nspsytune),B=0!=(2&e.exp_nspsytune),O=!1,j=!1,D=e.internal_flags.nogap_total,L=e.internal_flags.nogap_current,C=e.ATHtype,V=0;switch(e.VBR){case vbr_abr:c=e.VBR_mean_bitrate_kbps;break;case vbr_off:c=e.brate;break;default:c=e.VBR_min_bitrate_kbps}switch(s=e.VBR.ordinal()<m.length?m[e.VBR.ordinal()]:0,l=16*v+s,u.findReplayGain&&(u.RadioGain>510&&(u.RadioGain=510),u.RadioGain<-510&&(u.RadioGain=-510),y=8192,y|=3072,u.RadioGain>=0?y|=u.RadioGain:(y|=512,y|=-u.RadioGain)),u.findPeakSample&&(g=Math.abs(0|u.PeakSample/32767*Math.pow(2,23)+.5)),-1!=D&&(L>0&&(j=!0),L<D-1&&(O=!0)),V=C+((P?1:0)<<4)+((B?1:0)<<5)+((O?1:0)<<6)+((j?1:0)<<7),d<0&&(d=0),e.mode){case MONO:x=0;break;case STEREO:x=1;break;case DUAL_CHANNEL:x=2;break;case JOINT_STEREO:x=e.force_ms?4:3;break;case NOT_SET:default:x=7;break}E=e.in_samplerate<=32e3?0:48e3==e.in_samplerate?2:e.in_samplerate>48e3?3:1,(e.short_blocks==o.short_block_forced||e.short_blocks==o.short_block_dispensed||-1==e.lowpassfreq&&-1==e.highpassfreq||e.scale_left<e.scale_right||e.scale_left>e.scale_right||e.disable_reservoir&&e.brate<320||e.noATH||e.ATHonly||0==C||e.in_samplerate<=32e3)&&(M=1),A=S+(x<<2)+(M<<5)+(E<<6),R=u.nMusicCRC,k(r,a+f,d),f+=4;for(var N=0;N<9;N++)r[a+f+N]=255&h.charAt(N);f+=9,r[a+f]=255&l,f++,r[a+f]=255&b,f++,k(r,a+f,g),f+=4,T(r,a+f,y),f+=2,T(r,a+f,w),f+=2,r[a+f]=255&V,f++,r[a+f]=c>=255?255:255&c,f++,r[a+f]=255&p>>4,r[a+f+1]=255&(p<<4)+(_>>8),r[a+f+2]=255&_,f+=3,r[a+f]=255&A,f++,r[a+f++]=0,T(r,a+f,e.preset),f+=2,k(r,a+f,t),f+=4,T(r,a+f,R),f+=2;for(var H=0;H<f;H++)i=I(r[a+H],i);return T(r,a+f,i),f+=2,f}function D(e){e.seek(0);var t,n=l(10);return e.readFully(n),t=new String(n,"ISO-8859-1").startsWith("ID3")?0:((127&n[6])<<21|(127&n[7])<<14|(127&n[8])<<7|127&n[9])+n.length,t}this.addVbrFrame=function(e){var t=e.internal_flags,n=Tables.bitrate_table[e.version][t.bitrate_index];c(null!=t.VBR_seek_table.bag),E(t.VBR_seek_table,n)},this.getVbrTag=function(e){var t=new VBRTagData,n=0;t.flags=0;var a=e[n+1]>>3&1,i=e[n+2]>>2&3,o=e[n+3]>>6&3,s=e[n+2]>>4&15;if(s=Tables.bitrate_table[a][s],e[n+1]>>4==14?t.samprate=Tables.samplerate_table[2][i]:t.samprate=Tables.samplerate_table[a][i],n+=0!=a?3!=o?36:21:3!=o?21:13,!P(e,n))return null;n+=4,t.hId=a;var l=t.flags=R(e,n);if(n+=4,0!=(l&r)&&(t.frames=R(e,n),n+=4),0!=(l&f)&&(t.bytes=R(e,n),n+=4),0!=(l&p)){if(null!=t.toc)for(var c=0;c<d;c++)t.toc[c]=e[n+c];n+=d}t.vbrScale=-1,0!=(l&_)&&(t.vbrScale=R(e,n),n+=4),t.headersize=72e3*(a+1)*s/t.samprate,n+=21;var u=e[n+0]<<4;u+=e[n+1]>>4;var h=(15&e[n+1])<<8;return h+=255&e[n+2],(u<0||u>3e3)&&(u=-1),(h<0||h>3e3)&&(h=-1),t.encDelay=u,t.encPadding=h,t},this.InitVbrTag=function(e){var n,r=e.internal_flags;n=1==e.version?b:e.out_samplerate<16e3?y:g,e.VBR==i.vbr_off&&(n=e.brate);var a=72e3*(e.version+1)*n/e.out_samplerate,o=r.sideinfo_len+m;if(r.VBR_seek_table.TotalFrameSize=a,a<o||a>h)e.bWriteVbrTag=!1;else{r.VBR_seek_table.nVbrNumFrames=0,r.VBR_seek_table.nBytesWritten=0,r.VBR_seek_table.sum=0,r.VBR_seek_table.seen=0,r.VBR_seek_table.want=1,r.VBR_seek_table.pos=0,null==r.VBR_seek_table.bag&&(r.VBR_seek_table.bag=new int[400],r.VBR_seek_table.size=400);var s=l(h);O(e,s);for(var c=r.VBR_seek_table.TotalFrameSize,u=0;u<c;++u)t.add_dummy_byte(e,255&s[u],1)}},this.updateMusicCRC=function(e,t,n,r){for(var a=0;a<r;++a)e[0]=I(t[n+a],e[0])},this.getLameTagFrame=function(e,n){var o=e.internal_flags;if(!e.bWriteVbrTag)return 0;if(o.Class_ID!=Lame.LAME_ID)return 0;if(o.VBR_seek_table.pos<=0)return 0;if(n.length<o.VBR_seek_table.TotalFrameSize)return o.VBR_seek_table.TotalFrameSize;s.fill(n,0,o.VBR_seek_table.TotalFrameSize,0),O(e,n);var c=l(d);if(e.free_format)for(var u=1;u<d;++u)c[u]=255&255*u/100;else A(o.VBR_seek_table,c);var h=o.sideinfo_len;e.error_protection&&(h-=2),e.VBR==i.vbr_off?(n[h++]=255&x.charAt(0),n[h++]=255&x.charAt(1),n[h++]=255&x.charAt(2),n[h++]=255&x.charAt(3)):(n[h++]=255&S.charAt(0),n[h++]=255&S.charAt(1),n[h++]=255&S.charAt(2),n[h++]=255&S.charAt(3)),k(n,h,r+f+p+_),h+=4,k(n,h,o.VBR_seek_table.nVbrNumFrames),h+=4;var v=o.VBR_seek_table.nBytesWritten+o.VBR_seek_table.TotalFrameSize;k(n,h,0|v),h+=4,a.arraycopy(c,0,n,h,c.length),h+=c.length,e.error_protection&&t.CRC_writeheader(o,n);var m=0;for(u=0;u<h;u++)m=I(n[u],m);return h+=j(e,v,n,h,m),o.VBR_seek_table.TotalFrameSize},this.putVbrTag=function(e,t){var n=e.internal_flags;if(n.VBR_seek_table.pos<=0)return-1;if(t.seek(t.length()),0==t.length())return-1;var r=D(t);t.seek(r);var a=l(h),i=getLameTagFrame(e,a);return i>a.length?-1:(i<1||t.write(a,0,i),0)}}u.NUMTOCENTRIES=100,u.MAXFRAMESIZE=2880,e.exports=u},e439:function(e,t,n){var r=n("23e7"),a=n("d039"),i=n("fc6a"),o=n("06cf").f,s=n("83ab"),l=a((function(){o(1)})),c=!s||l;r({target:"Object",stat:!0,forced:c,sham:!s},{getOwnPropertyDescriptor:function(e,t){return o(i(e),t)}})},f052:function(e,t){function n(e){this.bits=e}e.exports=n},f26d:function(e,t,n){var r=n("a1b7");function a(){this.thm=new r,this.en=new r}e.exports=a},f3b5:function(e,t,n){var r=n("0206"),a=(r.System,r.VbrMode,r.Float,r.ShortBlock,r.Util,r.Arrays,r.new_array_n,r.new_byte,r.new_double,r.new_float),i=(r.new_float_n,r.new_int),o=(r.new_int_n,r.assert,n("9828"));function s(){this.xr=a(576),this.l3_enc=i(576),this.scalefac=i(o.SFBMAX),this.xrpow_max=0,this.part2_3_length=0,this.big_values=0,this.count1=0,this.global_gain=0,this.scalefac_compress=0,this.block_type=0,this.mixed_block_flag=0,this.table_select=i(3),this.subblock_gain=i(4),this.region0_count=0,this.region1_count=0,this.preflag=0,this.scalefac_scale=0,this.count1table_select=0,this.part2_length=0,this.sfb_lmax=0,this.sfb_smin=0,this.psy_lmax=0,this.sfbmax=0,this.psymax=0,this.sfbdivide=0,this.width=i(o.SFBMAX),this.window=i(o.SFBMAX),this.count1bits=0,this.sfb_partition_table=null,this.slen=i(4),this.max_nonzero_coeff=0;var e=this;function t(e){return new Int32Array(e)}function n(e){return new Float32Array(e)}this.assign=function(r){e.xr=n(r.xr),e.l3_enc=t(r.l3_enc),e.scalefac=t(r.scalefac),e.xrpow_max=r.xrpow_max,e.part2_3_length=r.part2_3_length,e.big_values=r.big_values,e.count1=r.count1,e.global_gain=r.global_gain,e.scalefac_compress=r.scalefac_compress,e.block_type=r.block_type,e.mixed_block_flag=r.mixed_block_flag,e.table_select=t(r.table_select),e.subblock_gain=t(r.subblock_gain),e.region0_count=r.region0_count,e.region1_count=r.region1_count,e.preflag=r.preflag,e.scalefac_scale=r.scalefac_scale,e.count1table_select=r.count1table_select,e.part2_length=r.part2_length,e.sfb_lmax=r.sfb_lmax,e.sfb_smin=r.sfb_smin,e.psy_lmax=r.psy_lmax,e.sfbmax=r.sfbmax,e.psymax=r.psymax,e.sfbdivide=r.sfbdivide,e.width=t(r.width),e.window=t(r.window),e.count1bits=r.count1bits,e.sfb_partition_table=r.sfb_partition_table.slice(0),e.slen=t(r.slen),e.max_nonzero_coeff=r.max_nonzero_coeff}}e.exports=s},f3e2:function(e,t,n){var r=n("0206"),a=r.System,i=(r.VbrMode,r.Float,r.ShortBlock,r.Util),o=r.Arrays,s=(r.new_array_n,r.new_byte,r.new_double,r.new_float),l=(r.new_float_n,r.new_int,r.new_int_n,r.assert,n("4b5e"));function c(){var e=[-.1482523854003001,32.308141959636465,296.40344946382766,883.1344870032432,11113.947376231741,1057.2713659324597,305.7402417275812,30.825928907280012,3.8533188138216365,59.42900443849514,709.5899960123345,5281.91112291017,-5829.66483675846,-817.6293103748613,-76.91656988279972,-4.594269939176596,.9063471690191471,.1960342806591213,-.15466694054279598,34.324387823855965,301.8067566458425,817.599602898885,11573.795901679885,1181.2520595540152,321.59731579894424,31.232021761053772,3.7107095756221318,53.650946155329365,684.167428119626,5224.56624370173,-6366.391851890084,-908.9766368219582,-89.83068876699639,-5.411397422890401,.8206787908286602,.3901806440322567,-.16070888947830023,36.147034243915876,304.11815768187864,732.7429163887613,11989.60988270091,1300.012278487897,335.28490093152146,31.48816102859945,3.373875931311736,47.232241542899175,652.7371796173471,5132.414255594984,-6909.087078780055,-1001.9990371107289,-103.62185754286375,-6.104916304710272,.7416505462720353,.5805693545089249,-.16636367662261495,37.751650073343995,303.01103387567713,627.9747488785183,12358.763425278165,1412.2779918482834,346.7496836825721,31.598286663170416,3.1598635433980946,40.57878626349686,616.1671130880391,5007.833007176154,-7454.040671756168,-1095.7960341867115,-118.24411666465777,-6.818469345853504,.6681786379192989,.7653668647301797,-.1716176790982088,39.11551877123304,298.3413246578966,503.5259106886539,12679.589408408976,1516.5821921214542,355.9850766329023,31.395241710249053,2.9164211881972335,33.79716964664243,574.8943997801362,4853.234992253242,-7997.57021486075,-1189.7624067269965,-133.6444792601766,-7.7202770609839915,.5993769336819237,.9427934736519954,-.17645823955292173,40.21879108166477,289.9982036694474,359.3226160751053,12950.259102786438,1612.1013903507662,362.85067106591504,31.045922092242872,2.822222032597987,26.988862316190684,529.8996541764288,4671.371946949588,-8535.899136645805,-1282.5898586244496,-149.58553632943463,-8.643494270763135,.5345111359507916,1.111140466039205,-.36174739330527045,41.04429910497807,277.5463268268618,195.6386023135583,13169.43812144731,1697.6433561479398,367.40983966190305,30.557037410382826,2.531473372857427,20.070154905927314,481.50208566532336,4464.970341588308,-9065.36882077239,-1373.62841526722,-166.1660487028118,-9.58289321133207,.4729647758913199,1.268786568327291,-.36970682634889585,41.393213350082036,261.2935935556502,12.935476055240873,13336.131683328815,1772.508612059496,369.76534388639965,29.751323653701338,2.4023193045459172,13.304795348228817,430.5615775526625,4237.0568611071185,-9581.931701634761,-1461.6913552409758,-183.12733958476446,-10.718010163869403,.41421356237309503,1.414213562373095,-.37677560326535325,41.619486213528496,241.05423794991074,-187.94665032361226,13450.063605744153,1836.153896465782,369.4908799925761,29.001847876923147,2.0714759319987186,6.779591200894186,377.7767837205709,3990.386575512536,-10081.709459700915,-1545.947424837898,-200.3762958015653,-11.864482073055006,.3578057213145241,1.546020906725474,-.3829366947518991,41.1516456456653,216.47684307105183,-406.1569483347166,13511.136535077321,1887.8076599260432,367.3025214564151,28.136213436723654,1.913880671464418,.3829366947518991,323.85365704338597,3728.1472257487526,-10561.233882199509,-1625.2025997821418,-217.62525175416,-13.015432208941645,.3033466836073424,1.66293922460509,-.5822628872992417,40.35639251440489,188.20071124269245,-640.2706748618148,13519.21490106562,1927.6022433578062,362.8197642637487,26.968821921868447,1.7463817695935329,-5.62650678237171,269.3016715297017,3453.386536448852,-11016.145278780888,-1698.6569643425091,-234.7658734267683,-14.16351421663124,.2504869601913055,1.76384252869671,-.5887180101749253,39.23429103868072,155.76096234403798,-889.2492977967378,13475.470561874661,1955.0535223723712,356.4450994756727,25.894952980042156,1.5695032905781554,-11.181939564328772,214.80884394039484,3169.1640829158237,-11443.321309975563,-1765.1588461316153,-251.68908574481912,-15.49755935939164,.198912367379658,1.847759065022573,-.7912582233652842,37.39369355329111,119.699486012458,-1151.0956593239027,13380.446257078214,1970.3952110853447,348.01959814116185,24.731487364283044,1.3850130831637748,-16.421408865300393,161.05030052864092,2878.3322807850063,-11838.991423510031,-1823.985884688674,-268.2854986386903,-16.81724543849939,.1483359875383474,1.913880671464418,-.7960642926861912,35.2322109610459,80.01928065061526,-1424.0212633405113,13235.794061869668,1973.804052543835,337.9908651258184,23.289159354463873,1.3934255946442087,-21.099669467133474,108.48348407242611,2583.700758091299,-12199.726194855148,-1874.2780658979746,-284.2467154529415,-18.11369784385905,.09849140335716425,1.961570560806461,-.998795456205172,32.56307803611191,36.958364584370486,-1706.075448829146,13043.287458812016,1965.3831106103316,326.43182772364605,22.175018750622293,1.198638339011324,-25.371248002043963,57.53505923036915,2288.41886619975,-12522.674544337233,-1914.8400385312243,-299.26241273417224,-19.37805630698734,.04912684976946725,1.990369453344394,.035780907*i.SQRT2*.5/2384e-9,.017876148*i.SQRT2*.5/2384e-9,.003134727*i.SQRT2*.5/2384e-9,.002457142*i.SQRT2*.5/2384e-9,971317e-9*i.SQRT2*.5/2384e-9,218868e-9*i.SQRT2*.5/2384e-9,101566e-9*i.SQRT2*.5/2384e-9,13828e-9*i.SQRT2*.5/2384e-9,12804.797818791945,1945.5515939597317,313.4244966442953,20.801593959731544,1995.1556208053692,9.000838926174497,-29.20218120805369],t=12,n=36,r=[[2382191739347913e-28,6423305872147834e-28,9400849094049688e-28,1122435026096556e-27,1183840321267481e-27,1122435026096556e-27,940084909404969e-27,6423305872147839e-28,2382191739347918e-28,5456116108943412e-27,4878985199565852e-27,4240448995017367e-27,3559909094758252e-27,2858043359288075e-27,2156177623817898e-27,1475637723558783e-27,8371015190102974e-28,2599706096327376e-28,-5456116108943412e-27,-4878985199565852e-27,-4240448995017367e-27,-3559909094758252e-27,-2858043359288076e-27,-2156177623817898e-27,-1475637723558783e-27,-8371015190102975e-28,-2599706096327376e-28,-2382191739347923e-28,-6423305872147843e-28,-9400849094049696e-28,-1122435026096556e-27,-1183840321267481e-27,-1122435026096556e-27,-9400849094049694e-28,-642330587214784e-27,-2382191739347918e-28],[2382191739347913e-28,6423305872147834e-28,9400849094049688e-28,1122435026096556e-27,1183840321267481e-27,1122435026096556e-27,9400849094049688e-28,6423305872147841e-28,2382191739347918e-28,5456116108943413e-27,4878985199565852e-27,4240448995017367e-27,3559909094758253e-27,2858043359288075e-27,2156177623817898e-27,1475637723558782e-27,8371015190102975e-28,2599706096327376e-28,-5461314069809755e-27,-4921085770524055e-27,-4343405037091838e-27,-3732668368707687e-27,-3093523840190885e-27,-2430835727329465e-27,-1734679010007751e-27,-974825365660928e-27,-2797435120168326e-28,0,0,0,0,0,0,-2283748241799531e-28,-4037858874020686e-28,-2146547464825323e-28],[.1316524975873958,.414213562373095,.7673269879789602,1.091308501069271,1.303225372841206,1.56968557711749,1.920982126971166,2.414213562373094,3.171594802363212,4.510708503662055,7.595754112725146,22.90376554843115,.984807753012208,.6427876096865394,.3420201433256688,.9396926207859084,-.1736481776669303,-.7660444431189779,.8660254037844387,.5,-.5144957554275265,-.4717319685649723,-.3133774542039019,-.1819131996109812,-.09457419252642064,-.04096558288530405,-.01419856857247115,-.003699974673760037,.8574929257125442,.8817419973177052,.9496286491027329,.9833145924917901,.9955178160675857,.9991605581781475,.999899195244447,.9999931550702802],[0,0,0,0,0,0,2283748241799531e-28,4037858874020686e-28,2146547464825323e-28,5461314069809755e-27,4921085770524055e-27,4343405037091838e-27,3732668368707687e-27,3093523840190885e-27,2430835727329466e-27,1734679010007751e-27,974825365660928e-27,2797435120168326e-28,-5456116108943413e-27,-4878985199565852e-27,-4240448995017367e-27,-3559909094758253e-27,-2858043359288075e-27,-2156177623817898e-27,-1475637723558782e-27,-8371015190102975e-28,-2599706096327376e-28,-2382191739347913e-28,-6423305872147834e-28,-9400849094049688e-28,-1122435026096556e-27,-1183840321267481e-27,-1122435026096556e-27,-9400849094049688e-28,-6423305872147841e-28,-2382191739347918e-28]],c=r[l.SHORT_TYPE],u=r[l.SHORT_TYPE],f=r[l.SHORT_TYPE],p=r[l.SHORT_TYPE],_=[0,1,16,17,8,9,24,25,4,5,20,21,12,13,28,29,2,3,18,19,10,11,26,27,6,7,22,23,14,15,30,31];function d(t,n,r){for(var a,o,s,l=10,c=n+238-14-286,u=-15;u<0;u++){var f,p,_;f=e[l+-10],p=t[c+-224]*f,_=t[n+224]*f,f=e[l+-9],p+=t[c+-160]*f,_+=t[n+160]*f,f=e[l+-8],p+=t[c+-96]*f,_+=t[n+96]*f,f=e[l+-7],p+=t[c+-32]*f,_+=t[n+32]*f,f=e[l+-6],p+=t[c+32]*f,_+=t[n+-32]*f,f=e[l+-5],p+=t[c+96]*f,_+=t[n+-96]*f,f=e[l+-4],p+=t[c+160]*f,_+=t[n+-160]*f,f=e[l+-3],p+=t[c+224]*f,_+=t[n+-224]*f,f=e[l+-2],p+=t[n+-256]*f,_-=t[c+256]*f,f=e[l+-1],p+=t[n+-192]*f,_-=t[c+192]*f,f=e[l+0],p+=t[n+-128]*f,_-=t[c+128]*f,f=e[l+1],p+=t[n+-64]*f,_-=t[c+64]*f,f=e[l+2],p+=t[n+0]*f,_-=t[c+0]*f,f=e[l+3],p+=t[n+64]*f,_-=t[c+-64]*f,f=e[l+4],p+=t[n+128]*f,_-=t[c+-128]*f,f=e[l+5],p+=t[n+192]*f,_-=t[c+-192]*f,p*=e[l+6],f=_-p,r[30+2*u]=_+p,r[31+2*u]=e[l+7]*f,l+=18,n--,c++}_=t[n+-16]*e[l+-10],p=t[n+-32]*e[l+-2],_+=(t[n+-48]-t[n+16])*e[l+-9],p+=t[n+-96]*e[l+-1],_+=(t[n+-80]+t[n+48])*e[l+-8],p+=t[n+-160]*e[l+0],_+=(t[n+-112]-t[n+80])*e[l+-7],p+=t[n+-224]*e[l+1],_+=(t[n+-144]+t[n+112])*e[l+-6],p-=t[n+32]*e[l+2],_+=(t[n+-176]-t[n+144])*e[l+-5],p-=t[n+96]*e[l+3],_+=(t[n+-208]+t[n+176])*e[l+-4],p-=t[n+160]*e[l+4],_+=(t[n+-240]-t[n+208])*e[l+-3],p-=t[n+224],a=p-_,o=p+_,_=r[14],p=r[15]-_,r[31]=o+_,r[30]=a+p,r[15]=a-p,r[14]=o-_,s=r[28]-r[0],r[0]+=r[28],r[28]=s*e[l+-36+7],s=r[29]-r[1],r[1]+=r[29],r[29]=s*e[l+-36+7],s=r[26]-r[2],r[2]+=r[26],r[26]=s*e[l+-72+7],s=r[27]-r[3],r[3]+=r[27],r[27]=s*e[l+-72+7],s=r[24]-r[4],r[4]+=r[24],r[24]=s*e[l+-108+7],s=r[25]-r[5],r[5]+=r[25],r[25]=s*e[l+-108+7],s=r[22]-r[6],r[6]+=r[22],r[22]=s*i.SQRT2,s=r[23]-r[7],r[7]+=r[23],r[23]=s*i.SQRT2-r[7],r[7]-=r[6],r[22]-=r[7],r[23]-=r[22],s=r[6],r[6]=r[31]-s,r[31]=r[31]+s,s=r[7],r[7]=r[30]-s,r[30]=r[30]+s,s=r[22],r[22]=r[15]-s,r[15]=r[15]+s,s=r[23],r[23]=r[14]-s,r[14]=r[14]+s,s=r[20]-r[8],r[8]+=r[20],r[20]=s*e[l+-180+7],s=r[21]-r[9],r[9]+=r[21],r[21]=s*e[l+-180+7],s=r[18]-r[10],r[10]+=r[18],r[18]=s*e[l+-216+7],s=r[19]-r[11],r[11]+=r[19],r[19]=s*e[l+-216+7],s=r[16]-r[12],r[12]+=r[16],r[16]=s*e[l+-252+7],s=r[17]-r[13],r[13]+=r[17],r[17]=s*e[l+-252+7],s=-r[20]+r[24],r[20]+=r[24],r[24]=s*e[l+-216+7],s=-r[21]+r[25],r[21]+=r[25],r[25]=s*e[l+-216+7],s=r[4]-r[8],r[4]+=r[8],r[8]=s*e[l+-216+7],s=r[5]-r[9],r[5]+=r[9],r[9]=s*e[l+-216+7],s=r[0]-r[12],r[0]+=r[12],r[12]=s*e[l+-72+7],s=r[1]-r[13],r[1]+=r[13],r[13]=s*e[l+-72+7],s=r[16]-r[28],r[16]+=r[28],r[28]=s*e[l+-72+7],s=-r[17]+r[29],r[17]+=r[29],r[29]=s*e[l+-72+7],s=i.SQRT2*(r[2]-r[10]),r[2]+=r[10],r[10]=s,s=i.SQRT2*(r[3]-r[11]),r[3]+=r[11],r[11]=s,s=i.SQRT2*(-r[18]+r[26]),r[18]+=r[26],r[26]=s-r[18],s=i.SQRT2*(-r[19]+r[27]),r[19]+=r[27],r[27]=s-r[19],s=r[2],r[19]-=r[3],r[3]-=s,r[2]=r[31]-s,r[31]+=s,s=r[3],r[11]-=r[19],r[18]-=s,r[3]=r[30]-s,r[30]+=s,s=r[18],r[27]-=r[11],r[19]-=s,r[18]=r[15]-s,r[15]+=s,s=r[19],r[10]-=s,r[19]=r[14]-s,r[14]+=s,s=r[10],r[11]-=s,r[10]=r[23]-s,r[23]+=s,s=r[11],r[26]-=s,r[11]=r[22]-s,r[22]+=s,s=r[26],r[27]-=s,r[26]=r[7]-s,r[7]+=s,s=r[27],r[27]=r[6]-s,r[6]+=s,s=i.SQRT2*(r[0]-r[4]),r[0]+=r[4],r[4]=s,s=i.SQRT2*(r[1]-r[5]),r[1]+=r[5],r[5]=s,s=i.SQRT2*(r[16]-r[20]),r[16]+=r[20],r[20]=s,s=i.SQRT2*(r[17]-r[21]),r[17]+=r[21],r[21]=s,s=-i.SQRT2*(r[8]-r[12]),r[8]+=r[12],r[12]=s-r[8],s=-i.SQRT2*(r[9]-r[13]),r[9]+=r[13],r[13]=s-r[9],s=-i.SQRT2*(r[25]-r[29]),r[25]+=r[29],r[29]=s-r[25],s=-i.SQRT2*(r[24]+r[28]),r[24]-=r[28],r[28]=s-r[24],s=r[24]-r[16],r[24]=s,s=r[20]-s,r[20]=s,s=r[28]-s,r[28]=s,s=r[25]-r[17],r[25]=s,s=r[21]-s,r[21]=s,s=r[29]-s,r[29]=s,s=r[17]-r[1],r[17]=s,s=r[9]-s,r[9]=s,s=r[25]-s,r[25]=s,s=r[5]-s,r[5]=s,s=r[21]-s,r[21]=s,s=r[13]-s,r[13]=s,s=r[29]-s,r[29]=s,s=r[1]-r[0],r[1]=s,s=r[16]-s,r[16]=s,s=r[17]-s,r[17]=s,s=r[8]-s,r[8]=s,s=r[9]-s,r[9]=s,s=r[24]-s,r[24]=s,s=r[25]-s,r[25]=s,s=r[4]-s,r[4]=s,s=r[5]-s,r[5]=s,s=r[20]-s,r[20]=s,s=r[21]-s,r[21]=s,s=r[12]-s,r[12]=s,s=r[13]-s,r[13]=s,s=r[28]-s,r[28]=s,s=r[29]-s,r[29]=s,s=r[0],r[0]+=r[31],r[31]-=s,s=r[1],r[1]+=r[30],r[30]-=s,s=r[16],r[16]+=r[15],r[15]-=s,s=r[17],r[17]+=r[14],r[14]-=s,s=r[8],r[8]+=r[23],r[23]-=s,s=r[9],r[9]+=r[22],r[22]-=s,s=r[24],r[24]+=r[7],r[7]-=s,s=r[25],r[25]+=r[6],r[6]-=s,s=r[4],r[4]+=r[27],r[27]-=s,s=r[5],r[5]+=r[26],r[26]-=s,s=r[20],r[20]+=r[11],r[11]-=s,s=r[21],r[21]+=r[10],r[10]-=s,s=r[12],r[12]+=r[19],r[19]-=s,s=r[13],r[13]+=r[18],r[18]-=s,s=r[28],r[28]+=r[3],r[3]-=s,s=r[29],r[29]+=r[2],r[2]-=s}function h(e,t){for(var n=0;n<3;n++){var a,i,o,s,c,u;s=e[t+6]*r[l.SHORT_TYPE][0]-e[t+15],a=e[t+0]*r[l.SHORT_TYPE][2]-e[t+9],i=s+a,o=s-a,s=e[t+15]*r[l.SHORT_TYPE][0]+e[t+6],a=e[t+9]*r[l.SHORT_TYPE][2]+e[t+0],c=s+a,u=-s+a,a=2069978111953089e-26*(e[t+3]*r[l.SHORT_TYPE][1]-e[t+12]),s=2069978111953089e-26*(e[t+12]*r[l.SHORT_TYPE][1]+e[t+3]),e[t+0]=190752519173728e-25*i+a,e[t+15]=190752519173728e-25*-c+s,o=.8660254037844387*o*1907525191737281e-26,c=.5*c*1907525191737281e-26+s,e[t+3]=o-c,e[t+6]=o+c,i=.5*i*1907525191737281e-26-a,u=.8660254037844387*u*1907525191737281e-26,e[t+9]=i+u,e[t+12]=i-u,t++}}function v(e,t,n){var r,a,i,o,s,l,c,f,p,_,d,h,v,m,b,g,y,w;i=n[17]-n[9],s=n[15]-n[11],l=n[14]-n[12],c=n[0]+n[8],f=n[1]+n[7],p=n[2]+n[6],_=n[3]+n[5],e[t+17]=c+p-_-(f-n[4]),a=(c+p-_)*u[19]+(f-n[4]),r=(i-s-l)*u[18],e[t+5]=r+a,e[t+6]=r-a,o=(n[16]-n[10])*u[18],f=f*u[19]+n[4],r=i*u[12]+o+s*u[13]+l*u[14],a=-c*u[16]+f-p*u[17]+_*u[15],e[t+1]=r+a,e[t+2]=r-a,r=i*u[13]-o-s*u[14]+l*u[12],a=-c*u[17]+f-p*u[15]+_*u[16],e[t+9]=r+a,e[t+10]=r-a,r=i*u[14]-o+s*u[12]-l*u[13],a=c*u[15]-f+p*u[16]-_*u[17],e[t+13]=r+a,e[t+14]=r-a,d=n[8]-n[0],v=n[6]-n[2],m=n[5]-n[3],b=n[17]+n[9],g=n[16]+n[10],y=n[15]+n[11],w=n[14]+n[12],e[t+0]=b+y+w+(g+n[13]),r=(b+y+w)*u[19]-(g+n[13]),a=(d-v+m)*u[18],e[t+11]=r+a,e[t+12]=r-a,h=(n[7]-n[1])*u[18],g=n[13]-g*u[19],r=b*u[15]-g+y*u[16]+w*u[17],a=d*u[14]+h+v*u[12]+m*u[13],e[t+3]=r+a,e[t+4]=r-a,r=-b*u[17]+g-y*u[15]-w*u[16],a=d*u[13]+h-v*u[14]-m*u[12],e[t+7]=r+a,e[t+8]=r-a,r=-b*u[16]+g-y*u[17]-w*u[15],a=d*u[12]-h+v*u[13]-m*u[14],e[t+15]=r+a,e[t+16]=r-a}this.mdct_sub48=function(e,i,u){for(var m=i,b=286,g=0;g<e.channels_out;g++){for(var y=0;y<e.mode_gr;y++){for(var w,S=e.l3_side.tt[y][g],x=S.xr,M=0,E=e.sb_sample[g][1-y],A=0,R=0;R<9;R++)for(d(m,b,E[A]),d(m,b+32,E[A+1]),A+=2,b+=64,w=1;w<32;w+=2)E[A-1][w]*=-1;for(w=0;w<32;w++,M+=18){var k=S.block_type,T=e.sb_sample[g][y],P=e.sb_sample[g][1-y];if(0!=S.mixed_block_flag&&w<2&&(k=0),e.amp_filter[w]<1e-12)o.fill(x,M+0,M+18,0);else{if(e.amp_filter[w]<1)for(R=0;R<18;R++)P[R][_[w]]*=e.amp_filter[w];if(k==l.SHORT_TYPE){for(R=-t/4;R<0;R++){var B=r[l.SHORT_TYPE][R+3];x[M+3*R+9]=T[9+R][_[w]]*B-T[8-R][_[w]],x[M+3*R+18]=T[14-R][_[w]]*B+T[15+R][_[w]],x[M+3*R+10]=T[15+R][_[w]]*B-T[14-R][_[w]],x[M+3*R+19]=P[2-R][_[w]]*B+P[3+R][_[w]],x[M+3*R+11]=P[3+R][_[w]]*B-P[2-R][_[w]],x[M+3*R+20]=P[8-R][_[w]]*B+P[9+R][_[w]]}h(x,M)}else{var O=s(18);for(R=-n/4;R<0;R++){var I,j;I=r[k][R+27]*P[R+9][_[w]]+r[k][R+36]*P[8-R][_[w]],j=r[k][R+9]*T[R+9][_[w]]-r[k][R+18]*T[8-R][_[w]],O[R+9]=I-j*c[3+R+9],O[R+18]=I*c[3+R+9]+j}v(x,M,O)}}if(k!=l.SHORT_TYPE&&0!=w)for(R=7;R>=0;--R){var D,L;D=x[M+R]*f[20+R]+x[M+-1-R]*p[28+R],L=x[M+R]*p[28+R]-x[M+-1-R]*f[20+R],x[M+-1-R]=D,x[M+R]=L}}}if(m=u,b=286,1==e.mode_gr)for(var C=0;C<18;C++)a.arraycopy(e.sb_sample[g][1][C],0,e.sb_sample[g][0][C],0,32)}}}e.exports=c},ff81:function(e,t,n){var r=n("0206"),a=r.System,i=(r.VbrMode,r.Float,r.ShortBlock,r.Util,r.Arrays,r.new_array_n,r.new_byte,r.new_double,r.new_float,r.new_float_n,r.new_int),o=(r.new_int_n,r.assert,n("4b5e"));function s(e,t,n,r){this.l=i(1+o.SBMAX_l),this.s=i(1+o.SBMAX_s),this.psfb21=i(1+o.PSFB21),this.psfb12=i(1+o.PSFB12);var s=this.l,l=this.s;4==arguments.length&&(this.arrL=arguments[0],this.arrS=arguments[1],this.arr21=arguments[2],this.arr12=arguments[3],a.arraycopy(this.arrL,0,s,0,Math.min(this.arrL.length,this.l.length)),a.arraycopy(this.arrS,0,l,0,Math.min(this.arrS.length,this.s.length)),a.arraycopy(this.arr21,0,this.psfb21,0,Math.min(this.arr21.length,this.psfb21.length)),a.arraycopy(this.arr12,0,this.psfb12,0,Math.min(this.arr12.length,this.psfb12.length)))}e.exports=s}}]);
//# sourceMappingURL=chunk-dff06bd0.eafc6bc8.js.map